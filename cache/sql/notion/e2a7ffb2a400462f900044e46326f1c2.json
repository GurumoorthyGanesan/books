{
  "ID": "e2a7ffb2-a400-462f-9000-44e46326f1c2",
  "Root": {
    "alive": true,
    "content": [
      "2f16b093-1e96-49d3-976f-2c4b6c0c0ad8",
      "65e08426-736b-4e07-933c-da0f872a7471",
      "4c1ca0f8-a2aa-44f4-b35e-04f7f1084504",
      "57e4f649-bbd0-4500-a220-e59caf844a86",
      "0593de0f-698d-41d5-ad5f-2e6036d0e32b",
      "b2af6fa4-b1b3-4925-bacb-8caacd9634e4",
      "5333def7-e967-4ddf-a645-44a82683a344",
      "1ff14743-5e17-41b9-9ae3-177990aee51e",
      "702289d4-0ef5-4484-845c-ee0884c2f670",
      "fcdec837-6d7f-495f-b908-3dd0346e61cc",
      "ab377d2c-669d-498a-b3c4-3c9d720c2b21",
      "37fec3ea-79ce-498c-bc4d-2470cc3a82a7",
      "8a6948bc-4c33-49f1-b5c1-5ddbf7d37d7a",
      "64b7e3a3-cf95-4ec2-b260-6308d94d21c1",
      "61644452-986b-43c7-926b-7acd200176b2"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1550458129316,
    "id": "e2a7ffb2-a400-462f-9000-44e46326f1c2",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1550458129316,
    "parent_id": "b7de7c35-4291-410d-a6e3-451eb8a8e8a5",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "040 DELETE certain rows based upon comparisons with other tables"
        ]
      ]
    },
    "type": "page",
    "version": 1,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550458129312,
        "id": "2f16b093-1e96-49d3-976f-2c4b6c0c0ad8",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550458129312,
        "parent_id": "e2a7ffb2-a400-462f-9000-44e46326f1c2",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "It is possible to "
            ],
            [
              "DELETE",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " data from a table if it matches (or mismatches) certain data in other tables."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "It is possible to "
          },
          {
            "Text": "DELETE",
            "AttrFlags": 2
          },
          {
            "Text": " data from a table if it matches (or mismatches) certain data in other tables."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550458129314,
        "id": "65e08426-736b-4e07-933c-da0f872a7471",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550458129314,
        "parent_id": "e2a7ffb2-a400-462f-9000-44e46326f1c2",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Let’s assume we want to "
            ],
            [
              "DELETE",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "data from Source once its loaded into Target."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Let’s assume we want to "
          },
          {
            "Text": "DELETE",
            "AttrFlags": 2
          },
          {
            "Text": "data from Source once its loaded into Target."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550458129315,
        "id": "4c1ca0f8-a2aa-44f4-b35e-04f7f1084504",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550458129315,
        "parent_id": "e2a7ffb2-a400-462f-9000-44e46326f1c2",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "DELETE FROM Source\nWHERE  EXISTS ( SELECT 1 -- specific value in SELECT doesn't matter\n               FROM Target\n               Where Source.ID = Target.ID )"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "DELETE FROM Source\nWHERE  EXISTS ( SELECT 1 -- specific value in SELECT doesn't matter\n               FROM Target\n               Where Source.ID = Target.ID )",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550458129315,
        "id": "57e4f649-bbd0-4500-a220-e59caf844a86",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550458129315,
        "parent_id": "e2a7ffb2-a400-462f-9000-44e46326f1c2",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Most common RDBMS implementations (e.g. MySQL, Oracle, PostgresSQL, Teradata) allow tables to be joined during "
            ],
            [
              "DELETE",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " allowing more complex comparison in a compact syntax."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Most common RDBMS implementations (e.g. MySQL, Oracle, PostgresSQL, Teradata) allow tables to be joined during "
          },
          {
            "Text": "DELETE",
            "AttrFlags": 2
          },
          {
            "Text": " allowing more complex comparison in a compact syntax."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550458129315,
        "id": "0593de0f-698d-41d5-ad5f-2e6036d0e32b",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550458129315,
        "parent_id": "e2a7ffb2-a400-462f-9000-44e46326f1c2",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Adding complexity to original scenario, let’s assume Aggregate is built from Target once a day and does not contain the same ID but contains the same date. Let us also assume that we want to delete data from Source "
            ],
            [
              "only",
              [
                [
                  "i"
                ]
              ]
            ],
            [
              " after the aggregate is populated for the day."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Adding complexity to original scenario, let’s assume Aggregate is built from Target once a day and does not contain the same ID but contains the same date. Let us also assume that we want to delete data from Source "
          },
          {
            "Text": "only",
            "AttrFlags": 4
          },
          {
            "Text": " after the aggregate is populated for the day."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550458129315,
        "id": "b2af6fa4-b1b3-4925-bacb-8caacd9634e4",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550458129315,
        "parent_id": "e2a7ffb2-a400-462f-9000-44e46326f1c2",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "On MySQL, Oracle and Teradata this can be done using:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "On MySQL, Oracle and Teradata this can be done using:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550458129315,
        "id": "5333def7-e967-4ddf-a645-44a82683a344",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550458129315,
        "parent_id": "e2a7ffb2-a400-462f-9000-44e46326f1c2",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "DELETE FROM Source\nWHERE  Source.ID = TargetSchema.Target.ID\n       AND TargetSchema.Target.Date = AggregateSchema.Aggregate.Date"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "DELETE FROM Source\nWHERE  Source.ID = TargetSchema.Target.ID\n       AND TargetSchema.Target.Date = AggregateSchema.Aggregate.Date",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550458129315,
        "id": "1ff14743-5e17-41b9-9ae3-177990aee51e",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550458129315,
        "parent_id": "e2a7ffb2-a400-462f-9000-44e46326f1c2",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "In PostgreSQL use:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "In PostgreSQL use:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550458129316,
        "id": "702289d4-0ef5-4484-845c-ee0884c2f670",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550458129316,
        "parent_id": "e2a7ffb2-a400-462f-9000-44e46326f1c2",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "DELETE FROM Source\nUSING  TargetSchema.Target, AggregateSchema.Aggregate\nWHERE  Source.ID = TargetSchema.Target.ID\n       AND TargetSchema.Target.DataDate = AggregateSchema.Aggregate.AggDate"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "DELETE FROM Source\nUSING  TargetSchema.Target, AggregateSchema.Aggregate\nWHERE  Source.ID = TargetSchema.Target.ID\n       AND TargetSchema.Target.DataDate = AggregateSchema.Aggregate.AggDate",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550458129316,
        "id": "fcdec837-6d7f-495f-b908-3dd0346e61cc",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550458129316,
        "parent_id": "e2a7ffb2-a400-462f-9000-44e46326f1c2",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "This essentially results in INNER JOINs between Source, Target and Aggregate. The deletion is performed on Source when the same IDs exist in Target AND date present in Target for those IDs also exists in Aggregate."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "This essentially results in INNER JOINs between Source, Target and Aggregate. The deletion is performed on Source when the same IDs exist in Target AND date present in Target for those IDs also exists in Aggregate."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550458129316,
        "id": "ab377d2c-669d-498a-b3c4-3c9d720c2b21",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550458129316,
        "parent_id": "e2a7ffb2-a400-462f-9000-44e46326f1c2",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Same query may also be written (on MySQL, Oracle, Teradata) as:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Same query may also be written (on MySQL, Oracle, Teradata) as:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550458129316,
        "id": "37fec3ea-79ce-498c-bc4d-2470cc3a82a7",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550458129316,
        "parent_id": "e2a7ffb2-a400-462f-9000-44e46326f1c2",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "DELETE Source\nFROM   Source, TargetSchema.Target, AggregateSchema.Aggregate\nWHERE  Source.ID = TargetSchema.Target.ID\n       AND TargetSchema.Target.DataDate = AggregateSchema.Aggregate.AggDate"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "DELETE Source\nFROM   Source, TargetSchema.Target, AggregateSchema.Aggregate\nWHERE  Source.ID = TargetSchema.Target.ID\n       AND TargetSchema.Target.DataDate = AggregateSchema.Aggregate.AggDate",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550458129316,
        "id": "8a6948bc-4c33-49f1-b5c1-5ddbf7d37d7a",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550458129316,
        "parent_id": "e2a7ffb2-a400-462f-9000-44e46326f1c2",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Explicit joins may be mentioned in "
            ],
            [
              "Delete",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " statements on some RDBMS implementations (e.g. Oracle, MySQL) but not supported on all platforms (e.g. Teradata does not support them)"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Explicit joins may be mentioned in "
          },
          {
            "Text": "Delete",
            "AttrFlags": 2
          },
          {
            "Text": " statements on some RDBMS implementations (e.g. Oracle, MySQL) but not supported on all platforms (e.g. Teradata does not support them)"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550458129316,
        "id": "64b7e3a3-cf95-4ec2-b260-6308d94d21c1",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550458129316,
        "parent_id": "e2a7ffb2-a400-462f-9000-44e46326f1c2",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Comparisons can be designed to check mismatch scenarios instead of matching ones with all syntax styles (observe "
            ],
            [
              "NOT EXISTS",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " below)"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Comparisons can be designed to check mismatch scenarios instead of matching ones with all syntax styles (observe "
          },
          {
            "Text": "NOT EXISTS",
            "AttrFlags": 2
          },
          {
            "Text": " below)"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550458129316,
        "id": "61644452-986b-43c7-926b-7acd200176b2",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550458129316,
        "parent_id": "e2a7ffb2-a400-462f-9000-44e46326f1c2",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "DELETE FROM Source\nWHERE NOT EXISTS ( SELECT 1 -- specific value in SELECT doesn't matter\n               FROM Target\n               Where Source.ID = Target.ID )"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "DELETE FROM Source\nWHERE NOT EXISTS ( SELECT 1 -- specific value in SELECT doesn't matter\n               FROM Target\n               Where Source.ID = Target.ID )",
        "code_language": "Plain Text"
      }
    ],
    "title": "040 DELETE certain rows based upon comparisons with other tables"
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 18
    }
  ],
  "Tables": null
}