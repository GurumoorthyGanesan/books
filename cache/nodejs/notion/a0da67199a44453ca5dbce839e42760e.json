{
  "ID": "a0da6719-9a44-453c-a5db-ce839e42760e",
  "Root": {
    "alive": true,
    "content": [
      "9c547ffd-f65c-4ad5-af98-dfc84ff1e234",
      "0296e6a4-5736-43f9-9b63-ea21c6decacb",
      "a77b5f2c-6e94-4a82-8600-3cf66f1bf13c",
      "84db5799-3104-427f-b9fa-dc4c432c1a37",
      "9b1c82c8-ef59-470c-8f9b-386de0779d63",
      "0997b82e-996a-4e9e-8c8c-f35d65e18f76",
      "a3a2fb99-792e-43ef-93dd-e5b787746b83",
      "11c506a4-febe-4181-9b82-ca2b870d88d8",
      "52cf4ca5-65aa-449e-a52a-e22f5dc5fcd6",
      "2f04beac-4d4c-4bdf-a904-0e25645515b1",
      "961aa3fd-d45c-4e43-acc9-4325682f784b",
      "ce8f6537-f985-473d-a909-d1c097727643",
      "f02a3e34-dbd6-4a79-9da4-39c0f840cecd",
      "25fb16e4-06d8-4806-a4f5-36b8374933b5",
      "daa564c7-254c-4a36-a77c-d1614cfe5494",
      "7e50fdb6-64a5-43f7-8f9d-ec9f7e5db993",
      "84010e77-43b4-4add-95bc-1213a06ba7b5",
      "db48f4d9-3783-4a8f-ba2d-e5421c1f001c",
      "4b3edb50-414a-45ab-9955-538062c61e7a",
      "3563d5ad-06a9-4914-9780-844aaeedbdbe"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1552018287159,
    "format": {
      "page_full_width": true,
      "page_small_text": true
    },
    "id": "a0da6719-9a44-453c-a5db-ce839e42760e",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1552018287159,
    "parent_id": "46c2e035-88b8-48ab-9a70-693030578dfd",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "find data in mongodb using promises"
        ]
      ]
    },
    "type": "page",
    "version": 3,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018287154,
        "id": "9c547ffd-f65c-4ad5-af98-dfc84ff1e234",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018287154,
        "parent_id": "a0da6719-9a44-453c-a5db-ce839e42760e",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Setup"
            ]
          ]
        },
        "type": "header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Setup"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018287156,
        "id": "0296e6a4-5736-43f9-9b63-ea21c6decacb",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018287156,
        "parent_id": "a0da6719-9a44-453c-a5db-ce839e42760e",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "First, install the necessary packages with:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "First, install the necessary packages with:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018287156,
        "id": "a77b5f2c-6e94-4a82-8600-3cf66f1bf13c",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018287156,
        "parent_id": "a0da6719-9a44-453c-a5db-ce839e42760e",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "npm install express cors mongoose"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "npm install express cors mongoose",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018287156,
        "id": "84db5799-3104-427f-b9fa-dc4c432c1a37",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018287156,
        "parent_id": "a0da6719-9a44-453c-a5db-ce839e42760e",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Code"
            ]
          ]
        },
        "type": "header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Code"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018287157,
        "id": "9b1c82c8-ef59-470c-8f9b-386de0779d63",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018287157,
        "parent_id": "a0da6719-9a44-453c-a5db-ce839e42760e",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Then, add dependencies to "
            ],
            [
              "server.js",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ", create the database schema and the name of the collection, create an Express.js server, and connect to MongoDB:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Then, add dependencies to "
          },
          {
            "Text": "server.js",
            "AttrFlags": 2
          },
          {
            "Text": ", create the database schema and the name of the collection, create an Express.js server, and connect to MongoDB:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018287157,
        "id": "0997b82e-996a-4e9e-8c8c-f35d65e18f76",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018287157,
        "parent_id": "a0da6719-9a44-453c-a5db-ce839e42760e",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "var express = require('express');\nvar cors = require('cors'); // We will use CORS to enable cross origin domain requests.\nvar mongoose = require('mongoose');\nvar Schema = mongoose.Schema;\n\nvar app = express();\n\nvar schemaName = new Schema({\n    request: String,\n    time: Number\n}, {\n    collection: 'collectionName'\n});\n\nvar Model = mongoose.model('Model', schemaName);\nmongoose.connect('mongodb://localhost:27017/dbName');\n\nvar port = process.env.PORT || 8080;\napp.listen(port, function() {\n    console.log('Node.js listening on port ' + port);\n});\n\napp.use(function(err, req, res, next) {\n  console.error(err.stack);\n  res.status(500).send('Something broke!');\n});\n\napp.use(function(req, res, next) {\n  res.status(404).send('Sorry cant find that!');\n});"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "var express = require('express');\nvar cors = require('cors'); // We will use CORS to enable cross origin domain requests.\nvar mongoose = require('mongoose');\nvar Schema = mongoose.Schema;\n\nvar app = express();\n\nvar schemaName = new Schema({\n    request: String,\n    time: Number\n}, {\n    collection: 'collectionName'\n});\n\nvar Model = mongoose.model('Model', schemaName);\nmongoose.connect('mongodb://localhost:27017/dbName');\n\nvar port = process.env.PORT || 8080;\napp.listen(port, function() {\n    console.log('Node.js listening on port ' + port);\n});\n\napp.use(function(err, req, res, next) {\n  console.error(err.stack);\n  res.status(500).send('Something broke!');\n});\n\napp.use(function(req, res, next) {\n  res.status(404).send('Sorry cant find that!');\n});",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018287157,
        "id": "a3a2fb99-792e-43ef-93dd-e5b787746b83",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018287157,
        "parent_id": "a0da6719-9a44-453c-a5db-ce839e42760e",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Now add Express.js routes that we will use to query the data:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Now add Express.js routes that we will use to query the data:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018287157,
        "id": "11c506a4-febe-4181-9b82-ca2b870d88d8",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018287157,
        "parent_id": "a0da6719-9a44-453c-a5db-ce839e42760e",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "app.get('/find/:query', cors(), function(req, res, next) {\n    var query = req.params.query;\n\n    Model.find({\n        'request': query\n    })\n    .exec() //remember to add exec, queries have a .then attribute but aren't promises\n    .then(function(result) {\n        if (result) {\n            res.json(result)\n        } else {\n            next() //pass to 404 handler\n        }\n    })\n    .catch(next) //pass to error handler\n})"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "app.get('/find/:query', cors(), function(req, res, next) {\n    var query = req.params.query;\n\n    Model.find({\n        'request': query\n    })\n    .exec() //remember to add exec, queries have a .then attribute but aren't promises\n    .then(function(result) {\n        if (result) {\n            res.json(result)\n        } else {\n            next() //pass to 404 handler\n        }\n    })\n    .catch(next) //pass to error handler\n})",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018287157,
        "id": "52cf4ca5-65aa-449e-a52a-e22f5dc5fcd6",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018287157,
        "parent_id": "a0da6719-9a44-453c-a5db-ce839e42760e",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Assume that the following documents are in the collection in the model:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Assume that the following documents are in the collection in the model:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018287157,
        "id": "2f04beac-4d4c-4bdf-a904-0e25645515b1",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018287157,
        "parent_id": "a0da6719-9a44-453c-a5db-ce839e42760e",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "{\n        \"_id\" : ObjectId(\"578abe97522ad414b8eeb55a\"),\n        \"request\" : \"JavaScript is Awesome\",\n        \"time\" : 1468710551\n}\n{\n        \"_id\" : ObjectId(\"578abe9b522ad414b8eeb55b\"),\n        \"request\" : \"JavaScript is Awesome\",\n        \"time\" : 1468710555\n}\n{\n        \"_id\" : ObjectId(\"578abea0522ad414b8eeb55c\"),\n        \"request\" : \"JavaScript is Awesome\",\n        \"time\" : 1468710560\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "{\n        \"_id\" : ObjectId(\"578abe97522ad414b8eeb55a\"),\n        \"request\" : \"JavaScript is Awesome\",\n        \"time\" : 1468710551\n}\n{\n        \"_id\" : ObjectId(\"578abe9b522ad414b8eeb55b\"),\n        \"request\" : \"JavaScript is Awesome\",\n        \"time\" : 1468710555\n}\n{\n        \"_id\" : ObjectId(\"578abea0522ad414b8eeb55c\"),\n        \"request\" : \"JavaScript is Awesome\",\n        \"time\" : 1468710560\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018287157,
        "id": "961aa3fd-d45c-4e43-acc9-4325682f784b",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018287157,
        "parent_id": "a0da6719-9a44-453c-a5db-ce839e42760e",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "And the goal is to find and display all the documents containing "
            ],
            [
              "\"JavaScript is Awesome\"",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " under the "
            ],
            [
              "\"request\"",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " key."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "And the goal is to find and display all the documents containing "
          },
          {
            "Text": "\"JavaScript is Awesome\"",
            "AttrFlags": 2
          },
          {
            "Text": " under the "
          },
          {
            "Text": "\"request\"",
            "AttrFlags": 2
          },
          {
            "Text": " key."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018287158,
        "id": "ce8f6537-f985-473d-a909-d1c097727643",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018287158,
        "parent_id": "a0da6719-9a44-453c-a5db-ce839e42760e",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "For this, start MongoDB and run "
            ],
            [
              "server.js",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " with "
            ],
            [
              "node server.js",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ":"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "For this, start MongoDB and run "
          },
          {
            "Text": "server.js",
            "AttrFlags": 2
          },
          {
            "Text": " with "
          },
          {
            "Text": "node server.js",
            "AttrFlags": 2
          },
          {
            "Text": ":"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018287158,
        "id": "f02a3e34-dbd6-4a79-9da4-39c0f840cecd",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018287158,
        "parent_id": "a0da6719-9a44-453c-a5db-ce839e42760e",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Usage"
            ]
          ]
        },
        "type": "header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Usage"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018287158,
        "id": "25fb16e4-06d8-4806-a4f5-36b8374933b5",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018287158,
        "parent_id": "a0da6719-9a44-453c-a5db-ce839e42760e",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "To use this to find data, go to the following URL in a browser:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "To use this to find data, go to the following URL in a browser:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018287158,
        "id": "daa564c7-254c-4a36-a77c-d1614cfe5494",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018287158,
        "parent_id": "a0da6719-9a44-453c-a5db-ce839e42760e",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "http://localhost:8080/find/\u003cquery\u003e"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "http://localhost:8080/find/\u003cquery\u003e",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018287158,
        "id": "7e50fdb6-64a5-43f7-8f9d-ec9f7e5db993",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018287158,
        "parent_id": "a0da6719-9a44-453c-a5db-ce839e42760e",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Where "
            ],
            [
              "\u003cquery\u003e",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " is the search query."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Where "
          },
          {
            "Text": "\u003cquery\u003e",
            "AttrFlags": 2
          },
          {
            "Text": " is the search query."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018287158,
        "id": "84010e77-43b4-4add-95bc-1213a06ba7b5",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018287158,
        "parent_id": "a0da6719-9a44-453c-a5db-ce839e42760e",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Example:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Example:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018287158,
        "id": "db48f4d9-3783-4a8f-ba2d-e5421c1f001c",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018287158,
        "parent_id": "a0da6719-9a44-453c-a5db-ce839e42760e",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "http://localhost:8080/find/JavaScript%20is%20Awesome"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "http://localhost:8080/find/JavaScript%20is%20Awesome",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018287158,
        "id": "4b3edb50-414a-45ab-9955-538062c61e7a",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018287158,
        "parent_id": "a0da6719-9a44-453c-a5db-ce839e42760e",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Output:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Output:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018287159,
        "id": "3563d5ad-06a9-4914-9780-844aaeedbdbe",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018287159,
        "parent_id": "a0da6719-9a44-453c-a5db-ce839e42760e",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "[{\n    _id: \"578abe97522ad414b8eeb55a\",\n    request: \"JavaScript is Awesome\",\n    time: 1468710551,\n    __v: 0\n},\n{\n    _id: \"578abe9b522ad414b8eeb55b\",\n    request: \"JavaScript is Awesome\",\n    time: 1468710555,\n    __v: 0\n},\n{\n    _id: \"578abea0522ad414b8eeb55c\",\n    request: \"JavaScript is Awesome\",\n    time: 1468710560,\n    __v: 0\n}]"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "[{\n    _id: \"578abe97522ad414b8eeb55a\",\n    request: \"JavaScript is Awesome\",\n    time: 1468710551,\n    __v: 0\n},\n{\n    _id: \"578abe9b522ad414b8eeb55b\",\n    request: \"JavaScript is Awesome\",\n    time: 1468710555,\n    __v: 0\n},\n{\n    _id: \"578abea0522ad414b8eeb55c\",\n    request: \"JavaScript is Awesome\",\n    time: 1468710560,\n    __v: 0\n}]",
        "code_language": "Plain Text"
      }
    ],
    "title": "find data in mongodb using promises",
    "format_page": {
      "page_cover": "",
      "page_cover_position": 0,
      "page_font": "",
      "page_full_width": true,
      "page_icon": "",
      "page_small_text": true
    }
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 19
    }
  ],
  "Tables": null
}