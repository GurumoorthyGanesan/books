{
  "ID": "f05de817-5a34-4330-a87f-78dfaaa48b1c",
  "Root": {
    "alive": true,
    "content": [
      "aae301f3-481b-43bd-9cc3-a3039fd7a947",
      "b7e7dc88-ea19-4a48-9609-598b1f8297a8",
      "f3e9ea19-051b-4c9d-b652-1559ac72cd15",
      "a4aa7266-bea2-4f33-a59c-17ea282119d5",
      "feecce16-23f1-4884-902d-3fa8126f5af1",
      "bd5adb2c-4b0a-4415-9e29-b64f26091e67",
      "c7d96b89-3714-42b0-abdd-26150c3dff62",
      "3d66d59c-71cc-4ec1-b77d-d703e845bb54",
      "c53c8166-abe7-4f4b-be18-b72ce7704bff",
      "e81b512e-ad91-44e0-9c8a-b410061c99ce",
      "d84a236a-7ae4-4a10-b102-b53bcfa7d40e",
      "b4c3a0e2-6b3c-4136-9959-0bcb4d937a42",
      "a639c596-7fbe-4f3c-8d5f-69e97bbf4ec7"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1552018272125,
    "format": {
      "page_full_width": true,
      "page_small_text": true
    },
    "id": "f05de817-5a34-4330-a87f-78dfaaa48b1c",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1552018272125,
    "parent_id": "d14158db-1f66-4f7b-b8a6-692f69c67c45",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "Preventing Cross Site Request Forgery CSRF"
        ]
      ]
    },
    "type": "page",
    "version": 3,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018272121,
        "id": "aae301f3-481b-43bd-9cc3-a3039fd7a947",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018272121,
        "parent_id": "f05de817-5a34-4330-a87f-78dfaaa48b1c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "CSRF",
              [
                [
                  "b"
                ]
              ]
            ],
            [
              " is an attack which forces end user to execute unwanted actions on a web application in which he/she is currently authenticated."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "CSRF",
            "AttrFlags": 1
          },
          {
            "Text": " is an attack which forces end user to execute unwanted actions on a web application in which he/she is currently authenticated."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018272124,
        "id": "b7e7dc88-ea19-4a48-9609-598b1f8297a8",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018272124,
        "parent_id": "f05de817-5a34-4330-a87f-78dfaaa48b1c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "It can happen because cookies are sent with every request to a website - even when those requests come from a different site."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "It can happen because cookies are sent with every request to a website - even when those requests come from a different site."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018272124,
        "id": "f3e9ea19-051b-4c9d-b652-1559ac72cd15",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018272124,
        "parent_id": "f05de817-5a34-4330-a87f-78dfaaa48b1c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "We can use "
            ],
            [
              "csurf",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " module for creating csrf token and validating it."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "We can use "
          },
          {
            "Text": "csurf",
            "AttrFlags": 2
          },
          {
            "Text": " module for creating csrf token and validating it."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018272124,
        "id": "a4aa7266-bea2-4f33-a59c-17ea282119d5",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018272124,
        "parent_id": "f05de817-5a34-4330-a87f-78dfaaa48b1c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Example",
              [
                [
                  "b"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Example",
            "AttrFlags": 1
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018272124,
        "id": "feecce16-23f1-4884-902d-3fa8126f5af1",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018272124,
        "parent_id": "f05de817-5a34-4330-a87f-78dfaaa48b1c",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "var express = require('express')\nvar cookieParser = require('cookie-parser')    //for cookie parsing\nvar csrf = require('csurf')    //csrf module\nvar bodyParser = require('body-parser')    //for body parsing\n\n// setup route middlewares\nvar csrfProtection = csrf({ cookie: true })\nvar parseForm = bodyParser.urlencoded({ extended: false })\n\n// create express app\nvar app = express()\n\n// parse cookies\napp.use(cookieParser())\n\napp.get('/form', csrfProtection, function(req, res) {\n  // generate and pass the csrfToken to the view\n  res.render('send', { csrfToken: req.csrfToken() })\n})\n\napp.post('/process', parseForm, csrfProtection, function(req, res) {\n  res.send('data is being processed')\n})"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "var express = require('express')\nvar cookieParser = require('cookie-parser')    //for cookie parsing\nvar csrf = require('csurf')    //csrf module\nvar bodyParser = require('body-parser')    //for body parsing\n\n// setup route middlewares\nvar csrfProtection = csrf({ cookie: true })\nvar parseForm = bodyParser.urlencoded({ extended: false })\n\n// create express app\nvar app = express()\n\n// parse cookies\napp.use(cookieParser())\n\napp.get('/form', csrfProtection, function(req, res) {\n  // generate and pass the csrfToken to the view\n  res.render('send', { csrfToken: req.csrfToken() })\n})\n\napp.post('/process', parseForm, csrfProtection, function(req, res) {\n  res.send('data is being processed')\n})",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018272124,
        "id": "bd5adb2c-4b0a-4415-9e29-b64f26091e67",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018272124,
        "parent_id": "f05de817-5a34-4330-a87f-78dfaaa48b1c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "So, when we access "
            ],
            [
              "GET /form",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ", it will pass the csrf token "
            ],
            [
              "csrfToken",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " to the view."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "So, when we access "
          },
          {
            "Text": "GET /form",
            "AttrFlags": 2
          },
          {
            "Text": ", it will pass the csrf token "
          },
          {
            "Text": "csrfToken",
            "AttrFlags": 2
          },
          {
            "Text": " to the view."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018272124,
        "id": "c7d96b89-3714-42b0-abdd-26150c3dff62",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018272124,
        "parent_id": "f05de817-5a34-4330-a87f-78dfaaa48b1c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Now, inside the view, set the csrfToken value as the value of a hidden input field named "
            ],
            [
              "_csrf",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Now, inside the view, set the csrfToken value as the value of a hidden input field named "
          },
          {
            "Text": "_csrf",
            "AttrFlags": 2
          },
          {
            "Text": "."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018272125,
        "id": "3d66d59c-71cc-4ec1-b77d-d703e845bb54",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018272125,
        "parent_id": "f05de817-5a34-4330-a87f-78dfaaa48b1c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "e.g. for "
            ],
            [
              "handlebar",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " templates"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "e.g. for "
          },
          {
            "Text": "handlebar",
            "AttrFlags": 2
          },
          {
            "Text": " templates"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018272125,
        "id": "c53c8166-abe7-4f4b-be18-b72ce7704bff",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018272125,
        "parent_id": "f05de817-5a34-4330-a87f-78dfaaa48b1c",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "\u003cform action=\"/process\" method=\"POST\"\u003e\n    \u003cinput type=\"hidden\" name=\"_csrf\" value=\"{{csrfToken}}\"\u003e\n    Name: \u003cinput type=\"text\" name=\"name\"\u003e\n    \u003cbutton type=\"submit\"\u003eSubmit\u003c/button\u003e\n\u003c/form\u003e"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "\u003cform action=\"/process\" method=\"POST\"\u003e\n    \u003cinput type=\"hidden\" name=\"_csrf\" value=\"{{csrfToken}}\"\u003e\n    Name: \u003cinput type=\"text\" name=\"name\"\u003e\n    \u003cbutton type=\"submit\"\u003eSubmit\u003c/button\u003e\n\u003c/form\u003e",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018272125,
        "id": "e81b512e-ad91-44e0-9c8a-b410061c99ce",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018272125,
        "parent_id": "f05de817-5a34-4330-a87f-78dfaaa48b1c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "e.g. for "
            ],
            [
              "jade",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " templates"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "e.g. for "
          },
          {
            "Text": "jade",
            "AttrFlags": 2
          },
          {
            "Text": " templates"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018272125,
        "id": "d84a236a-7ae4-4a10-b102-b53bcfa7d40e",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018272125,
        "parent_id": "f05de817-5a34-4330-a87f-78dfaaa48b1c",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "form(action=\"/process\" method=\"post\")\n    input(type=\"hidden\", name=\"_csrf\", value=csrfToken)\n\n    span Name:\n    input(type=\"text\", name=\"name\", required=true)\n    br\n\n    input(type=\"submit\")"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "form(action=\"/process\" method=\"post\")\n    input(type=\"hidden\", name=\"_csrf\", value=csrfToken)\n\n    span Name:\n    input(type=\"text\", name=\"name\", required=true)\n    br\n\n    input(type=\"submit\")",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018272125,
        "id": "b4c3a0e2-6b3c-4136-9959-0bcb4d937a42",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018272125,
        "parent_id": "f05de817-5a34-4330-a87f-78dfaaa48b1c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "e.g. for "
            ],
            [
              "ejs",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " templates"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "e.g. for "
          },
          {
            "Text": "ejs",
            "AttrFlags": 2
          },
          {
            "Text": " templates"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018272125,
        "id": "a639c596-7fbe-4f3c-8d5f-69e97bbf4ec7",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018272125,
        "parent_id": "f05de817-5a34-4330-a87f-78dfaaa48b1c",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "\u003cform action=\"/process\" method=\"POST\"\u003e\n    \u003cinput type=\"hidden\" name=\"_csrf\" value=\"\u003c%= csrfToken %\u003e\"\u003e\n    Name: \u003cinput type=\"text\" name=\"name\"\u003e\n    \u003cbutton type=\"submit\"\u003eSubmit\u003c/button\u003e\n\u003c/form\u003e"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "\u003cform action=\"/process\" method=\"POST\"\u003e\n    \u003cinput type=\"hidden\" name=\"_csrf\" value=\"\u003c%= csrfToken %\u003e\"\u003e\n    Name: \u003cinput type=\"text\" name=\"name\"\u003e\n    \u003cbutton type=\"submit\"\u003eSubmit\u003c/button\u003e\n\u003c/form\u003e",
        "code_language": "Plain Text"
      }
    ],
    "title": "Preventing Cross Site Request Forgery CSRF",
    "format_page": {
      "page_cover": "",
      "page_cover_position": 0,
      "page_font": "",
      "page_full_width": true,
      "page_icon": "",
      "page_small_text": true
    }
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 18
    }
  ],
  "Tables": null
}