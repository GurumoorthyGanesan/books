{
  "ID": "0d40e7db-c50a-40b1-a52d-bed7303e92c5",
  "Root": {
    "alive": true,
    "content": [
      "9bccf80d-8ead-403d-9dd8-935f10ac604f",
      "42729708-399d-4c1a-9ac1-b45d74477b42",
      "ade6cb12-9e77-4f8b-ae73-b32c1a1a42d4",
      "9142d896-068d-44a9-99bc-3af9cf14abaa",
      "a3961404-29be-403d-9b93-ba1904bb0b0a",
      "11061f40-271e-4f57-9287-13a3fe2ba6ea",
      "e69e940a-5000-4552-94e9-d98fdcd000fb",
      "d66a5c7c-beb2-4cdb-b56e-72ebce04f4d5",
      "907a5eb7-425a-495c-8071-b51e4ba9e341",
      "a49e5796-e6bd-4294-9185-353108bfc350",
      "6557b39a-5990-406d-b893-90ced416222c",
      "953bbea8-7d73-43d1-ad78-deac5000d535",
      "cafefa06-8db1-45a0-9fa6-866d2e70d539",
      "9ac03644-9d83-44da-9b96-8cc022183c64",
      "120d3f2b-de91-445a-ab2f-83040a534929"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1552017854202,
    "format": {
      "page_full_width": true,
      "page_small_text": true
    },
    "id": "0d40e7db-c50a-40b1-a52d-bed7303e92c5",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1552017854202,
    "parent_id": "c00cbe7c-9eef-4a09-ad82-5e7a49970f15",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "TLS Socket server and client"
        ]
      ]
    },
    "type": "page",
    "version": 3,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552017854200,
        "id": "9bccf80d-8ead-403d-9dd8-935f10ac604f",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552017854200,
        "parent_id": "0d40e7db-c50a-40b1-a52d-bed7303e92c5",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The only major differences between this and a regular TCP connection are the private Key and the public certificate that you’ll have to set into an option object."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "The only major differences between this and a regular TCP connection are the private Key and the public certificate that you’ll have to set into an option object."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552017854201,
        "id": "42729708-399d-4c1a-9ac1-b45d74477b42",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552017854201,
        "parent_id": "0d40e7db-c50a-40b1-a52d-bed7303e92c5",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "How to Create a Key and Certificate"
            ]
          ]
        },
        "type": "header",
        "version": 1,
        "inline_content": [
          {
            "Text": "How to Create a Key and Certificate"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552017854201,
        "id": "ade6cb12-9e77-4f8b-ae73-b32c1a1a42d4",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552017854201,
        "parent_id": "0d40e7db-c50a-40b1-a52d-bed7303e92c5",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The first step in this security process is the creation of a private Key. And what is this private key? Basically, it’s a set of random noise that’s used to encrypt information. In theory, you could create one key, and use it to encrypt whatever you want. But it is best practice to have different keys for specific things. Because if someone steals your private key, it’s similar to having someone steal your house keys. Imagine if you used the same key to lock your car, garage, office, etc."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "The first step in this security process is the creation of a private Key. And what is this private key? Basically, it’s a set of random noise that’s used to encrypt information. In theory, you could create one key, and use it to encrypt whatever you want. But it is best practice to have different keys for specific things. Because if someone steals your private key, it’s similar to having someone steal your house keys. Imagine if you used the same key to lock your car, garage, office, etc."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552017854201,
        "id": "9142d896-068d-44a9-99bc-3af9cf14abaa",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552017854201,
        "parent_id": "0d40e7db-c50a-40b1-a52d-bed7303e92c5",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "openssl genrsa -out private-key.pem 1024",
              [
                [
                  "c"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "openssl genrsa -out private-key.pem 1024",
            "AttrFlags": 2
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552017854201,
        "id": "a3961404-29be-403d-9b93-ba1904bb0b0a",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552017854201,
        "parent_id": "0d40e7db-c50a-40b1-a52d-bed7303e92c5",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Once we have our private key, we can create a CSR (certificate signing request), which is our request to have the private key signed by a fancy authority. That is why you have to input information related to your company. This information will be seen by the signing authority, and used to verify you. In our case, it doesn’t matter what you type, since in the next step we’re going to sign our certificate ourselves."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Once we have our private key, we can create a CSR (certificate signing request), which is our request to have the private key signed by a fancy authority. That is why you have to input information related to your company. This information will be seen by the signing authority, and used to verify you. In our case, it doesn’t matter what you type, since in the next step we’re going to sign our certificate ourselves."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552017854201,
        "id": "11061f40-271e-4f57-9287-13a3fe2ba6ea",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552017854201,
        "parent_id": "0d40e7db-c50a-40b1-a52d-bed7303e92c5",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "openssl req -new -key private-key.pem -out csr.pem",
              [
                [
                  "c"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "openssl req -new -key private-key.pem -out csr.pem",
            "AttrFlags": 2
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552017854201,
        "id": "e69e940a-5000-4552-94e9-d98fdcd000fb",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552017854201,
        "parent_id": "0d40e7db-c50a-40b1-a52d-bed7303e92c5",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Now that we have our paper work filled out, it’s time to pretend that we’re a cool signing authority."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Now that we have our paper work filled out, it’s time to pretend that we’re a cool signing authority."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552017854201,
        "id": "d66a5c7c-beb2-4cdb-b56e-72ebce04f4d5",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552017854201,
        "parent_id": "0d40e7db-c50a-40b1-a52d-bed7303e92c5",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "openssl x509 -req -in csr.pem -signkey private-key.pem -out public-cert.pem",
              [
                [
                  "c"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "openssl x509 -req -in csr.pem -signkey private-key.pem -out public-cert.pem",
            "AttrFlags": 2
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552017854202,
        "id": "907a5eb7-425a-495c-8071-b51e4ba9e341",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552017854202,
        "parent_id": "0d40e7db-c50a-40b1-a52d-bed7303e92c5",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Now that you have the private key and the public cert, you can establish a secure connection between two NodeJS apps. And, as you can see in the example code, it is a very simple process."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Now that you have the private key and the public cert, you can establish a secure connection between two NodeJS apps. And, as you can see in the example code, it is a very simple process."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552017854202,
        "id": "a49e5796-e6bd-4294-9185-353108bfc350",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552017854202,
        "parent_id": "0d40e7db-c50a-40b1-a52d-bed7303e92c5",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Important!"
            ]
          ]
        },
        "type": "header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Important!"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552017854202,
        "id": "6557b39a-5990-406d-b893-90ced416222c",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552017854202,
        "parent_id": "0d40e7db-c50a-40b1-a52d-bed7303e92c5",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Since we created the public cert ourselves, in all honesty, our certificate is worthless, because we are nobodies. The NodeJS server won’t trust such a certificate by default, and that is why we need to tell it to actually trust our cert with the following option rejectUnauthorized: false. "
            ],
            [
              "Very important",
              [
                [
                  "b"
                ]
              ]
            ],
            [
              ": never set this variable to true in a production environment."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Since we created the public cert ourselves, in all honesty, our certificate is worthless, because we are nobodies. The NodeJS server won’t trust such a certificate by default, and that is why we need to tell it to actually trust our cert with the following option rejectUnauthorized: false. "
          },
          {
            "Text": "Very important",
            "AttrFlags": 1
          },
          {
            "Text": ": never set this variable to true in a production environment."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552017854202,
        "id": "953bbea8-7d73-43d1-ad78-deac5000d535",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552017854202,
        "parent_id": "0d40e7db-c50a-40b1-a52d-bed7303e92c5",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "TLS Socket Server"
            ]
          ]
        },
        "type": "header",
        "version": 1,
        "inline_content": [
          {
            "Text": "TLS Socket Server"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552017854202,
        "id": "cafefa06-8db1-45a0-9fa6-866d2e70d539",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552017854202,
        "parent_id": "0d40e7db-c50a-40b1-a52d-bed7303e92c5",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "'use strict';\n\nvar tls = require('tls');\nvar fs = require('fs');\n\nconst PORT = 1337;\nconst HOST = '127.0.0.1'\n\nvar options = {\n    key: fs.readFileSync('private-key.pem'),\n    cert: fs.readFileSync('public-cert.pem')\n};\n\nvar server = tls.createServer(options, function(socket) {\n\n    // Send a friendly message\n    socket.write(\"I am the server sending you a message.\");\n\n    // Print the data that we received\n    socket.on('data', function(data) {\n\n        console.log('Received: %s [it is %d bytes long]',\n            data.toString().replace(/(\\n)/gm,\"\"),\n            data.length);\n\n    });\n\n    // Let us know when the transmission is over\n    socket.on('end', function() {\n\n        console.log('EOT (End Of Transmission)');\n\n    });\n\n});\n\n// Start listening on a specific port and address\nserver.listen(PORT, HOST, function() {\n\n    console.log(\"I'm listening at %s, on port %s\", HOST, PORT);\n\n});\n\n// When an error occurs, show it.\nserver.on('error', function(error) {\n\n    console.error(error);\n\n    // Close the connection after the error occurred.\n    server.destroy();\n\n});"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "'use strict';\n\nvar tls = require('tls');\nvar fs = require('fs');\n\nconst PORT = 1337;\nconst HOST = '127.0.0.1'\n\nvar options = {\n    key: fs.readFileSync('private-key.pem'),\n    cert: fs.readFileSync('public-cert.pem')\n};\n\nvar server = tls.createServer(options, function(socket) {\n\n    // Send a friendly message\n    socket.write(\"I am the server sending you a message.\");\n\n    // Print the data that we received\n    socket.on('data', function(data) {\n\n        console.log('Received: %s [it is %d bytes long]',\n            data.toString().replace(/(\\n)/gm,\"\"),\n            data.length);\n\n    });\n\n    // Let us know when the transmission is over\n    socket.on('end', function() {\n\n        console.log('EOT (End Of Transmission)');\n\n    });\n\n});\n\n// Start listening on a specific port and address\nserver.listen(PORT, HOST, function() {\n\n    console.log(\"I'm listening at %s, on port %s\", HOST, PORT);\n\n});\n\n// When an error occurs, show it.\nserver.on('error', function(error) {\n\n    console.error(error);\n\n    // Close the connection after the error occurred.\n    server.destroy();\n\n});",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552017854202,
        "id": "9ac03644-9d83-44da-9b96-8cc022183c64",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552017854202,
        "parent_id": "0d40e7db-c50a-40b1-a52d-bed7303e92c5",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "TLS Socket Client"
            ]
          ]
        },
        "type": "header",
        "version": 1,
        "inline_content": [
          {
            "Text": "TLS Socket Client"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552017854202,
        "id": "120d3f2b-de91-445a-ab2f-83040a534929",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552017854202,
        "parent_id": "0d40e7db-c50a-40b1-a52d-bed7303e92c5",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "'use strict';\n\nvar tls = require('tls');\nvar fs = require('fs');\n\nconst PORT = 1337;\nconst HOST = '127.0.0.1'\n\n// Pass the certs to the server and let it know to process even unauthorized certs.\nvar options = {\n    key: fs.readFileSync('private-key.pem'),\n    cert: fs.readFileSync('public-cert.pem'),\n    rejectUnauthorized: false\n};\n\nvar client = tls.connect(PORT, HOST, options, function() {\n\n    // Check if the authorization worked\n    if (client.authorized) {\n        console.log(\"Connection authorized by a Certificate Authority.\");\n    } else {\n        console.log(\"Connection not authorized: \" + client.authorizationError)\n    }\n\n    // Send a friendly message\n    client.write(\"I am the client sending you a message.\");\n\n});\n\nclient.on(\"data\", function(data) {\n\n    console.log('Received: %s [it is %d bytes long]',\n        data.toString().replace(/(\\n)/gm,\"\"),\n        data.length);\n\n    // Close the connection after receiving the message\n    client.end();\n\n});\n\nclient.on('close', function() {\n\n    console.log(\"Connection closed\");\n\n});\n\n// When an error ocoures, show it.\nclient.on('error', function(error) {\n\n    console.error(error);\n\n    // Close the connection after the error occurred.\n    client.destroy();\n\n});"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "'use strict';\n\nvar tls = require('tls');\nvar fs = require('fs');\n\nconst PORT = 1337;\nconst HOST = '127.0.0.1'\n\n// Pass the certs to the server and let it know to process even unauthorized certs.\nvar options = {\n    key: fs.readFileSync('private-key.pem'),\n    cert: fs.readFileSync('public-cert.pem'),\n    rejectUnauthorized: false\n};\n\nvar client = tls.connect(PORT, HOST, options, function() {\n\n    // Check if the authorization worked\n    if (client.authorized) {\n        console.log(\"Connection authorized by a Certificate Authority.\");\n    } else {\n        console.log(\"Connection not authorized: \" + client.authorizationError)\n    }\n\n    // Send a friendly message\n    client.write(\"I am the client sending you a message.\");\n\n});\n\nclient.on(\"data\", function(data) {\n\n    console.log('Received: %s [it is %d bytes long]',\n        data.toString().replace(/(\\n)/gm,\"\"),\n        data.length);\n\n    // Close the connection after receiving the message\n    client.end();\n\n});\n\nclient.on('close', function() {\n\n    console.log(\"Connection closed\");\n\n});\n\n// When an error ocoures, show it.\nclient.on('error', function(error) {\n\n    console.error(error);\n\n    // Close the connection after the error occurred.\n    client.destroy();\n\n});",
        "code_language": "Plain Text"
      }
    ],
    "title": "TLS Socket server and client",
    "format_page": {
      "page_cover": "",
      "page_cover_position": 0,
      "page_font": "",
      "page_full_width": true,
      "page_icon": "",
      "page_small_text": true
    }
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 19
    }
  ],
  "Tables": null
}