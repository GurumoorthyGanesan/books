{
  "ID": "700dc1eb-4392-4e3d-8781-3e8950d97faa",
  "Root": {
    "alive": true,
    "content": [
      "e1060586-b983-4ee7-8517-6f1bdbd6f440",
      "fa608073-879d-41f8-9075-ed5bdc1d37af",
      "71fbfcc6-48f0-498f-a073-4a6743ea77bf",
      "14336cd6-1cd2-4f73-a108-1a68d1513c9c",
      "c266ae90-3ff9-40fa-ab16-6ab8b487865b",
      "d7001257-abb2-4fbf-8505-d0f5d9c0869b",
      "339d7415-e422-4c93-bb46-72cd1aab5d17",
      "9ea5dd93-e9d1-413e-8e78-fecad03012c8",
      "38cbe819-e849-478d-ad99-99f731947ed6",
      "e1acce38-27a6-4e28-9f92-af086d38d556",
      "b059a2da-b0da-4a73-8d18-d4cfa1055fb4",
      "decb45d5-255f-486c-af11-fbfc84e7e080",
      "ebb28318-3077-4643-bbf2-248d8043b7e8",
      "d17bd508-bdcd-4b77-8d5f-a4d09045c056",
      "88c6a6f5-1b20-436f-be42-70e3c62f12c2",
      "f7622657-2d5e-4402-8488-0e6bbf7ca65c",
      "1f3af2d3-5675-4e90-b6f0-570aa5182483",
      "04364e59-2310-47fd-9bee-25fc98c41281",
      "7f789aec-9a73-4ed3-9965-c3cc992ec678",
      "df730f5c-42f6-43a8-a31f-6a541ce1c76f",
      "6d590880-8c82-43aa-9a26-5b7506495204"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1552019416064,
    "format": {
      "page_full_width": true,
      "page_small_text": true
    },
    "id": "700dc1eb-4392-4e3d-8781-3e8950d97faa",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1552019416064,
    "parent_id": "a01ba8bd-6a8d-4023-b41a-84c23505edfe",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "Processing long running queries with Node"
        ]
      ]
    },
    "type": "page",
    "version": 3,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552019416057,
        "id": "e1060586-b983-4ee7-8517-6f1bdbd6f440",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552019416057,
        "parent_id": "700dc1eb-4392-4e3d-8781-3e8950d97faa",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Since Node is single-threaded, there is a need of workaround if it comes to a long-running calculations."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Since Node is single-threaded, there is a need of workaround if it comes to a long-running calculations."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552019416060,
        "id": "fa608073-879d-41f8-9075-ed5bdc1d37af",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552019416060,
        "parent_id": "700dc1eb-4392-4e3d-8781-3e8950d97faa",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Note:",
              [
                [
                  "b"
                ]
              ]
            ],
            [
              " this is “ready to run” example. Just, don’t forget to get jQuery and install the required modules."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Note:",
            "AttrFlags": 1
          },
          {
            "Text": " this is “ready to run” example. Just, don’t forget to get jQuery and install the required modules."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552019416060,
        "id": "71fbfcc6-48f0-498f-a073-4a6743ea77bf",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552019416060,
        "parent_id": "700dc1eb-4392-4e3d-8781-3e8950d97faa",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Main logic of this example:",
              [
                [
                  "b"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Main logic of this example:",
            "AttrFlags": 1
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552019416061,
        "id": "14336cd6-1cd2-4f73-a108-1a68d1513c9c",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552019416061,
        "parent_id": "700dc1eb-4392-4e3d-8781-3e8950d97faa",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Client sends request to the server."
            ]
          ]
        },
        "type": "numbered_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "Client sends request to the server."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552019416061,
        "id": "c266ae90-3ff9-40fa-ab16-6ab8b487865b",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552019416061,
        "parent_id": "700dc1eb-4392-4e3d-8781-3e8950d97faa",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Server starts the routine in separate node instance and sends immediate response back with related task ID."
            ]
          ]
        },
        "type": "numbered_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "Server starts the routine in separate node instance and sends immediate response back with related task ID."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552019416062,
        "id": "d7001257-abb2-4fbf-8505-d0f5d9c0869b",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552019416062,
        "parent_id": "700dc1eb-4392-4e3d-8781-3e8950d97faa",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Client continiously sends checks to a server for status updates of the given task ID."
            ]
          ]
        },
        "type": "numbered_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "Client continiously sends checks to a server for status updates of the given task ID."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552019416062,
        "id": "339d7415-e422-4c93-bb46-72cd1aab5d17",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552019416062,
        "parent_id": "700dc1eb-4392-4e3d-8781-3e8950d97faa",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Project structure:",
              [
                [
                  "b"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Project structure:",
            "AttrFlags": 1
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552019416062,
        "id": "9ea5dd93-e9d1-413e-8e78-fecad03012c8",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552019416062,
        "parent_id": "700dc1eb-4392-4e3d-8781-3e8950d97faa",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "project\n    │   package.json\n    │   index.html    \n    │\n    ├───js\n    │      main.js\n    │      jquery-1.12.0.min.js\n    │   \n    └───srv\n        │    app.js\n        ├─── models\n        │      task.js\n        └─── tasks\n               data-processor.js"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "project\n    │   package.json\n    │   index.html    \n    │\n    ├───js\n    │      main.js\n    │      jquery-1.12.0.min.js\n    │   \n    └───srv\n        │    app.js\n        ├─── models\n        │      task.js\n        └─── tasks\n               data-processor.js",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552019416062,
        "id": "38cbe819-e849-478d-ad99-99f731947ed6",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552019416062,
        "parent_id": "700dc1eb-4392-4e3d-8781-3e8950d97faa",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "app.js:",
              [
                [
                  "b"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "app.js:",
            "AttrFlags": 1
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552019416062,
        "id": "e1acce38-27a6-4e28-9f92-af086d38d556",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552019416062,
        "parent_id": "700dc1eb-4392-4e3d-8781-3e8950d97faa",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "var express     = require('express');\nvar app         = express();\nvar http        = require('http').Server(app);\nvar mongoose    = require('mongoose');\nvar bodyParser  = require('body-parser');\n\nvar childProcess= require('child_process');\n\nvar Task        = require('./models/task');\n\napp.use(bodyParser.urlencoded({ extended: true }));\napp.use(bodyParser.json());\n\napp.use(express.static(__dirname + '/../'));\n\napp.get('/', function(request, response){\n    response.render('index.html');\n});\n\n//route for the request itself\napp.post('/long-running-request', function(request, response){\n    //create new task item for status tracking\n    var t = new Task({ status: 'Starting ...' });\n    \n    t.save(function(err, task){\n        //create new instance of node for running separate task in another thread\n        taskProcessor = childProcess.fork('./srv/tasks/data-processor.js');\n\n        //process the messages comming from the task processor\n        taskProcessor.on('message', function(msg){\n            task.status = msg.status;\n            task.save();\n        }.bind(this));\n\n        //remove previously openned node instance when we finished\n        taskProcessor.on('close', function(msg){\n            this.kill();\n        });\n\n        //send some params to our separate task\n        var params = {\n            message: 'Hello from main thread'\n        };\n\n        taskProcessor.send(params);\n        response.status(200).json(task);\n    });\n});\n\n//route to check is the request is finished the calculations\napp.post('/is-ready', function(request, response){\n    Task\n        .findById(request.body.id)\n        .exec(function(err, task){\n            response.status(200).json(task);\n        });\n});\n\nmongoose.connect('mongodb://localhost/test');\nhttp.listen('1234');"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "var express     = require('express');\nvar app         = express();\nvar http        = require('http').Server(app);\nvar mongoose    = require('mongoose');\nvar bodyParser  = require('body-parser');\n\nvar childProcess= require('child_process');\n\nvar Task        = require('./models/task');\n\napp.use(bodyParser.urlencoded({ extended: true }));\napp.use(bodyParser.json());\n\napp.use(express.static(__dirname + '/../'));\n\napp.get('/', function(request, response){\n    response.render('index.html');\n});\n\n//route for the request itself\napp.post('/long-running-request', function(request, response){\n    //create new task item for status tracking\n    var t = new Task({ status: 'Starting ...' });\n    \n    t.save(function(err, task){\n        //create new instance of node for running separate task in another thread\n        taskProcessor = childProcess.fork('./srv/tasks/data-processor.js');\n\n        //process the messages comming from the task processor\n        taskProcessor.on('message', function(msg){\n            task.status = msg.status;\n            task.save();\n        }.bind(this));\n\n        //remove previously openned node instance when we finished\n        taskProcessor.on('close', function(msg){\n            this.kill();\n        });\n\n        //send some params to our separate task\n        var params = {\n            message: 'Hello from main thread'\n        };\n\n        taskProcessor.send(params);\n        response.status(200).json(task);\n    });\n});\n\n//route to check is the request is finished the calculations\napp.post('/is-ready', function(request, response){\n    Task\n        .findById(request.body.id)\n        .exec(function(err, task){\n            response.status(200).json(task);\n        });\n});\n\nmongoose.connect('mongodb://localhost/test');\nhttp.listen('1234');",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552019416062,
        "id": "b059a2da-b0da-4a73-8d18-d4cfa1055fb4",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552019416062,
        "parent_id": "700dc1eb-4392-4e3d-8781-3e8950d97faa",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "task.js:",
              [
                [
                  "b"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "task.js:",
            "AttrFlags": 1
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552019416062,
        "id": "decb45d5-255f-486c-af11-fbfc84e7e080",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552019416062,
        "parent_id": "700dc1eb-4392-4e3d-8781-3e8950d97faa",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "var mongoose    = require('mongoose');\n\nvar taskSchema = mongoose.Schema({\n    status: {\n        type: String\n    }\n});\n\nmongoose.model('Task', taskSchema);\n\nmodule.exports  = mongoose.model('Task');"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "var mongoose    = require('mongoose');\n\nvar taskSchema = mongoose.Schema({\n    status: {\n        type: String\n    }\n});\n\nmongoose.model('Task', taskSchema);\n\nmodule.exports  = mongoose.model('Task');",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552019416063,
        "id": "ebb28318-3077-4643-bbf2-248d8043b7e8",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552019416063,
        "parent_id": "700dc1eb-4392-4e3d-8781-3e8950d97faa",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "data-processor.js:",
              [
                [
                  "b"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "data-processor.js:",
            "AttrFlags": 1
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552019416063,
        "id": "d17bd508-bdcd-4b77-8d5f-a4d09045c056",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552019416063,
        "parent_id": "700dc1eb-4392-4e3d-8781-3e8950d97faa",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "process.on('message', function(msg){\n    init = function(){\n        processData(msg.message);\n    }.bind(this)();\n    \n    function processData(message){\n        //send status update to the main app\n        process.send({ status: 'We have started processing your data.' });\n\n        //long calculations ..\n        setTimeout(function(){\n            process.send({ status: 'Done!' });\n            \n            //notify node, that we are done with this task\n            process.disconnect();\n        }, 5000);\n    }\n});\n\nprocess.on('uncaughtException',function(err){\n    console.log(\"Error happened: \" + err.message + \"\\n\" + err.stack + \".\\n\");\n    console.log(\"Gracefully finish the routine.\");\n});"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "process.on('message', function(msg){\n    init = function(){\n        processData(msg.message);\n    }.bind(this)();\n    \n    function processData(message){\n        //send status update to the main app\n        process.send({ status: 'We have started processing your data.' });\n\n        //long calculations ..\n        setTimeout(function(){\n            process.send({ status: 'Done!' });\n            \n            //notify node, that we are done with this task\n            process.disconnect();\n        }, 5000);\n    }\n});\n\nprocess.on('uncaughtException',function(err){\n    console.log(\"Error happened: \" + err.message + \"\\n\" + err.stack + \".\\n\");\n    console.log(\"Gracefully finish the routine.\");\n});",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552019416063,
        "id": "88c6a6f5-1b20-436f-be42-70e3c62f12c2",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552019416063,
        "parent_id": "700dc1eb-4392-4e3d-8781-3e8950d97faa",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "index.html:",
              [
                [
                  "b"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "index.html:",
            "AttrFlags": 1
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552019416063,
        "id": "f7622657-2d5e-4402-8488-0e6bbf7ca65c",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552019416063,
        "parent_id": "700dc1eb-4392-4e3d-8781-3e8950d97faa",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n    \u003chead\u003e\n        \u003cscript src=\"./js/jquery-1.12.0.min.js\"\u003e\u003c/script\u003e\n        \u003cscript src=\"./js/main.js\"\u003e\u003c/script\u003e\n    \u003c/head\u003e\n    \u003cbody\u003e\n        \u003cp\u003eExample of processing long-running node requests.\u003c/p\u003e\n        \u003cbutton id=\"go\" type=\"button\"\u003eRun\u003c/button\u003e\n        \n        \u003cbr /\u003e\n        \n        \u003cp\u003eLog:\u003c/p\u003e\n        \u003ctextarea id=\"log\" rows=\"20\" cols=\"50\"\u003e\u003c/textarea\u003e    \n    \u003c/body\u003e\n\u003c/html\u003e"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n    \u003chead\u003e\n        \u003cscript src=\"./js/jquery-1.12.0.min.js\"\u003e\u003c/script\u003e\n        \u003cscript src=\"./js/main.js\"\u003e\u003c/script\u003e\n    \u003c/head\u003e\n    \u003cbody\u003e\n        \u003cp\u003eExample of processing long-running node requests.\u003c/p\u003e\n        \u003cbutton id=\"go\" type=\"button\"\u003eRun\u003c/button\u003e\n        \n        \u003cbr /\u003e\n        \n        \u003cp\u003eLog:\u003c/p\u003e\n        \u003ctextarea id=\"log\" rows=\"20\" cols=\"50\"\u003e\u003c/textarea\u003e    \n    \u003c/body\u003e\n\u003c/html\u003e",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552019416063,
        "id": "1f3af2d3-5675-4e90-b6f0-570aa5182483",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552019416063,
        "parent_id": "700dc1eb-4392-4e3d-8781-3e8950d97faa",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "main.js:",
              [
                [
                  "b"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "main.js:",
            "AttrFlags": 1
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552019416063,
        "id": "04364e59-2310-47fd-9bee-25fc98c41281",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552019416063,
        "parent_id": "700dc1eb-4392-4e3d-8781-3e8950d97faa",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "$(document).on('ready', function(){\n    \n    $('#go').on('click', function(e){\n        //clear log\n        $(\"#log\").val('');\n        \n        $.post(\"/long-running-request\", {some_params: 'params' })\n            .done(function(task){\n                $(\"#log\").val( $(\"#log\").val() + '\\n' + task.status);\n                \n                //function for tracking the status of the task\n                function updateStatus(){\n                    $.post(\"/is-ready\", {id: task._id })\n                        .done(function(response){\n                            $(\"#log\").val( $(\"#log\").val() + '\\n' + response.status);\n                            \n                            if(response.status != 'Done!'){\n                                checkTaskTimeout = setTimeout(updateStatus, 500);\n                            }\n                        });\n                }\n                \n                //start checking the task\n                var checkTaskTimeout = setTimeout(updateStatus, 100);\n            });\n    });\n});"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "$(document).on('ready', function(){\n    \n    $('#go').on('click', function(e){\n        //clear log\n        $(\"#log\").val('');\n        \n        $.post(\"/long-running-request\", {some_params: 'params' })\n            .done(function(task){\n                $(\"#log\").val( $(\"#log\").val() + '\\n' + task.status);\n                \n                //function for tracking the status of the task\n                function updateStatus(){\n                    $.post(\"/is-ready\", {id: task._id })\n                        .done(function(response){\n                            $(\"#log\").val( $(\"#log\").val() + '\\n' + response.status);\n                            \n                            if(response.status != 'Done!'){\n                                checkTaskTimeout = setTimeout(updateStatus, 500);\n                            }\n                        });\n                }\n                \n                //start checking the task\n                var checkTaskTimeout = setTimeout(updateStatus, 100);\n            });\n    });\n});",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552019416063,
        "id": "7f789aec-9a73-4ed3-9965-c3cc992ec678",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552019416063,
        "parent_id": "700dc1eb-4392-4e3d-8781-3e8950d97faa",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "package.json:",
              [
                [
                  "b"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "package.json:",
            "AttrFlags": 1
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552019416064,
        "id": "df730f5c-42f6-43a8-a31f-6a541ce1c76f",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552019416064,
        "parent_id": "700dc1eb-4392-4e3d-8781-3e8950d97faa",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "{\n  \"name\": \"nodeProcessor\",\n  \"dependencies\": {\n    \"body-parser\": \"^1.15.2\",\n    \"express\": \"^4.14.0\",\n    \"html\": \"0.0.10\",\n    \"mongoose\": \"^4.5.5\"\n  }\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "{\n  \"name\": \"nodeProcessor\",\n  \"dependencies\": {\n    \"body-parser\": \"^1.15.2\",\n    \"express\": \"^4.14.0\",\n    \"html\": \"0.0.10\",\n    \"mongoose\": \"^4.5.5\"\n  }\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552019416064,
        "id": "6d590880-8c82-43aa-9a26-5b7506495204",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552019416064,
        "parent_id": "700dc1eb-4392-4e3d-8781-3e8950d97faa",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Disclaimer:",
              [
                [
                  "b"
                ]
              ]
            ],
            [
              " this example is intended to give you basic idea. To use it in production environment, it needs improvements."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Disclaimer:",
            "AttrFlags": 1
          },
          {
            "Text": " this example is intended to give you basic idea. To use it in production environment, it needs improvements."
          }
        ]
      }
    ],
    "title": "Processing long running queries with Node",
    "format_page": {
      "page_cover": "",
      "page_cover_position": 0,
      "page_font": "",
      "page_full_width": true,
      "page_icon": "",
      "page_small_text": true
    }
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 18
    }
  ],
  "Tables": null
}