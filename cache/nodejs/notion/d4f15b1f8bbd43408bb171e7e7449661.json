{
  "ID": "d4f15b1f-8bbd-4340-8bb1-71e7e7449661",
  "Root": {
    "alive": true,
    "content": [
      "ddd2f5c4-417a-461b-a715-3a477cb00749",
      "e275f8d3-14ea-4039-be4a-5a54a299c8eb",
      "5d598bd3-dd3b-412c-afbe-878e6d64ba0d",
      "2d638f6e-06ed-42f7-9376-1c2e9af7c5b3",
      "c322a441-5102-4a9b-9db0-fe24dbd5d38e",
      "b7f12713-d763-4564-97dd-a007e674bffa",
      "56d7b9a1-190a-4dd9-ad46-e49b7adfdc52",
      "d051f6a8-3f6f-4d04-b025-4d28c2ba92f4"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1552018263222,
    "format": {
      "page_full_width": true,
      "page_small_text": true
    },
    "id": "d4f15b1f-8bbd-4340-8bb1-71e7e7449661",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1552018263222,
    "parent_id": "4873ed8f-e753-4e4e-96f0-577822f3466d",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "Manage app with process manager"
        ]
      ]
    },
    "type": "page",
    "version": 3,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018263220,
        "id": "ddd2f5c4-417a-461b-a715-3a477cb00749",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018263220,
        "parent_id": "d4f15b1f-8bbd-4340-8bb1-71e7e7449661",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "It’s a good practice to run NodeJS apps controlled by process managers. Process manager helps to keep application alive forever, restart on failure, reload without downtime and simplifies administrating. Most powerful of them (like "
            ],
            [
              "PM2",
              [
                [
                  "a",
                  "http://pm2.keymetrics.io/"
                ]
              ]
            ],
            [
              ") have a built-in load balancer. PM2 also enables you to manage application logging, monitoring, and clustering."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "It’s a good practice to run NodeJS apps controlled by process managers. Process manager helps to keep application alive forever, restart on failure, reload without downtime and simplifies administrating. Most powerful of them (like "
          },
          {
            "Text": "PM2",
            "Link": "http://pm2.keymetrics.io/"
          },
          {
            "Text": ") have a built-in load balancer. PM2 also enables you to manage application logging, monitoring, and clustering."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018263221,
        "id": "e275f8d3-14ea-4039-be4a-5a54a299c8eb",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018263221,
        "parent_id": "d4f15b1f-8bbd-4340-8bb1-71e7e7449661",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "PM2 process manager"
            ]
          ]
        },
        "type": "sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "PM2 process manager"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018263221,
        "id": "5d598bd3-dd3b-412c-afbe-878e6d64ba0d",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018263221,
        "parent_id": "d4f15b1f-8bbd-4340-8bb1-71e7e7449661",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Installing PM2:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Installing PM2:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018263221,
        "id": "2d638f6e-06ed-42f7-9376-1c2e9af7c5b3",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018263221,
        "parent_id": "d4f15b1f-8bbd-4340-8bb1-71e7e7449661",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "npm install pm2 -g",
              [
                [
                  "c"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "npm install pm2 -g",
            "AttrFlags": 2
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018263222,
        "id": "c322a441-5102-4a9b-9db0-fe24dbd5d38e",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018263222,
        "parent_id": "d4f15b1f-8bbd-4340-8bb1-71e7e7449661",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Process can be started in cluster mode involving integrated load balancer to spread load between processes:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Process can be started in cluster mode involving integrated load balancer to spread load between processes:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018263222,
        "id": "b7f12713-d763-4564-97dd-a007e674bffa",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018263222,
        "parent_id": "d4f15b1f-8bbd-4340-8bb1-71e7e7449661",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "pm2 start app.js -i 0 --name \"api\"",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " ("
            ],
            [
              "-i",
              [
                [
                  "i"
                ]
              ]
            ],
            [
              " is to specify number of processes to spawn. If it is 0, then process number will be based on CPU cores count)"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "pm2 start app.js -i 0 --name \"api\"",
            "AttrFlags": 2
          },
          {
            "Text": " ("
          },
          {
            "Text": "-i",
            "AttrFlags": 4
          },
          {
            "Text": " is to specify number of processes to spawn. If it is 0, then process number will be based on CPU cores count)"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018263222,
        "id": "56d7b9a1-190a-4dd9-ad46-e49b7adfdc52",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018263222,
        "parent_id": "d4f15b1f-8bbd-4340-8bb1-71e7e7449661",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "While having multiple users in production, its must to have a single point for PM2. Therefore pm2 command must be prefixed with a location (for PM2 config) else it will spawn a new pm2 process for every user with config in respective home directory. And it will be inconsistent."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "While having multiple users in production, its must to have a single point for PM2. Therefore pm2 command must be prefixed with a location (for PM2 config) else it will spawn a new pm2 process for every user with config in respective home directory. And it will be inconsistent."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552018263222,
        "id": "d051f6a8-3f6f-4d04-b025-4d28c2ba92f4",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552018263222,
        "parent_id": "d4f15b1f-8bbd-4340-8bb1-71e7e7449661",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Usage: "
            ],
            [
              "PM2_HOME=/etc/.pm2 pm2 start app.js",
              [
                [
                  "c"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Usage: "
          },
          {
            "Text": "PM2_HOME=/etc/.pm2 pm2 start app.js",
            "AttrFlags": 2
          }
        ]
      }
    ],
    "title": "Manage app with process manager",
    "format_page": {
      "page_cover": "",
      "page_cover_position": 0,
      "page_font": "",
      "page_full_width": true,
      "page_icon": "",
      "page_small_text": true
    }
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 18
    }
  ],
  "Tables": null
}