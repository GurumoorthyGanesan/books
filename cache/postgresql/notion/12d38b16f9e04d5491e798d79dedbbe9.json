{
  "ID": "12d38b16-f9e0-4d54-91e7-98d79dedbbe9",
  "Root": {
    "alive": true,
    "content": [
      "a9e116da-2591-419a-9349-ff71de9dbea0",
      "06339534-0705-4c24-b53a-596c7443864b",
      "3aed4bf1-4cf3-4c24-b3ff-f20d85e79a41",
      "31b1525f-3bae-411e-9f19-27e183220f21",
      "33f392a4-5d5e-45da-afc6-9f507bae41bc",
      "30fc1d01-0f98-4e52-8845-ea7b19fb97c1",
      "cf253773-8d35-4626-8070-14565637f31a",
      "21209d5c-b2c2-4d74-b1cf-8058f9d31b7f"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1550385018167,
    "id": "12d38b16-f9e0-4d54-91e7-98d79dedbbe9",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1550480400000,
    "parent_id": "6feaa1fc-e2a7-4554-bc6c-fd6fa87755f4",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "Backing up the whole cluster"
        ]
      ]
    },
    "type": "page",
    "version": 6,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550385018162,
        "id": "a9e116da-2591-419a-9349-ff71de9dbea0",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550385018162,
        "parent_id": "12d38b16-f9e0-4d54-91e7-98d79dedbbe9",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "$ pg_dumpall -f backup.sql"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "$ pg_dumpall -f backup.sql",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550385018164,
        "id": "06339534-0705-4c24-b53a-596c7443864b",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550385018164,
        "parent_id": "12d38b16-f9e0-4d54-91e7-98d79dedbbe9",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "This works behind the scenes by making multiple connections to the server once for each database and executing "
            ],
            [
              "pg_dump",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " on it."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "This works behind the scenes by making multiple connections to the server once for each database and executing "
          },
          {
            "Text": "pg_dump",
            "AttrFlags": 2
          },
          {
            "Text": " on it."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550385018165,
        "id": "3aed4bf1-4cf3-4c24-b3ff-f20d85e79a41",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550385018165,
        "parent_id": "12d38b16-f9e0-4d54-91e7-98d79dedbbe9",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Sometimes, you might be tempted to set this up as a cron job, so you want to see the date the backup was taken as part of the filename:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Sometimes, you might be tempted to set this up as a cron job, so you want to see the date the backup was taken as part of the filename:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550385018165,
        "id": "31b1525f-3bae-411e-9f19-27e183220f21",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550385018165,
        "parent_id": "12d38b16-f9e0-4d54-91e7-98d79dedbbe9",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "$ postgres-backup-$(date +%Y-%m-%d).sql"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "$ postgres-backup-$(date +%Y-%m-%d).sql",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550385018166,
        "id": "33f392a4-5d5e-45da-afc6-9f507bae41bc",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550385018166,
        "parent_id": "12d38b16-f9e0-4d54-91e7-98d79dedbbe9",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "However, please note that this could produce large files on a daily basis. Postgresql has a much better mechanism for regular backups - "
            ],
            [
              "WAL archives",
              [
                [
                  "a",
                  "https://www.postgresql.org/docs/9.2/static/continuous-archiving.html"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "However, please note that this could produce large files on a daily basis. Postgresql has a much better mechanism for regular backups - "
          },
          {
            "Text": "WAL archives",
            "Link": "https://www.postgresql.org/docs/9.2/static/continuous-archiving.html"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550385018167,
        "id": "30fc1d01-0f98-4e52-8845-ea7b19fb97c1",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550385018167,
        "parent_id": "12d38b16-f9e0-4d54-91e7-98d79dedbbe9",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The output from pg_dumpall is sufficient to restore to an identically-configured Postgres instance, but the configuration files in "
            ],
            [
              "$PGDATA",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " ("
            ],
            [
              "pg_hba.conf",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " and "
            ],
            [
              "postgresql.conf",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ") are not part of the backup, so you’ll have to back them up separately."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "The output from pg_dumpall is sufficient to restore to an identically-configured Postgres instance, but the configuration files in "
          },
          {
            "Text": "$PGDATA",
            "AttrFlags": 2
          },
          {
            "Text": " ("
          },
          {
            "Text": "pg_hba.conf",
            "AttrFlags": 2
          },
          {
            "Text": " and "
          },
          {
            "Text": "postgresql.conf",
            "AttrFlags": 2
          },
          {
            "Text": ") are not part of the backup, so you’ll have to back them up separately."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550385018167,
        "id": "cf253773-8d35-4626-8070-14565637f31a",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550385018167,
        "parent_id": "12d38b16-f9e0-4d54-91e7-98d79dedbbe9",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "postgres=# SELECT pg_start_backup('my-backup');\npostgres=# SELECT pg_stop_backup();"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "postgres=# SELECT pg_start_backup('my-backup');\npostgres=# SELECT pg_stop_backup();",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550385018167,
        "id": "21209d5c-b2c2-4d74-b1cf-8058f9d31b7f",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550385018167,
        "parent_id": "12d38b16-f9e0-4d54-91e7-98d79dedbbe9",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "To take a filesystem backup, you must use these functions to help ensure that Postgres is in a consistent state while the backup is prepared."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "To take a filesystem backup, you must use these functions to help ensure that Postgres is in a consistent state while the backup is prepared."
          }
        ]
      }
    ],
    "title": "Backing up the whole cluster"
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 18
    }
  ],
  "Tables": null
}