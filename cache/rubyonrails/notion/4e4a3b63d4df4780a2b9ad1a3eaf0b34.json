{
  "ID": "4e4a3b63-d4df-4780-a2b9-ad1a3eaf0b34",
  "Root": {
    "alive": true,
    "content": [
      "2c64b7d2-187d-454c-afc3-073baa109577",
      "be6c9175-878c-4b51-ab2c-8bf517051fac",
      "6c3df70a-8319-40ba-b3e1-a4d1dcde7d0b",
      "7d010dba-fee5-48ed-991f-f9ef8af34b66",
      "4e94978c-7d80-46e6-a85a-b552e4fabf86",
      "80394b5a-fba0-48bf-b853-4ae5c63a2ada",
      "d8ebae9b-1888-4bf2-868a-9a7eefe35867",
      "62ff9474-2f81-4067-8c57-5115d6fc87ad",
      "9df80fd1-d0f3-4795-9087-a62246845040",
      "b91b5b58-c6a3-49af-aeef-950324b97cbb",
      "d6ccdfa6-21fc-4263-a385-b5a51748a674"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1552103186840,
    "format": {
      "page_full_width": true,
      "page_small_text": true
    },
    "id": "4e4a3b63-d4df-4780-a2b9-ad1a3eaf0b34",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1552103186840,
    "parent_id": "585e7db7-1152-40b3-bd87-d5d43801cfff",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "Russian Doll Caching"
        ]
      ]
    },
    "type": "page",
    "version": 3,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552103186838,
        "id": "2c64b7d2-187d-454c-afc3-073baa109577",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552103186838,
        "parent_id": "4e4a3b63-d4df-4780-a2b9-ad1a3eaf0b34",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "You may want to nest cached fragments inside other cached fragments. This is called "
            ],
            [
              "Russian doll caching",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "You may want to nest cached fragments inside other cached fragments. This is called "
          },
          {
            "Text": "Russian doll caching",
            "AttrFlags": 2
          },
          {
            "Text": "."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552103186839,
        "id": "be6c9175-878c-4b51-ab2c-8bf517051fac",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552103186839,
        "parent_id": "4e4a3b63-d4df-4780-a2b9-ad1a3eaf0b34",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The advantage of "
            ],
            [
              "Russian doll caching",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " is that if a single product is updated, all the other inner fragments can be reused when regenerating the outer fragment."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "The advantage of "
          },
          {
            "Text": "Russian doll caching",
            "AttrFlags": 2
          },
          {
            "Text": " is that if a single product is updated, all the other inner fragments can be reused when regenerating the outer fragment."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552103186839,
        "id": "6c3df70a-8319-40ba-b3e1-a4d1dcde7d0b",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552103186839,
        "parent_id": "4e4a3b63-d4df-4780-a2b9-ad1a3eaf0b34",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "As explained in the previous section, a cached file will expire if the value of "
            ],
            [
              "updated_at",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " changes for a record on which the cached file directly depends. However, this will not expire any cache the fragment is nested within."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "As explained in the previous section, a cached file will expire if the value of "
          },
          {
            "Text": "updated_at",
            "AttrFlags": 2
          },
          {
            "Text": " changes for a record on which the cached file directly depends. However, this will not expire any cache the fragment is nested within."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552103186839,
        "id": "7d010dba-fee5-48ed-991f-f9ef8af34b66",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552103186839,
        "parent_id": "4e4a3b63-d4df-4780-a2b9-ad1a3eaf0b34",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "For example, take the following view:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "For example, take the following view:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552103186839,
        "id": "4e94978c-7d80-46e6-a85a-b552e4fabf86",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552103186839,
        "parent_id": "4e4a3b63-d4df-4780-a2b9-ad1a3eaf0b34",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "\u003c% cache product do %\u003e\n  \u003c%= render product.games %\u003e\n\u003c% end %\u003e"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "\u003c% cache product do %\u003e\n  \u003c%= render product.games %\u003e\n\u003c% end %\u003e",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552103186839,
        "id": "80394b5a-fba0-48bf-b853-4ae5c63a2ada",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552103186839,
        "parent_id": "4e4a3b63-d4df-4780-a2b9-ad1a3eaf0b34",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Which in turn renders this view:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Which in turn renders this view:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552103186839,
        "id": "d8ebae9b-1888-4bf2-868a-9a7eefe35867",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552103186839,
        "parent_id": "4e4a3b63-d4df-4780-a2b9-ad1a3eaf0b34",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "\u003c% cache game do %\u003e\n  \u003c%= render game %\u003e\n\u003c% end %\u003e"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "\u003c% cache game do %\u003e\n  \u003c%= render game %\u003e\n\u003c% end %\u003e",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552103186839,
        "id": "62ff9474-2f81-4067-8c57-5115d6fc87ad",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552103186839,
        "parent_id": "4e4a3b63-d4df-4780-a2b9-ad1a3eaf0b34",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "If any attribute of game is changed, the "
            ],
            [
              "updated_at",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " value will be set to the current time, thereby expiring the cache."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "If any attribute of game is changed, the "
          },
          {
            "Text": "updated_at",
            "AttrFlags": 2
          },
          {
            "Text": " value will be set to the current time, thereby expiring the cache."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552103186839,
        "id": "9df80fd1-d0f3-4795-9087-a62246845040",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552103186839,
        "parent_id": "4e4a3b63-d4df-4780-a2b9-ad1a3eaf0b34",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "However, because "
            ],
            [
              "updated_at",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " will not be changed for the product object, that cache will not be expired and your app will serve stale data. To fix this, we tie the models together with the touch method:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "However, because "
          },
          {
            "Text": "updated_at",
            "AttrFlags": 2
          },
          {
            "Text": " will not be changed for the product object, that cache will not be expired and your app will serve stale data. To fix this, we tie the models together with the touch method:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552103186840,
        "id": "b91b5b58-c6a3-49af-aeef-950324b97cbb",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552103186840,
        "parent_id": "4e4a3b63-d4df-4780-a2b9-ad1a3eaf0b34",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "class Product \u003c ApplicationRecord\n  has_many :games\nend"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "class Product \u003c ApplicationRecord\n  has_many :games\nend",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552103186840,
        "id": "d6ccdfa6-21fc-4263-a385-b5a51748a674",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552103186840,
        "parent_id": "4e4a3b63-d4df-4780-a2b9-ad1a3eaf0b34",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "class Game \u003c ApplicationRecord\n  belongs_to :product, touch: true\nend"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "class Game \u003c ApplicationRecord\n  belongs_to :product, touch: true\nend",
        "code_language": "Plain Text"
      }
    ],
    "title": "Russian Doll Caching",
    "format_page": {
      "page_cover": "",
      "page_cover_position": 0,
      "page_font": "",
      "page_full_width": true,
      "page_icon": "",
      "page_small_text": true
    }
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 19
    }
  ],
  "Tables": null
}