{
  "ID": "8f363676-2e74-4004-a3ab-b72791612bdf",
  "Root": {
    "alive": true,
    "content": [
      "20c85b88-16fd-4e5f-8002-32e2d85c0d1c",
      "01668ba5-9a2b-4cdf-9061-72c7b6851b55",
      "4343279a-30be-4a76-be88-d172c652ea95",
      "93d071bd-7836-4db0-b846-9ab227c6130d",
      "15bf851b-273d-42bf-8a07-2f6834e0ecd3",
      "298d1fd1-6387-48b5-ac6d-afee92e894d2"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1552103077019,
    "format": {
      "page_full_width": true,
      "page_small_text": true
    },
    "id": "8f363676-2e74-4004-a3ab-b72791612bdf",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1552103077019,
    "parent_id": "a3fc5651-092a-4de3-9569-c3129179c417",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "Add column with default value"
        ]
      ]
    },
    "type": "page",
    "version": 3,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552103077018,
        "id": "20c85b88-16fd-4e5f-8002-32e2d85c0d1c",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552103077018,
        "parent_id": "8f363676-2e74-4004-a3ab-b72791612bdf",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The following example adds a column "
            ],
            [
              "admin",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " to the "
            ],
            [
              "users",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " table, and gives that column the default value "
            ],
            [
              "false",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "The following example adds a column "
          },
          {
            "Text": "admin",
            "AttrFlags": 2
          },
          {
            "Text": " to the "
          },
          {
            "Text": "users",
            "AttrFlags": 2
          },
          {
            "Text": " table, and gives that column the default value "
          },
          {
            "Text": "false",
            "AttrFlags": 2
          },
          {
            "Text": "."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552103077018,
        "id": "01668ba5-9a2b-4cdf-9061-72c7b6851b55",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552103077018,
        "parent_id": "8f363676-2e74-4004-a3ab-b72791612bdf",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "class AddDetailsToUsers \u003c ActiveRecord::Migration[5.0]\n  def change\n    add_column :users, :admin, :boolean, default: false\n  end\nend"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "class AddDetailsToUsers \u003c ActiveRecord::Migration[5.0]\n  def change\n    add_column :users, :admin, :boolean, default: false\n  end\nend",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552103077019,
        "id": "4343279a-30be-4a76-be88-d172c652ea95",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552103077019,
        "parent_id": "8f363676-2e74-4004-a3ab-b72791612bdf",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Migrations with defaults might take a long time in large tables with for example PostgreSQL. This is because each row will have to be updated with the default value for the newly added column. To circumvent this (and reduce downtime during deployments), you can split your migration into three steps:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Migrations with defaults might take a long time in large tables with for example PostgreSQL. This is because each row will have to be updated with the default value for the newly added column. To circumvent this (and reduce downtime during deployments), you can split your migration into three steps:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552103077019,
        "id": "93d071bd-7836-4db0-b846-9ab227c6130d",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552103077019,
        "parent_id": "8f363676-2e74-4004-a3ab-b72791612bdf",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Add a "
            ],
            [
              "add_column",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "-migration similar to the one above, but set no default"
            ]
          ]
        },
        "type": "numbered_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "Add a "
          },
          {
            "Text": "add_column",
            "AttrFlags": 2
          },
          {
            "Text": "-migration similar to the one above, but set no default"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552103077019,
        "id": "15bf851b-273d-42bf-8a07-2f6834e0ecd3",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552103077019,
        "parent_id": "8f363676-2e74-4004-a3ab-b72791612bdf",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Deploy and update the column in a rake task or on the console while your app is running. Make sure your application already writes data to that colum for new/updated rows."
            ]
          ]
        },
        "type": "numbered_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "Deploy and update the column in a rake task or on the console while your app is running. Make sure your application already writes data to that colum for new/updated rows."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552103077019,
        "id": "298d1fd1-6387-48b5-ac6d-afee92e894d2",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552103077019,
        "parent_id": "8f363676-2e74-4004-a3ab-b72791612bdf",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Add another "
            ],
            [
              "change_column",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " migration, which then changes the default of that column to the desired default value"
            ]
          ]
        },
        "type": "numbered_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "Add another "
          },
          {
            "Text": "change_column",
            "AttrFlags": 2
          },
          {
            "Text": " migration, which then changes the default of that column to the desired default value"
          }
        ]
      }
    ],
    "title": "Add column with default value",
    "format_page": {
      "page_cover": "",
      "page_cover_position": 0,
      "page_font": "",
      "page_full_width": true,
      "page_icon": "",
      "page_small_text": true
    }
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 19
    }
  ],
  "Tables": null
}