{
  "ID": "9845f3bc-fccd-4169-892f-f282e00fecca",
  "Root": {
    "alive": true,
    "content": [
      "0fa4a2a9-2566-4da6-be7c-a16667709190",
      "83112cd6-238a-48d6-8434-4647daf1c472",
      "148ee7f1-4e8b-4fd5-ba54-5ec5c6f5d979",
      "784f3c7c-1e85-4957-9152-86266e17feea",
      "87bb9e88-971b-462e-8c73-4499d5f79243",
      "c7d56348-9bfe-4a18-9fed-74d69c247fc5",
      "46d4c9f8-951e-449b-8cce-af4590d7ea8d",
      "72e5e7c4-b7f7-4186-8ce8-ba1d7d8b039b",
      "bedff8f8-9a09-4c3f-892b-975291ad0fa8",
      "652cc1ba-4555-4b64-818b-b8b0596363d4",
      "5db65823-f689-453e-8407-7decf551d3e2",
      "ad51b041-5a2f-4df6-b0b7-4367c5d636bf",
      "37401e12-3556-466d-92b6-7aa645fe3252",
      "83a963ec-6f5a-458b-954a-12bab1a0961b"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1552103036905,
    "format": {
      "page_full_width": true,
      "page_small_text": true
    },
    "id": "9845f3bc-fccd-4169-892f-f282e00fecca",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1552103036905,
    "parent_id": "d191d130-73b7-4e58-87da-ca12cd59db78",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "Constraints"
        ]
      ]
    },
    "type": "page",
    "version": 3,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552103036900,
        "id": "0fa4a2a9-2566-4da6-be7c-a16667709190",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552103036900,
        "parent_id": "9845f3bc-fccd-4169-892f-f282e00fecca",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "You can filter what routes are available using constraints."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "You can filter what routes are available using constraints."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552103036901,
        "id": "83112cd6-238a-48d6-8434-4647daf1c472",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552103036901,
        "parent_id": "9845f3bc-fccd-4169-892f-f282e00fecca",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "There are several ways to use constraints including:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "There are several ways to use constraints including:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552103036901,
        "id": "148ee7f1-4e8b-4fd5-ba54-5ec5c6f5d979",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552103036901,
        "parent_id": "9845f3bc-fccd-4169-892f-f282e00fecca",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "segment constraints",
              [
                [
                  "a",
                  "http://guides.rubyonrails.org/routing.html#segment-constraints"
                ]
              ]
            ],
            [
              ","
            ]
          ]
        },
        "type": "bulleted_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "segment constraints",
            "Link": "http://guides.rubyonrails.org/routing.html#segment-constraints"
          },
          {
            "Text": ","
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552103036902,
        "id": "784f3c7c-1e85-4957-9152-86266e17feea",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552103036902,
        "parent_id": "9845f3bc-fccd-4169-892f-f282e00fecca",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "request based constraints",
              [
                [
                  "a",
                  "http://guides.rubyonrails.org/routing.html#request-based-constraints"
                ]
              ]
            ]
          ]
        },
        "type": "bulleted_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "request based constraints",
            "Link": "http://guides.rubyonrails.org/routing.html#request-based-constraints"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552103036903,
        "id": "87bb9e88-971b-462e-8c73-4499d5f79243",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552103036903,
        "parent_id": "9845f3bc-fccd-4169-892f-f282e00fecca",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "advanced constraints",
              [
                [
                  "a",
                  "http://guides.rubyonrails.org/routing.html#advanced-constraints"
                ]
              ]
            ]
          ]
        },
        "type": "bulleted_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "advanced constraints",
            "Link": "http://guides.rubyonrails.org/routing.html#advanced-constraints"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552103036903,
        "id": "c7d56348-9bfe-4a18-9fed-74d69c247fc5",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552103036903,
        "parent_id": "9845f3bc-fccd-4169-892f-f282e00fecca",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "For example, a requested based constraint to only allow a specific IP address to access a route:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "For example, a requested based constraint to only allow a specific IP address to access a route:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552103036903,
        "id": "46d4c9f8-951e-449b-8cce-af4590d7ea8d",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552103036903,
        "parent_id": "9845f3bc-fccd-4169-892f-f282e00fecca",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "constraints(ip: /127\\.0\\.0\\.1$/) do\n  get 'route', to: \"controller#action\"\nend"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "constraints(ip: /127\\.0\\.0\\.1$/) do\n  get 'route', to: \"controller#action\"\nend",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552103036903,
        "id": "72e5e7c4-b7f7-4186-8ce8-ba1d7d8b039b",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552103036903,
        "parent_id": "9845f3bc-fccd-4169-892f-f282e00fecca",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "See other similar examples ActionDispatch::Routing::Mapper::Scoping",
              [
                [
                  "a",
                  "http://api.rubyonrails.org/classes/ActionDispatch/Routing/Mapper/Scoping.html"
                ]
              ]
            ],
            [
              "."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "See other similar examples ActionDispatch::Routing::Mapper::Scoping",
            "Link": "http://api.rubyonrails.org/classes/ActionDispatch/Routing/Mapper/Scoping.html"
          },
          {
            "Text": "."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552103036904,
        "id": "bedff8f8-9a09-4c3f-892b-975291ad0fa8",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552103036904,
        "parent_id": "9845f3bc-fccd-4169-892f-f282e00fecca",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "If you want to do something more complex you can use more advanced constraints and create a class to wrap the logic:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "If you want to do something more complex you can use more advanced constraints and create a class to wrap the logic:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552103036904,
        "id": "652cc1ba-4555-4b64-818b-b8b0596363d4",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552103036904,
        "parent_id": "9845f3bc-fccd-4169-892f-f282e00fecca",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "# lib/api_version_constraint.rb\nclass ApiVersionConstraint\n  def initialize(version:, default:)\n    @version = version\n    @default = default\n  end\n\n  def version_header\n    \"application/vnd.my-app.v#{@version}\"\n  end\n\n  def matches?(request)\n    @default || request.headers[\"Accept\"].include?(version_header)\n  end\nend\n\n# config/routes.rb\nrequire \"api_version_constraint\"\n\nRails.application.routes.draw do\n  namespace :v1, constraints: ApiVersionConstraint.new(version: 1, default: true) do\n    resources :users # Will route to app/controllers/v1/users_controller.rb\n  end\n\n  namespace :v2, constraints: ApiVersionConstraint.new(version: 2) do\n    resources :users # Will route to app/controllers/v2/users_controller.rb\n  end\nend"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "# lib/api_version_constraint.rb\nclass ApiVersionConstraint\n  def initialize(version:, default:)\n    @version = version\n    @default = default\n  end\n\n  def version_header\n    \"application/vnd.my-app.v#{@version}\"\n  end\n\n  def matches?(request)\n    @default || request.headers[\"Accept\"].include?(version_header)\n  end\nend\n\n# config/routes.rb\nrequire \"api_version_constraint\"\n\nRails.application.routes.draw do\n  namespace :v1, constraints: ApiVersionConstraint.new(version: 1, default: true) do\n    resources :users # Will route to app/controllers/v1/users_controller.rb\n  end\n\n  namespace :v2, constraints: ApiVersionConstraint.new(version: 2) do\n    resources :users # Will route to app/controllers/v2/users_controller.rb\n  end\nend",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552103036904,
        "id": "5db65823-f689-453e-8407-7decf551d3e2",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552103036904,
        "parent_id": "9845f3bc-fccd-4169-892f-f282e00fecca",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "One form, several submit buttons",
              [
                [
                  "b"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "One form, several submit buttons",
            "AttrFlags": 1
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552103036904,
        "id": "ad51b041-5a2f-4df6-b0b7-4367c5d636bf",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552103036904,
        "parent_id": "9845f3bc-fccd-4169-892f-f282e00fecca",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "You can also use the value of the submit tags of a form as a constraint to route to a different action. If you have a form with multiple submit buttons (eg “preview” and “submit”), you could capture this constraint directly in your "
            ],
            [
              "routes.rb",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ", instead of writing javascript to change the form destination URL. For example with the "
            ],
            [
              "commit_param_routing",
              [
                [
                  "a",
                  "https://github.com/siliconsenthil/commit_param_routing"
                ]
              ]
            ],
            [
              " gem you can take advantage of rails "
            ],
            [
              "submit_tag",
              [
                [
                  "c"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "You can also use the value of the submit tags of a form as a constraint to route to a different action. If you have a form with multiple submit buttons (eg “preview” and “submit”), you could capture this constraint directly in your "
          },
          {
            "Text": "routes.rb",
            "AttrFlags": 2
          },
          {
            "Text": ", instead of writing javascript to change the form destination URL. For example with the "
          },
          {
            "Text": "commit_param_routing",
            "Link": "https://github.com/siliconsenthil/commit_param_routing"
          },
          {
            "Text": " gem you can take advantage of rails "
          },
          {
            "Text": "submit_tag",
            "AttrFlags": 2
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552103036905,
        "id": "37401e12-3556-466d-92b6-7aa645fe3252",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552103036905,
        "parent_id": "9845f3bc-fccd-4169-892f-f282e00fecca",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Rails "
            ],
            [
              "submit_tag",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " first parameter lets you change the value of your form commit parameter"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Rails "
          },
          {
            "Text": "submit_tag",
            "AttrFlags": 2
          },
          {
            "Text": " first parameter lets you change the value of your form commit parameter"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552103036905,
        "id": "83a963ec-6f5a-458b-954a-12bab1a0961b",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552103036905,
        "parent_id": "9845f3bc-fccd-4169-892f-f282e00fecca",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "# app/views/orders/mass_order.html.erb\n\u003c%= form_for(@orders, url: mass_create_order_path do |f| %\u003e\n    \u003c!-- Big form here --\u003e\n  \u003c%= submit_tag \"Preview\" %\u003e\n  \u003c%= submit_tag \"Submit\" %\u003e\n  # =\u003e \u003cinput name=\"commit\" type=\"submit\" value=\"Preview\" /\u003e\n  # =\u003e \u003cinput name=\"commit\" type=\"submit\" value=\"Submit\" /\u003e\n  ...\n\u003c% end %\u003e\n\n# config/routes.rb\nresources :orders do\n  # Both routes below describe the same POST URL, but route to different actions \n  post 'mass_order', on: :collection, as: 'mass_order',\n    constraints: CommitParamRouting.new('Submit'), action: 'mass_create' # when the user presses \"submit\"\n  post 'mass_order', on: :collection,\n    constraints: CommitParamRouting.new('Preview'), action: 'mass_create_preview' # when the user presses \"preview\"\n  # Note the `as:` is defined only once, since the path helper is mass_create_order_path for the form url\n  # CommitParamRouting is just a class like ApiVersionContraint\nend"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "# app/views/orders/mass_order.html.erb\n\u003c%= form_for(@orders, url: mass_create_order_path do |f| %\u003e\n    \u003c!-- Big form here --\u003e\n  \u003c%= submit_tag \"Preview\" %\u003e\n  \u003c%= submit_tag \"Submit\" %\u003e\n  # =\u003e \u003cinput name=\"commit\" type=\"submit\" value=\"Preview\" /\u003e\n  # =\u003e \u003cinput name=\"commit\" type=\"submit\" value=\"Submit\" /\u003e\n  ...\n\u003c% end %\u003e\n\n# config/routes.rb\nresources :orders do\n  # Both routes below describe the same POST URL, but route to different actions \n  post 'mass_order', on: :collection, as: 'mass_order',\n    constraints: CommitParamRouting.new('Submit'), action: 'mass_create' # when the user presses \"submit\"\n  post 'mass_order', on: :collection,\n    constraints: CommitParamRouting.new('Preview'), action: 'mass_create_preview' # when the user presses \"preview\"\n  # Note the `as:` is defined only once, since the path helper is mass_create_order_path for the form url\n  # CommitParamRouting is just a class like ApiVersionContraint\nend",
        "code_language": "Plain Text"
      }
    ],
    "title": "Constraints",
    "format_page": {
      "page_cover": "",
      "page_cover_position": 0,
      "page_font": "",
      "page_full_width": true,
      "page_icon": "",
      "page_small_text": true
    }
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 19
    }
  ],
  "Tables": null
}