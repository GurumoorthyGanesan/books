{
  "ID": "e777d5e3-5894-44ee-9f0b-b6c0763094de",
  "Root": {
    "alive": true,
    "content": [
      "3bcb1769-20ca-466c-8467-d83f1c2cc710",
      "6f93a35b-22d0-4b5b-a6b9-f9c0e65e7cb0",
      "d4a3728e-7c8d-42b6-90d6-eba8bcb044ea",
      "e8d6bfc1-0149-41a7-9316-0f5659a3af5c",
      "f8e1c119-5ce5-40da-be13-d2402b9ec127",
      "bdc62864-422a-4fb8-98c9-6936fe3904a7",
      "e0b7a271-baac-4d5d-ba9c-a895cefa76c7",
      "cc69d057-36a6-4115-8426-4c2d469e89ed",
      "409a7dd7-0ecb-4154-8473-2050b54088bf",
      "aaf8abbf-2f1f-48c0-9dd1-2caa5c4e6a45",
      "d953f6a6-5495-4c5a-a100-7b46c358afb4",
      "34c59a12-c2bf-41d6-9734-570d6b03e3ed",
      "6a377e11-ae9e-469b-a5b8-4b5cf22519f9",
      "6b9c0aa6-667b-45c9-95bb-8448ea369937",
      "e045a89d-7b25-4df0-a06a-23549814fc6b",
      "74d3c2e4-479c-42e5-a894-7f39aca0d090",
      "c6c3004e-c4d7-4578-9061-bc2afd527345",
      "479e55f3-f4f4-4c67-ada4-2fe4fb3b5782",
      "931ccf8e-ee2b-49eb-a6fc-7274ee02c8ee",
      "94574bb7-c57f-4dc9-a416-ba0ff4d95c0f",
      "e476a43e-c04f-4334-9596-22c70f6cf90b",
      "ac197f4e-8abe-4502-a3b8-96fe942de3fb",
      "856dbfb8-39c9-43ee-a880-abcd77b09307"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1552104506072,
    "format": {
      "page_full_width": true,
      "page_small_text": true
    },
    "id": "e777d5e3-5894-44ee-9f0b-b6c0763094de",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1552104506072,
    "parent_id": "b678d712-9ddb-4993-9689-53df49bc0b71",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "How to integrate with Stripe"
        ]
      ]
    },
    "type": "page",
    "version": 3,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552104506064,
        "id": "3bcb1769-20ca-466c-8467-d83f1c2cc710",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552104506064,
        "parent_id": "e777d5e3-5894-44ee-9f0b-b6c0763094de",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Add Stripe gem to our "
            ],
            [
              "Gemfile",
              [
                [
                  "c"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Add Stripe gem to our "
          },
          {
            "Text": "Gemfile",
            "AttrFlags": 2
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552104506067,
        "id": "6f93a35b-22d0-4b5b-a6b9-f9c0e65e7cb0",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552104506067,
        "parent_id": "e777d5e3-5894-44ee-9f0b-b6c0763094de",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "gem 'stripe'"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "gem 'stripe'",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552104506067,
        "id": "d4a3728e-7c8d-42b6-90d6-eba8bcb044ea",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552104506067,
        "parent_id": "e777d5e3-5894-44ee-9f0b-b6c0763094de",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Add "
            ],
            [
              "initializers/stripe.rb",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " file. This file contains the necessary keys for connecting with your stripe account."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Add "
          },
          {
            "Text": "initializers/stripe.rb",
            "AttrFlags": 2
          },
          {
            "Text": " file. This file contains the necessary keys for connecting with your stripe account."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552104506067,
        "id": "e8d6bfc1-0149-41a7-9316-0f5659a3af5c",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552104506067,
        "parent_id": "e777d5e3-5894-44ee-9f0b-b6c0763094de",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "require 'require_all'\n\nRails.configuration.stripe = {\n    :publishable_key =\u003e ENV['STRIPE_PUBLISHABLE_KEY'],\n    :secret_key      =\u003e ENV['STRIPE_SECRET_KEY']\n}\n\nStripe.api_key = Rails.configuration.stripe[:secret_key]"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "require 'require_all'\n\nRails.configuration.stripe = {\n    :publishable_key =\u003e ENV['STRIPE_PUBLISHABLE_KEY'],\n    :secret_key      =\u003e ENV['STRIPE_SECRET_KEY']\n}\n\nStripe.api_key = Rails.configuration.stripe[:secret_key]",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552104506067,
        "id": "f8e1c119-5ce5-40da-be13-d2402b9ec127",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552104506067,
        "parent_id": "e777d5e3-5894-44ee-9f0b-b6c0763094de",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "How to create a new customer to Stripe"
            ]
          ]
        },
        "type": "header",
        "version": 1,
        "inline_content": [
          {
            "Text": "How to create a new customer to Stripe"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552104506068,
        "id": "bdc62864-422a-4fb8-98c9-6936fe3904a7",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552104506068,
        "parent_id": "e777d5e3-5894-44ee-9f0b-b6c0763094de",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "Stripe::Customer.create({email: email, source: payment_token})"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "Stripe::Customer.create({email: email, source: payment_token})",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552104506068,
        "id": "e0b7a271-baac-4d5d-ba9c-a895cefa76c7",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552104506068,
        "parent_id": "e777d5e3-5894-44ee-9f0b-b6c0763094de",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "This code creates a new customer on Stripe with given email address and source."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "This code creates a new customer on Stripe with given email address and source."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552104506069,
        "id": "cc69d057-36a6-4115-8426-4c2d469e89ed",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552104506069,
        "parent_id": "e777d5e3-5894-44ee-9f0b-b6c0763094de",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "payment_token",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " is the token given from the client-side that contains a payment method like a credit card or bank account. More info: "
            ],
            [
              "Stripe.js client-side",
              [
                [
                  "a",
                  "https://stripe.com/docs/stripe.js"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "payment_token",
            "AttrFlags": 2
          },
          {
            "Text": " is the token given from the client-side that contains a payment method like a credit card or bank account. More info: "
          },
          {
            "Text": "Stripe.js client-side",
            "Link": "https://stripe.com/docs/stripe.js"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552104506069,
        "id": "409a7dd7-0ecb-4154-8473-2050b54088bf",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552104506069,
        "parent_id": "e777d5e3-5894-44ee-9f0b-b6c0763094de",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "How to retrieve a plan from Stripe"
            ]
          ]
        },
        "type": "header",
        "version": 1,
        "inline_content": [
          {
            "Text": "How to retrieve a plan from Stripe"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552104506070,
        "id": "aaf8abbf-2f1f-48c0-9dd1-2caa5c4e6a45",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552104506070,
        "parent_id": "e777d5e3-5894-44ee-9f0b-b6c0763094de",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "Stripe::Plan.retrieve(stripe_plan_id)"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "Stripe::Plan.retrieve(stripe_plan_id)",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552104506070,
        "id": "d953f6a6-5495-4c5a-a100-7b46c358afb4",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552104506070,
        "parent_id": "e777d5e3-5894-44ee-9f0b-b6c0763094de",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "This code retrieves a plan from Stripe by its id."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "This code retrieves a plan from Stripe by its id."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552104506070,
        "id": "34c59a12-c2bf-41d6-9734-570d6b03e3ed",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552104506070,
        "parent_id": "e777d5e3-5894-44ee-9f0b-b6c0763094de",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "How to create a subscription"
            ]
          ]
        },
        "type": "header",
        "version": 1,
        "inline_content": [
          {
            "Text": "How to create a subscription"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552104506070,
        "id": "6a377e11-ae9e-469b-a5b8-4b5cf22519f9",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552104506070,
        "parent_id": "e777d5e3-5894-44ee-9f0b-b6c0763094de",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "When we have a customer and a plan we can create a new subscription on Stripe."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "When we have a customer and a plan we can create a new subscription on Stripe."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552104506070,
        "id": "6b9c0aa6-667b-45c9-95bb-8448ea369937",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552104506070,
        "parent_id": "e777d5e3-5894-44ee-9f0b-b6c0763094de",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "Stripe::Subscription.create(customer: customer.id, plan: plan.id)"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "Stripe::Subscription.create(customer: customer.id, plan: plan.id)",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552104506070,
        "id": "e045a89d-7b25-4df0-a06a-23549814fc6b",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552104506070,
        "parent_id": "e777d5e3-5894-44ee-9f0b-b6c0763094de",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "It will create a new subscription and will charge our User. It’s important to know what really happens on Stripe when we subscribe a user to a plan, you will find more info here: "
            ],
            [
              "Stripe Subscription lifecycle",
              [
                [
                  "a",
                  "https://stripe.com/docs/subscriptions/lifecycle"
                ]
              ]
            ],
            [
              "."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "It will create a new subscription and will charge our User. It’s important to know what really happens on Stripe when we subscribe a user to a plan, you will find more info here: "
          },
          {
            "Text": "Stripe Subscription lifecycle",
            "Link": "https://stripe.com/docs/subscriptions/lifecycle"
          },
          {
            "Text": "."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552104506071,
        "id": "74d3c2e4-479c-42e5-a894-7f39aca0d090",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552104506071,
        "parent_id": "e777d5e3-5894-44ee-9f0b-b6c0763094de",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "How to charge a user with a single payment"
            ]
          ]
        },
        "type": "header",
        "version": 1,
        "inline_content": [
          {
            "Text": "How to charge a user with a single payment"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552104506071,
        "id": "c6c3004e-c4d7-4578-9061-bc2afd527345",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552104506071,
        "parent_id": "e777d5e3-5894-44ee-9f0b-b6c0763094de",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Sometimes we want to charge our users just a single time, for do that we will do the next."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Sometimes we want to charge our users just a single time, for do that we will do the next."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552104506071,
        "id": "479e55f3-f4f4-4c67-ada4-2fe4fb3b5782",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552104506071,
        "parent_id": "e777d5e3-5894-44ee-9f0b-b6c0763094de",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "Stripe::Charge.create(amount:   amount, customer: customer, currency: currency)"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "Stripe::Charge.create(amount:   amount, customer: customer, currency: currency)",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552104506071,
        "id": "931ccf8e-ee2b-49eb-a6fc-7274ee02c8ee",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552104506071,
        "parent_id": "e777d5e3-5894-44ee-9f0b-b6c0763094de",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "In that case, we are charging our user one time for given amount."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "In that case, we are charging our user one time for given amount."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552104506071,
        "id": "94574bb7-c57f-4dc9-a416-ba0ff4d95c0f",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552104506071,
        "parent_id": "e777d5e3-5894-44ee-9f0b-b6c0763094de",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Common errors:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Common errors:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552104506072,
        "id": "e476a43e-c04f-4334-9596-22c70f6cf90b",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552104506072,
        "parent_id": "e777d5e3-5894-44ee-9f0b-b6c0763094de",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The amount must be sent in integer form, that means, 2000 will be 20 units of currency. "
            ],
            [
              "Check this example",
              [
                [
                  "a",
                  "https://stripe.com/docs/charges"
                ]
              ]
            ]
          ]
        },
        "type": "bulleted_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "The amount must be sent in integer form, that means, 2000 will be 20 units of currency. "
          },
          {
            "Text": "Check this example",
            "Link": "https://stripe.com/docs/charges"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552104506072,
        "id": "ac197f4e-8abe-4502-a3b8-96fe942de3fb",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552104506072,
        "parent_id": "e777d5e3-5894-44ee-9f0b-b6c0763094de",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "You cannot charge a user in two currencies. If the user was charged in EUR at any moment in the past you cannot charge the user in USD."
            ]
          ]
        },
        "type": "bulleted_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "You cannot charge a user in two currencies. If the user was charged in EUR at any moment in the past you cannot charge the user in USD."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552104506072,
        "id": "856dbfb8-39c9-43ee-a880-abcd77b09307",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552104506072,
        "parent_id": "e777d5e3-5894-44ee-9f0b-b6c0763094de",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "You cannot charge user without source (payment method)."
            ]
          ]
        },
        "type": "bulleted_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "You cannot charge user without source (payment method)."
          }
        ]
      }
    ],
    "title": "How to integrate with Stripe",
    "format_page": {
      "page_cover": "",
      "page_cover_position": 0,
      "page_font": "",
      "page_full_width": true,
      "page_icon": "",
      "page_small_text": true
    }
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 19
    }
  ],
  "Tables": null
}