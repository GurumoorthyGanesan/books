{
  "ID": "5904f783-50b8-4c6a-a353-cf6c8f98027a",
  "Root": {
    "alive": true,
    "content": [
      "5e872894-accd-4eee-ac37-585228b26b14",
      "7e440b7e-accd-47a1-8089-565ce89fa6d2",
      "4c02c899-4bfd-4132-b094-e46eccca1701",
      "b6084daf-a6ea-454b-b5f1-5472d434a05d",
      "4e0598d5-d3c2-4d22-a2e7-58ae3decd056",
      "44383f0c-a4a5-40fc-b1fe-cf8598a6e88d",
      "ab2caf72-2be7-449d-b64e-56a2e9751089",
      "a52afdac-b0de-4e94-9330-798c2069ab00",
      "efb86983-758d-4c0b-a10d-d9caea51b0f6",
      "a8473adb-aa75-4e6a-85e2-864527cfbb9b",
      "f664cb6f-5615-44a1-aff3-e36498dde550",
      "e9e91987-d7bc-4bef-b505-6d24f94344e8",
      "f5e73e0f-aa47-4362-b06d-871f2c3dfbc3",
      "560603a6-8fe5-4f54-b1a4-c0ebb9905ab4",
      "5c2faa00-691e-43ed-abb1-c3599e7b6e86",
      "dbd9b30b-cacc-4cdc-8683-9138fc9bf513",
      "fd0d4417-8bd2-4a96-94a4-fb473fafefbb",
      "fb312db1-f95e-4cb0-a51e-274140bfc2a0",
      "6173307c-2114-4140-9f4e-5f2e20bac4b0",
      "8b567c0e-5a03-4836-8151-15eadf1bf23e"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1552024744237,
    "format": {
      "page_full_width": true,
      "page_small_text": true
    },
    "id": "5904f783-50b8-4c6a-a353-cf6c8f98027a",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1552024744237,
    "parent_id": "3e614d87-5020-40dc-9e8e-4af5ace88042",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "TCP client socket"
        ]
      ]
    },
    "type": "page",
    "version": 3,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552024744232,
        "id": "5e872894-accd-4eee-ac37-585228b26b14",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552024744232,
        "parent_id": "5904f783-50b8-4c6a-a353-cf6c8f98027a",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Creating a socket that uses the TCP (Transmission Control Protocol)"
            ]
          ]
        },
        "type": "header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Creating a socket that uses the TCP (Transmission Control Protocol)"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552024744234,
        "id": "7e440b7e-accd-47a1-8089-565ce89fa6d2",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552024744234,
        "parent_id": "5904f783-50b8-4c6a-a353-cf6c8f98027a",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "$socket = socket_create(AF_INET, SOCK_STREAM, SOL_TCP);"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "$socket = socket_create(AF_INET, SOCK_STREAM, SOL_TCP);",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552024744235,
        "id": "4c02c899-4bfd-4132-b094-e46eccca1701",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552024744235,
        "parent_id": "5904f783-50b8-4c6a-a353-cf6c8f98027a",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Make sure the socket is successfully created. The "
            ],
            [
              "onSocketFailure",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " function comes from http://stackoverflow.com/documentation/php/6138/sockets/23034/handling-socket-errors example in this topic."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Make sure the socket is successfully created. The "
          },
          {
            "Text": "onSocketFailure",
            "AttrFlags": 2
          },
          {
            "Text": " function comes from http://stackoverflow.com/documentation/php/6138/sockets/23034/handling-socket-errors example in this topic."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552024744235,
        "id": "b6084daf-a6ea-454b-b5f1-5472d434a05d",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552024744235,
        "parent_id": "5904f783-50b8-4c6a-a353-cf6c8f98027a",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "if(!is_resource($socket)) onSocketFailure(\"Failed to create socket\");"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "if(!is_resource($socket)) onSocketFailure(\"Failed to create socket\");",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552024744235,
        "id": "4e0598d5-d3c2-4d22-a2e7-58ae3decd056",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552024744235,
        "parent_id": "5904f783-50b8-4c6a-a353-cf6c8f98027a",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Connect the socket to a specified address"
            ]
          ]
        },
        "type": "header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Connect the socket to a specified address"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552024744235,
        "id": "44383f0c-a4a5-40fc-b1fe-cf8598a6e88d",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552024744235,
        "parent_id": "5904f783-50b8-4c6a-a353-cf6c8f98027a",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The second line fails gracefully if connection failed."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "The second line fails gracefully if connection failed."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552024744235,
        "id": "ab2caf72-2be7-449d-b64e-56a2e9751089",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552024744235,
        "parent_id": "5904f783-50b8-4c6a-a353-cf6c8f98027a",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "socket_connect($socket, \"chat.stackoverflow.com\", 6667)\n        or onSocketFailure(\"Failed to connect to chat.stackoverflow.com:6667\", $socket);"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "socket_connect($socket, \"chat.stackoverflow.com\", 6667)\n        or onSocketFailure(\"Failed to connect to chat.stackoverflow.com:6667\", $socket);",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552024744235,
        "id": "a52afdac-b0de-4e94-9330-798c2069ab00",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552024744235,
        "parent_id": "5904f783-50b8-4c6a-a353-cf6c8f98027a",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Sending data to the server"
            ]
          ]
        },
        "type": "header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Sending data to the server"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552024744236,
        "id": "efb86983-758d-4c0b-a10d-d9caea51b0f6",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552024744236,
        "parent_id": "5904f783-50b8-4c6a-a353-cf6c8f98027a",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The "
            ],
            [
              "socket_write",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " function sends bytes through a socket. In PHP, a byte array is represented by a string, which is normally encoding-insensitive."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "The "
          },
          {
            "Text": "socket_write",
            "AttrFlags": 2
          },
          {
            "Text": " function sends bytes through a socket. In PHP, a byte array is represented by a string, which is normally encoding-insensitive."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552024744236,
        "id": "a8473adb-aa75-4e6a-85e2-864527cfbb9b",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552024744236,
        "parent_id": "5904f783-50b8-4c6a-a353-cf6c8f98027a",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "socket_write($socket, \"NICK Alice\\r\\nUSER alice 0 * :Alice\\r\\n\");"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "socket_write($socket, \"NICK Alice\\r\\nUSER alice 0 * :Alice\\r\\n\");",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552024744236,
        "id": "f664cb6f-5615-44a1-aff3-e36498dde550",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552024744236,
        "parent_id": "5904f783-50b8-4c6a-a353-cf6c8f98027a",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Receiving data from the server"
            ]
          ]
        },
        "type": "header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Receiving data from the server"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552024744236,
        "id": "e9e91987-d7bc-4bef-b505-6d24f94344e8",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552024744236,
        "parent_id": "5904f783-50b8-4c6a-a353-cf6c8f98027a",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The following snippet receives some data from the server using the "
            ],
            [
              "socket_read",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " function."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "The following snippet receives some data from the server using the "
          },
          {
            "Text": "socket_read",
            "AttrFlags": 2
          },
          {
            "Text": " function."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552024744236,
        "id": "f5e73e0f-aa47-4362-b06d-871f2c3dfbc3",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552024744236,
        "parent_id": "5904f783-50b8-4c6a-a353-cf6c8f98027a",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Passing "
            ],
            [
              "PHP_NORMAL_READ",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " as the third parameter reads until a "
            ],
            [
              "\\r",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "/"
            ],
            [
              "\\n",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " byte, and this byte is included in the return value."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Passing "
          },
          {
            "Text": "PHP_NORMAL_READ",
            "AttrFlags": 2
          },
          {
            "Text": " as the third parameter reads until a "
          },
          {
            "Text": "\\r",
            "AttrFlags": 2
          },
          {
            "Text": "/"
          },
          {
            "Text": "\\n",
            "AttrFlags": 2
          },
          {
            "Text": " byte, and this byte is included in the return value."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552024744236,
        "id": "560603a6-8fe5-4f54-b1a4-c0ebb9905ab4",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552024744236,
        "parent_id": "5904f783-50b8-4c6a-a353-cf6c8f98027a",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Passing "
            ],
            [
              "PHP_BINARY_READ",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ", on the contrary, reads the required amount of data from the stream."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Passing "
          },
          {
            "Text": "PHP_BINARY_READ",
            "AttrFlags": 2
          },
          {
            "Text": ", on the contrary, reads the required amount of data from the stream."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552024744237,
        "id": "5c2faa00-691e-43ed-abb1-c3599e7b6e86",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552024744237,
        "parent_id": "5904f783-50b8-4c6a-a353-cf6c8f98027a",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "If "
            ],
            [
              "socket_set_nonblock",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " was called in prior, and "
            ],
            [
              "PHP_BINARY_READ",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " is used, "
            ],
            [
              "socket_read",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " will return "
            ],
            [
              "false",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " immediately. Otherwise, the method blocks until enough data (to reach the length in the second parameter, or to reach a line ending) are received, or the socket is closed."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "If "
          },
          {
            "Text": "socket_set_nonblock",
            "AttrFlags": 2
          },
          {
            "Text": " was called in prior, and "
          },
          {
            "Text": "PHP_BINARY_READ",
            "AttrFlags": 2
          },
          {
            "Text": " is used, "
          },
          {
            "Text": "socket_read",
            "AttrFlags": 2
          },
          {
            "Text": " will return "
          },
          {
            "Text": "false",
            "AttrFlags": 2
          },
          {
            "Text": " immediately. Otherwise, the method blocks until enough data (to reach the length in the second parameter, or to reach a line ending) are received, or the socket is closed."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552024744237,
        "id": "dbd9b30b-cacc-4cdc-8683-9138fc9bf513",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552024744237,
        "parent_id": "5904f783-50b8-4c6a-a353-cf6c8f98027a",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "This example reads data from a supposedly IRC server."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "This example reads data from a supposedly IRC server."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552024744237,
        "id": "fd0d4417-8bd2-4a96-94a4-fb473fafefbb",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552024744237,
        "parent_id": "5904f783-50b8-4c6a-a353-cf6c8f98027a",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "while(true) {\n    // read a line from the socket\n    $line = socket_read($socket, 1024, PHP_NORMAL_READ);\n    if(substr($line, -1) === \"\\r\") {\n        // read/skip one byte from the socket\n        // we assume that the next byte in the stream must be a \\n.\n        // this is actually bad in practice; the script is vulnerable to unexpected values\n        socket_read($socket, 1, PHP_BINARY_READ);\n    }\n\n    $message = parseLine($line);\n    if($message-\u003etype === \"QUIT\") break;\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "while(true) {\n    // read a line from the socket\n    $line = socket_read($socket, 1024, PHP_NORMAL_READ);\n    if(substr($line, -1) === \"\\r\") {\n        // read/skip one byte from the socket\n        // we assume that the next byte in the stream must be a \\n.\n        // this is actually bad in practice; the script is vulnerable to unexpected values\n        socket_read($socket, 1, PHP_BINARY_READ);\n    }\n\n    $message = parseLine($line);\n    if($message-\u003etype === \"QUIT\") break;\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552024744237,
        "id": "fb312db1-f95e-4cb0-a51e-274140bfc2a0",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552024744237,
        "parent_id": "5904f783-50b8-4c6a-a353-cf6c8f98027a",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Closing the socket"
            ]
          ]
        },
        "type": "header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Closing the socket"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552024744237,
        "id": "6173307c-2114-4140-9f4e-5f2e20bac4b0",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552024744237,
        "parent_id": "5904f783-50b8-4c6a-a353-cf6c8f98027a",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Closing the socket frees the socket and its associated resources."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Closing the socket frees the socket and its associated resources."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1552024744237,
        "id": "8b567c0e-5a03-4836-8151-15eadf1bf23e",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1552024744237,
        "parent_id": "5904f783-50b8-4c6a-a353-cf6c8f98027a",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "socket_close($socket);"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "socket_close($socket);",
        "code_language": "Plain Text"
      }
    ],
    "title": "TCP client socket",
    "format_page": {
      "page_cover": "",
      "page_cover_position": 0,
      "page_font": "",
      "page_full_width": true,
      "page_icon": "",
      "page_small_text": true
    }
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 18
    }
  ],
  "Tables": null
}