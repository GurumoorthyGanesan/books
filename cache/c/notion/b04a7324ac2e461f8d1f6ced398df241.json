{
  "ID": "b04a7324-ac2e-461f-8d1f-6ced398df241",
  "Root": {
    "alive": true,
    "content": [
      "513b9851-e3c7-4b29-a793-1c64241532f2",
      "11967668-13f1-499d-a170-e09f8f807571",
      "2b48e5fe-780b-4197-b163-b29b953ac1f8",
      "d62af140-5832-4e60-b104-299a9d19e8b5",
      "5e32cd79-32e1-4756-bda0-5fab0bfd41bc",
      "76cc4360-6511-49b8-b4e7-43724fbbc4c5",
      "af020b73-9adf-4e1a-8e58-e002c924f744",
      "681548b9-1c3a-4753-b762-61cf6b25726f",
      "08734eaf-9179-4e8d-9742-930e7e335a7f",
      "391fa100-ce50-4fc5-bcb6-6fd20bf3f7fa",
      "c7a891ad-c3bf-46d5-a18c-f77c9461c087",
      "07b9eabc-0940-4947-8bee-2599e6049def"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1551936780287,
    "format": {
      "page_full_width": true,
      "page_small_text": true
    },
    "id": "b04a7324-ac2e-461f-8d1f-6ced398df241",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1551936780287,
    "parent_id": "898403c6-8861-4eca-b6cf-2fee9068ecce",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "Structure padding"
        ]
      ]
    },
    "type": "page",
    "version": 3,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551936780282,
        "id": "513b9851-e3c7-4b29-a793-1c64241532f2",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551936780282,
        "parent_id": "b04a7324-ac2e-461f-8d1f-6ced398df241",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Suppose this "
            ],
            [
              "struct",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " is defined and compiled with a 32 bit compiler:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Suppose this "
          },
          {
            "Text": "struct",
            "AttrFlags": 2
          },
          {
            "Text": " is defined and compiled with a 32 bit compiler:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551936780285,
        "id": "11967668-13f1-499d-a170-e09f8f807571",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551936780285,
        "parent_id": "b04a7324-ac2e-461f-8d1f-6ced398df241",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "struct test_32 {\n    int a;      // 4 byte\n    short b;    // 2 byte\n    int c;      // 4 byte    \n} str_32;"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "struct test_32 {\n    int a;      // 4 byte\n    short b;    // 2 byte\n    int c;      // 4 byte    \n} str_32;",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551936780285,
        "id": "2b48e5fe-780b-4197-b163-b29b953ac1f8",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551936780285,
        "parent_id": "b04a7324-ac2e-461f-8d1f-6ced398df241",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "We might expect this "
            ],
            [
              "struct",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " to occupy only 10 bytes of memory, but by printing "
            ],
            [
              "sizeof(str_32)",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " we see it uses 12 bytes."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "We might expect this "
          },
          {
            "Text": "struct",
            "AttrFlags": 2
          },
          {
            "Text": " to occupy only 10 bytes of memory, but by printing "
          },
          {
            "Text": "sizeof(str_32)",
            "AttrFlags": 2
          },
          {
            "Text": " we see it uses 12 bytes."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551936780285,
        "id": "d62af140-5832-4e60-b104-299a9d19e8b5",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551936780285,
        "parent_id": "b04a7324-ac2e-461f-8d1f-6ced398df241",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "This happened because the compiler aligns variables for fast access. A common pattern is that when the base type occupies N bytes (where N is a power of 2 such as 1, 2, 4, 8, 16 — and seldom any bigger), the variable should be aligned on an N-byte boundary (a multiple of N bytes)."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "This happened because the compiler aligns variables for fast access. A common pattern is that when the base type occupies N bytes (where N is a power of 2 such as 1, 2, 4, 8, 16 — and seldom any bigger), the variable should be aligned on an N-byte boundary (a multiple of N bytes)."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551936780285,
        "id": "5e32cd79-32e1-4756-bda0-5fab0bfd41bc",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551936780285,
        "parent_id": "b04a7324-ac2e-461f-8d1f-6ced398df241",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "For the structure shown with "
            ],
            [
              "sizeof(int) == 4",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " and "
            ],
            [
              "sizeof(short) == 2",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ", a common layout is:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "For the structure shown with "
          },
          {
            "Text": "sizeof(int) == 4",
            "AttrFlags": 2
          },
          {
            "Text": " and "
          },
          {
            "Text": "sizeof(short) == 2",
            "AttrFlags": 2
          },
          {
            "Text": ", a common layout is:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551936780286,
        "id": "76cc4360-6511-49b8-b4e7-43724fbbc4c5",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551936780286,
        "parent_id": "b04a7324-ac2e-461f-8d1f-6ced398df241",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "int a;",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " stored at offset 0; size 4."
            ]
          ]
        },
        "type": "bulleted_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "int a;",
            "AttrFlags": 2
          },
          {
            "Text": " stored at offset 0; size 4."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551936780286,
        "id": "af020b73-9adf-4e1a-8e58-e002c924f744",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551936780286,
        "parent_id": "b04a7324-ac2e-461f-8d1f-6ced398df241",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "short b;",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " stored at offset 4; size 2."
            ]
          ]
        },
        "type": "bulleted_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "short b;",
            "AttrFlags": 2
          },
          {
            "Text": " stored at offset 4; size 2."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551936780286,
        "id": "681548b9-1c3a-4753-b762-61cf6b25726f",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551936780286,
        "parent_id": "b04a7324-ac2e-461f-8d1f-6ced398df241",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "unnamed padding at offset 6; size 2."
            ]
          ]
        },
        "type": "bulleted_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "unnamed padding at offset 6; size 2."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551936780286,
        "id": "08734eaf-9179-4e8d-9742-930e7e335a7f",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551936780286,
        "parent_id": "b04a7324-ac2e-461f-8d1f-6ced398df241",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "int c;",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " stored at offset 8; size 4."
            ]
          ]
        },
        "type": "bulleted_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "int c;",
            "AttrFlags": 2
          },
          {
            "Text": " stored at offset 8; size 4."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551936780286,
        "id": "391fa100-ce50-4fc5-bcb6-6fd20bf3f7fa",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551936780286,
        "parent_id": "b04a7324-ac2e-461f-8d1f-6ced398df241",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Thus "
            ],
            [
              "struct test_32",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " occupies 12 bytes of memory. In this example, there is no trailing padding."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Thus "
          },
          {
            "Text": "struct test_32",
            "AttrFlags": 2
          },
          {
            "Text": " occupies 12 bytes of memory. In this example, there is no trailing padding."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551936780287,
        "id": "c7a891ad-c3bf-46d5-a18c-f77c9461c087",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551936780287,
        "parent_id": "b04a7324-ac2e-461f-8d1f-6ced398df241",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The compiler will ensure that any "
            ],
            [
              "struct test_32",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " variables are stored starting on a 4-byte boundary, so that the members within the structure will be properly aligned for fast access. Memory allocation functions such as "
            ],
            [
              "malloc()",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ", "
            ],
            [
              "calloc()",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " and "
            ],
            [
              "realloc()",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " are required to ensure that the pointer returned is sufficiently well aligned for use with any data type, so dynamically allocated structures will be properly aligned too."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "The compiler will ensure that any "
          },
          {
            "Text": "struct test_32",
            "AttrFlags": 2
          },
          {
            "Text": " variables are stored starting on a 4-byte boundary, so that the members within the structure will be properly aligned for fast access. Memory allocation functions such as "
          },
          {
            "Text": "malloc()",
            "AttrFlags": 2
          },
          {
            "Text": ", "
          },
          {
            "Text": "calloc()",
            "AttrFlags": 2
          },
          {
            "Text": " and "
          },
          {
            "Text": "realloc()",
            "AttrFlags": 2
          },
          {
            "Text": " are required to ensure that the pointer returned is sufficiently well aligned for use with any data type, so dynamically allocated structures will be properly aligned too."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551936780287,
        "id": "07b9eabc-0940-4947-8bee-2599e6049def",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551936780287,
        "parent_id": "b04a7324-ac2e-461f-8d1f-6ced398df241",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "You can end up with odd situations such as on a 64-bit Intel x86_64 processor (e.g. Intel Core i7 — a Mac running macOS Sierra or Mac OS X), where when compiling in 32-bit mode, the compilers place "
            ],
            [
              "double",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " aligned on a 4-byte boundary; but, on the same hardware, when compiling in 64-bit mode, the compilers place "
            ],
            [
              "double",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " aligned on an 8-byte boundary."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "You can end up with odd situations such as on a 64-bit Intel x86_64 processor (e.g. Intel Core i7 — a Mac running macOS Sierra or Mac OS X), where when compiling in 32-bit mode, the compilers place "
          },
          {
            "Text": "double",
            "AttrFlags": 2
          },
          {
            "Text": " aligned on a 4-byte boundary; but, on the same hardware, when compiling in 64-bit mode, the compilers place "
          },
          {
            "Text": "double",
            "AttrFlags": 2
          },
          {
            "Text": " aligned on an 8-byte boundary."
          }
        ]
      }
    ],
    "title": "Structure padding",
    "format_page": {
      "page_cover": "",
      "page_cover_position": 0,
      "page_font": "",
      "page_full_width": true,
      "page_icon": "",
      "page_small_text": true
    }
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 18
    }
  ],
  "Tables": null
}