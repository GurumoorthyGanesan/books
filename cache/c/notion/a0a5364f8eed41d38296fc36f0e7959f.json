{
  "ID": "a0a5364f-8eed-41d3-8296-fc36f0e7959f",
  "Root": {
    "alive": true,
    "content": [
      "81cffb04-efc2-4e71-8d41-9314f96f8242",
      "548bcf5e-c012-4399-9af6-ae4aebf94ab6",
      "d5d3323e-c302-4fe3-b097-601bad18a5bd",
      "3e1f42d0-fb23-4889-8f5e-5985dd50ad07",
      "068a6265-7703-41cc-be96-47b1535a1067",
      "4f169df1-8dc1-4fbd-89db-748407f6d341",
      "02ef6554-8ead-4fae-9c9c-ac0861000a91",
      "5ea47e0a-17a5-49d5-8e64-7268e9c4e6e7",
      "eb94958f-6fb3-43fb-b60f-57c293b7fd72",
      "c9e93aed-43e1-494f-af2b-947537de203a",
      "c9100d24-692e-47d6-a3e9-1b1ac7abb80b"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1551935784719,
    "format": {
      "page_full_width": true,
      "page_small_text": true
    },
    "id": "a0a5364f-8eed-41d3-8296-fc36f0e7959f",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1551935784719,
    "parent_id": "68e74303-cec6-4c9d-a46e-83274bc84bf4",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "Macro Replacement"
        ]
      ]
    },
    "type": "page",
    "version": 3,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551935784715,
        "id": "81cffb04-efc2-4e71-8d41-9314f96f8242",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551935784715,
        "parent_id": "a0a5364f-8eed-41d3-8296-fc36f0e7959f",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The simplest form of macro replacement is to define a "
            ],
            [
              "manifest constant",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ", as in"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "The simplest form of macro replacement is to define a "
          },
          {
            "Text": "manifest constant",
            "AttrFlags": 2
          },
          {
            "Text": ", as in"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551935784717,
        "id": "548bcf5e-c012-4399-9af6-ae4aebf94ab6",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551935784717,
        "parent_id": "a0a5364f-8eed-41d3-8296-fc36f0e7959f",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "#define ARRSIZE 100\nint array[ARRSIZE];"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "#define ARRSIZE 100\nint array[ARRSIZE];",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551935784717,
        "id": "d5d3323e-c302-4fe3-b097-601bad18a5bd",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551935784717,
        "parent_id": "a0a5364f-8eed-41d3-8296-fc36f0e7959f",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "This defines a "
            ],
            [
              "function-like",
              [
                [
                  "i"
                ]
              ]
            ],
            [
              " macro that multiplies a variable by "
            ],
            [
              "10",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " and stores the new value:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "This defines a "
          },
          {
            "Text": "function-like",
            "AttrFlags": 4
          },
          {
            "Text": " macro that multiplies a variable by "
          },
          {
            "Text": "10",
            "AttrFlags": 2
          },
          {
            "Text": " and stores the new value:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551935784718,
        "id": "3e1f42d0-fb23-4889-8f5e-5985dd50ad07",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551935784718,
        "parent_id": "a0a5364f-8eed-41d3-8296-fc36f0e7959f",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "#define TIMES10(A) ((A) *= 10)\n\ndouble b = 34;\nint c = 23;\n\nTIMES10(b);   // good: ((b) *= 10);\nTIMES10(c);   // good: ((c) *= 10);\nTIMES10(5);   // bad:  ((5) *= 10);"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "#define TIMES10(A) ((A) *= 10)\n\ndouble b = 34;\nint c = 23;\n\nTIMES10(b);   // good: ((b) *= 10);\nTIMES10(c);   // good: ((c) *= 10);\nTIMES10(5);   // bad:  ((5) *= 10);",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551935784718,
        "id": "068a6265-7703-41cc-be96-47b1535a1067",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551935784718,
        "parent_id": "a0a5364f-8eed-41d3-8296-fc36f0e7959f",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The replacement is done before any other interpretation of the program text. In the first call to "
            ],
            [
              "TIMES10",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " the name "
            ],
            [
              "A",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " from the definition is replaced by "
            ],
            [
              "b",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " and the so expanded text is then put in place of the call. Note that this definition of "
            ],
            [
              "TIMES10",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " is not equivalent to"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "The replacement is done before any other interpretation of the program text. In the first call to "
          },
          {
            "Text": "TIMES10",
            "AttrFlags": 2
          },
          {
            "Text": " the name "
          },
          {
            "Text": "A",
            "AttrFlags": 2
          },
          {
            "Text": " from the definition is replaced by "
          },
          {
            "Text": "b",
            "AttrFlags": 2
          },
          {
            "Text": " and the so expanded text is then put in place of the call. Note that this definition of "
          },
          {
            "Text": "TIMES10",
            "AttrFlags": 2
          },
          {
            "Text": " is not equivalent to"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551935784718,
        "id": "4f169df1-8dc1-4fbd-89db-748407f6d341",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551935784718,
        "parent_id": "a0a5364f-8eed-41d3-8296-fc36f0e7959f",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "#define TIMES10(A) ((A) = (A) * 10)"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "#define TIMES10(A) ((A) = (A) * 10)",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551935784718,
        "id": "02ef6554-8ead-4fae-9c9c-ac0861000a91",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551935784718,
        "parent_id": "a0a5364f-8eed-41d3-8296-fc36f0e7959f",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "because this could evaluate the replacement of "
            ],
            [
              "A",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ", twice, which can have unwanted side effects."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "because this could evaluate the replacement of "
          },
          {
            "Text": "A",
            "AttrFlags": 2
          },
          {
            "Text": ", twice, which can have unwanted side effects."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551935784718,
        "id": "5ea47e0a-17a5-49d5-8e64-7268e9c4e6e7",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551935784718,
        "parent_id": "a0a5364f-8eed-41d3-8296-fc36f0e7959f",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The following defines a function-like macro which value is the maximum of its arguments. It has the advantages of working for any compatible types of the arguments and of generating in-line code without the overhead of function calling. It has the disadvantages of evaluating one or the other of its arguments a second time (including side effects) and of generating more code than a function if invoked several times."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "The following defines a function-like macro which value is the maximum of its arguments. It has the advantages of working for any compatible types of the arguments and of generating in-line code without the overhead of function calling. It has the disadvantages of evaluating one or the other of its arguments a second time (including side effects) and of generating more code than a function if invoked several times."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551935784718,
        "id": "eb94958f-6fb3-43fb-b60f-57c293b7fd72",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551935784718,
        "parent_id": "a0a5364f-8eed-41d3-8296-fc36f0e7959f",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "#define max(a, b) ((a) \u003e (b) ? (a) : (b))\n\nint maxVal = max(11, 43);              /* 43 */\nint maxValExpr = max(11 + 36, 51 - 7); /* 47 */\n\n/* Should not be done, due to expression being evaluated twice */\nint j = 0, i = 0;\nint sideEffect = max(++i, ++j);       /* i == 4 */"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "#define max(a, b) ((a) \u003e (b) ? (a) : (b))\n\nint maxVal = max(11, 43);              /* 43 */\nint maxValExpr = max(11 + 36, 51 - 7); /* 47 */\n\n/* Should not be done, due to expression being evaluated twice */\nint j = 0, i = 0;\nint sideEffect = max(++i, ++j);       /* i == 4 */",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551935784719,
        "id": "c9e93aed-43e1-494f-af2b-947537de203a",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551935784719,
        "parent_id": "a0a5364f-8eed-41d3-8296-fc36f0e7959f",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Because of this, such macros that evaluate their arguments multiple times are usually avoided in production code. Since C11 there is the "
            ],
            [
              "_Generic",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " feature that allows to avoid such multiple invocations."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Because of this, such macros that evaluate their arguments multiple times are usually avoided in production code. Since C11 there is the "
          },
          {
            "Text": "_Generic",
            "AttrFlags": 2
          },
          {
            "Text": " feature that allows to avoid such multiple invocations."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551935784719,
        "id": "c9100d24-692e-47d6-a3e9-1b1ac7abb80b",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551935784719,
        "parent_id": "a0a5364f-8eed-41d3-8296-fc36f0e7959f",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The abundant parentheses in the macro expansions (right hand side of the definition) ensure that the arguments and the resulting expression are bound properly and fit well into the context in which the macro is called."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "The abundant parentheses in the macro expansions (right hand side of the definition) ensure that the arguments and the resulting expression are bound properly and fit well into the context in which the macro is called."
          }
        ]
      }
    ],
    "title": "Macro Replacement",
    "format_page": {
      "page_cover": "",
      "page_cover_position": 0,
      "page_font": "",
      "page_full_width": true,
      "page_icon": "",
      "page_small_text": true
    }
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 18
    }
  ],
  "Tables": null
}