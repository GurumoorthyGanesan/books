{
  "ID": "99a60560-7259-4fb3-8e07-5ea5e04878fe",
  "Root": {
    "alive": true,
    "content": [
      "cdf77517-0adf-434a-9686-99bdccf8ed06",
      "b001f836-7965-4a81-9cf7-0e4eba469187",
      "dc4c396b-6358-48bc-a475-ab1bda6f1787",
      "0051edbc-c976-4295-8409-97a974e13ff1",
      "2d18e3aa-0089-4066-82f5-0faebcc95a9c",
      "561b7b5f-49ec-43b2-89d7-653f2edb9a98",
      "35e1eecb-3888-4de4-a0d9-a2816569707c",
      "3638d6d0-e12a-44f4-b2a0-2e356b13f364",
      "8395a21c-e64d-487f-a19b-c885b9e3a73e",
      "29674aae-39ef-43fe-9cc7-a6d36f22412b",
      "9174fbec-f56b-4b32-be76-e0eb328ebd82",
      "1b117aa9-7b9c-4561-82c4-e453051d2dae",
      "6e4e3546-08d2-4870-8d65-21e518093320",
      "ad454c49-3770-4dea-96a7-88a54491077f",
      "7e3605c3-ee9f-446b-b499-a79e1e80a451",
      "7087e086-0646-47d7-a4fe-033e97516223",
      "dfa8a9e2-a9cd-4185-a1cc-34d86cf32445",
      "1997dfc7-bb4d-4c2c-88d1-1dbed27b2966"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1551937318390,
    "format": {
      "page_full_width": true,
      "page_small_text": true
    },
    "id": "99a60560-7259-4fb3-8e07-5ea5e04878fe",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1551937318390,
    "parent_id": "27ddd518-401c-43c0-bb68-381e630e5cfb",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "Inlining functions used in more than one source file"
        ]
      ]
    },
    "type": "page",
    "version": 3,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551937318385,
        "id": "cdf77517-0adf-434a-9686-99bdccf8ed06",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551937318385,
        "parent_id": "99a60560-7259-4fb3-8e07-5ea5e04878fe",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "For small functions that get called often, the overhead associated with the function call can be a significant fraction of the total execution time of that function. One way of improving performance, then, is to eliminate the overhead."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "For small functions that get called often, the overhead associated with the function call can be a significant fraction of the total execution time of that function. One way of improving performance, then, is to eliminate the overhead."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551937318388,
        "id": "b001f836-7965-4a81-9cf7-0e4eba469187",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551937318388,
        "parent_id": "99a60560-7259-4fb3-8e07-5ea5e04878fe",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "In this example we use four functions (plus "
            ],
            [
              "main()",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ") in three source files. Two of those ("
            ],
            [
              "plusfive()",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " and "
            ],
            [
              "timestwo()",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ") each get called by the other two located in “source1.c” and “source2.c”. The "
            ],
            [
              "main()",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " is included so we have a working example."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "In this example we use four functions (plus "
          },
          {
            "Text": "main()",
            "AttrFlags": 2
          },
          {
            "Text": ") in three source files. Two of those ("
          },
          {
            "Text": "plusfive()",
            "AttrFlags": 2
          },
          {
            "Text": " and "
          },
          {
            "Text": "timestwo()",
            "AttrFlags": 2
          },
          {
            "Text": ") each get called by the other two located in “source1.c” and “source2.c”. The "
          },
          {
            "Text": "main()",
            "AttrFlags": 2
          },
          {
            "Text": " is included so we have a working example."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551937318388,
        "id": "dc4c396b-6358-48bc-a475-ab1bda6f1787",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551937318388,
        "parent_id": "99a60560-7259-4fb3-8e07-5ea5e04878fe",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "main.c:"
            ]
          ]
        },
        "type": "sub_sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "main.c:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551937318388,
        "id": "0051edbc-c976-4295-8409-97a974e13ff1",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551937318388,
        "parent_id": "99a60560-7259-4fb3-8e07-5ea5e04878fe",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "#include \u003cstdio.h\u003e\n#include \u003cstdlib.h\u003e\n#include \"headerfile.h\"\n\nint main(void) {\n    int start = 3;\n    int intermediate = complicated1(start);\n    printf(\"First result is %d\\n\", intermediate);\n    intermediate = complicated2(start);\n    printf(\"Second result is %d\\n\", intermediate);\n    return 0;\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "#include \u003cstdio.h\u003e\n#include \u003cstdlib.h\u003e\n#include \"headerfile.h\"\n\nint main(void) {\n    int start = 3;\n    int intermediate = complicated1(start);\n    printf(\"First result is %d\\n\", intermediate);\n    intermediate = complicated2(start);\n    printf(\"Second result is %d\\n\", intermediate);\n    return 0;\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551937318388,
        "id": "2d18e3aa-0089-4066-82f5-0faebcc95a9c",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551937318388,
        "parent_id": "99a60560-7259-4fb3-8e07-5ea5e04878fe",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "source1.c:"
            ]
          ]
        },
        "type": "sub_sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "source1.c:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551937318388,
        "id": "561b7b5f-49ec-43b2-89d7-653f2edb9a98",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551937318388,
        "parent_id": "99a60560-7259-4fb3-8e07-5ea5e04878fe",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "#include \u003cstdio.h\u003e\n#include \u003cstdlib.h\u003e\n#include \"headerfile.h\"\n\nint complicated1(int input) {\n    int tmp = timestwo(input);\n    tmp = plusfive(tmp);\n    return tmp;\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "#include \u003cstdio.h\u003e\n#include \u003cstdlib.h\u003e\n#include \"headerfile.h\"\n\nint complicated1(int input) {\n    int tmp = timestwo(input);\n    tmp = plusfive(tmp);\n    return tmp;\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551937318388,
        "id": "35e1eecb-3888-4de4-a0d9-a2816569707c",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551937318388,
        "parent_id": "99a60560-7259-4fb3-8e07-5ea5e04878fe",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "source2.c:"
            ]
          ]
        },
        "type": "sub_sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "source2.c:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551937318388,
        "id": "3638d6d0-e12a-44f4-b2a0-2e356b13f364",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551937318388,
        "parent_id": "99a60560-7259-4fb3-8e07-5ea5e04878fe",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "#include \u003cstdio.h\u003e\n#include \u003cstdlib.h\u003e\n#include \"headerfile.h\"\n\nint complicated2(int input) {\n    int tmp = plusfive(input);\n    tmp = timestwo(tmp);\n    return tmp;\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "#include \u003cstdio.h\u003e\n#include \u003cstdlib.h\u003e\n#include \"headerfile.h\"\n\nint complicated2(int input) {\n    int tmp = plusfive(input);\n    tmp = timestwo(tmp);\n    return tmp;\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551937318388,
        "id": "8395a21c-e64d-487f-a19b-c885b9e3a73e",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551937318388,
        "parent_id": "99a60560-7259-4fb3-8e07-5ea5e04878fe",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "headerfile.h:"
            ]
          ]
        },
        "type": "sub_sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "headerfile.h:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551937318389,
        "id": "29674aae-39ef-43fe-9cc7-a6d36f22412b",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551937318389,
        "parent_id": "99a60560-7259-4fb3-8e07-5ea5e04878fe",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "#ifndef HEADERFILE_H\n#define HEADERFILE_H\n\nint complicated1(int input);\nint complicated2(int input);\n\ninline int timestwo(int input) {\n  return input * 2;\n}\ninline int plusfive(int input) {\n  return input + 5;\n}\n\n#endif"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "#ifndef HEADERFILE_H\n#define HEADERFILE_H\n\nint complicated1(int input);\nint complicated2(int input);\n\ninline int timestwo(int input) {\n  return input * 2;\n}\ninline int plusfive(int input) {\n  return input + 5;\n}\n\n#endif",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551937318389,
        "id": "9174fbec-f56b-4b32-be76-e0eb328ebd82",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551937318389,
        "parent_id": "99a60560-7259-4fb3-8e07-5ea5e04878fe",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Functions "
            ],
            [
              "timestwo",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " and "
            ],
            [
              "plusfive",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " get called by both "
            ],
            [
              "complicated1",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " and "
            ],
            [
              "complicated2",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ", which are in different “translation units”, or source files. In order to use them in this way, we have to define them in the header."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Functions "
          },
          {
            "Text": "timestwo",
            "AttrFlags": 2
          },
          {
            "Text": " and "
          },
          {
            "Text": "plusfive",
            "AttrFlags": 2
          },
          {
            "Text": " get called by both "
          },
          {
            "Text": "complicated1",
            "AttrFlags": 2
          },
          {
            "Text": " and "
          },
          {
            "Text": "complicated2",
            "AttrFlags": 2
          },
          {
            "Text": ", which are in different “translation units”, or source files. In order to use them in this way, we have to define them in the header."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551937318389,
        "id": "1b117aa9-7b9c-4561-82c4-e453051d2dae",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551937318389,
        "parent_id": "99a60560-7259-4fb3-8e07-5ea5e04878fe",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Compile like this, assuming gcc:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Compile like this, assuming gcc:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551937318389,
        "id": "6e4e3546-08d2-4870-8d65-21e518093320",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551937318389,
        "parent_id": "99a60560-7259-4fb3-8e07-5ea5e04878fe",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "cc -O2 -std=c99 -c -o main.o main.c\ncc -O2 -std=c99 -c -o source1.o source1.c\ncc -O2 -std=c99 -c -o source2.o source2.c\ncc main.o source1.o source2.o -o main"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "cc -O2 -std=c99 -c -o main.o main.c\ncc -O2 -std=c99 -c -o source1.o source1.c\ncc -O2 -std=c99 -c -o source2.o source2.c\ncc main.o source1.o source2.o -o main",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551937318389,
        "id": "ad454c49-3770-4dea-96a7-88a54491077f",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551937318389,
        "parent_id": "99a60560-7259-4fb3-8e07-5ea5e04878fe",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "We use the -O2 optimization option because some compilers don’t inline without optimization turned on."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "We use the -O2 optimization option because some compilers don’t inline without optimization turned on."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551937318389,
        "id": "7e3605c3-ee9f-446b-b499-a79e1e80a451",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551937318389,
        "parent_id": "99a60560-7259-4fb3-8e07-5ea5e04878fe",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The effect of the "
            ],
            [
              "inline",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " keyword is that the function symbol in question is not emitted into the object file. Otherwise an error would occur in the last line, where we are linking the object files to form the final executable. If we would not have "
            ],
            [
              "inline",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ", the same symbol would be defined in both "
            ],
            [
              ".o",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " files, and a “multiply defined symbol” error would occur."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "The effect of the "
          },
          {
            "Text": "inline",
            "AttrFlags": 2
          },
          {
            "Text": " keyword is that the function symbol in question is not emitted into the object file. Otherwise an error would occur in the last line, where we are linking the object files to form the final executable. If we would not have "
          },
          {
            "Text": "inline",
            "AttrFlags": 2
          },
          {
            "Text": ", the same symbol would be defined in both "
          },
          {
            "Text": ".o",
            "AttrFlags": 2
          },
          {
            "Text": " files, and a “multiply defined symbol” error would occur."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551937318390,
        "id": "7087e086-0646-47d7-a4fe-033e97516223",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551937318390,
        "parent_id": "99a60560-7259-4fb3-8e07-5ea5e04878fe",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "In situations where the symbol is actually needed, this has the disadvantage that the symbol is not produced at all. There are two possibilities to deal with that. The first is to add an extra "
            ],
            [
              "extern",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " declaration of the inlined functions in exactly one of the "
            ],
            [
              ".c",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " files. So add the following to "
            ],
            [
              "source1.c",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ":"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "In situations where the symbol is actually needed, this has the disadvantage that the symbol is not produced at all. There are two possibilities to deal with that. The first is to add an extra "
          },
          {
            "Text": "extern",
            "AttrFlags": 2
          },
          {
            "Text": " declaration of the inlined functions in exactly one of the "
          },
          {
            "Text": ".c",
            "AttrFlags": 2
          },
          {
            "Text": " files. So add the following to "
          },
          {
            "Text": "source1.c",
            "AttrFlags": 2
          },
          {
            "Text": ":"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551937318390,
        "id": "dfa8a9e2-a9cd-4185-a1cc-34d86cf32445",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551937318390,
        "parent_id": "99a60560-7259-4fb3-8e07-5ea5e04878fe",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "extern int timestwo(int input);\nextern int plusfive(int input);"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "extern int timestwo(int input);\nextern int plusfive(int input);",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551937318390,
        "id": "1997dfc7-bb4d-4c2c-88d1-1dbed27b2966",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551937318390,
        "parent_id": "99a60560-7259-4fb3-8e07-5ea5e04878fe",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The other possibility is to define the function with "
            ],
            [
              "static inline",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " instead of "
            ],
            [
              "inline",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ". This method has the drawback that eventually a copy of the function in question may be produced in "
            ],
            [
              "every",
              [
                [
                  "b"
                ]
              ]
            ],
            [
              " object file that is produced with this header."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "The other possibility is to define the function with "
          },
          {
            "Text": "static inline",
            "AttrFlags": 2
          },
          {
            "Text": " instead of "
          },
          {
            "Text": "inline",
            "AttrFlags": 2
          },
          {
            "Text": ". This method has the drawback that eventually a copy of the function in question may be produced in "
          },
          {
            "Text": "every",
            "AttrFlags": 1
          },
          {
            "Text": " object file that is produced with this header."
          }
        ]
      }
    ],
    "title": "Inlining functions used in more than one source file",
    "format_page": {
      "page_cover": "",
      "page_cover_position": 0,
      "page_font": "",
      "page_full_width": true,
      "page_icon": "",
      "page_small_text": true
    }
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 18
    }
  ],
  "Tables": null
}