{
  "ID": "a73d72ea-08e4-4c5e-8da4-2ec95d2725d9",
  "Root": {
    "alive": true,
    "content": [
      "681af5e8-bbab-469a-b96c-a73f314a0fe8",
      "d390280f-d5b0-418a-b6b7-a86dac546b79",
      "86b6ff8d-420b-4645-8800-d60ba106ef81",
      "09113d25-4018-4a21-abd6-a4e9710db8dd",
      "55ddb0cb-31c5-4353-ba63-38e04f638812",
      "c996fc6f-f9fd-493b-8893-445a08d91ed5",
      "ffee7d81-872e-4224-a247-3a07444fd820",
      "52cc4bca-fd8b-4ac4-8e1d-dbb22f17127f",
      "7ecddaff-b7c2-48b0-ae6a-1aa41bfc8c04",
      "93ef64bf-4ba7-499a-a16a-191b4b1413e8",
      "e86ce41d-358f-4399-8b80-7c67aa5c148d",
      "b7b3e597-b0fd-4878-bbcd-da2b8b7bcab4",
      "b8e17d2e-5378-4a9c-b1af-f887e67cc240"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1550460772139,
    "id": "a73d72ea-08e4-4c5e-8da4-2ec95d2725d9",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1550460772139,
    "parent_id": "e4ecbdd2-4cc1-4fe5-bfa8-fd658d08f5c9",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "020 Calling Java methods from C callback"
        ]
      ]
    },
    "type": "page",
    "version": 1,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550460772135,
        "id": "681af5e8-bbab-469a-b96c-a73f314a0fe8",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550460772135,
        "parent_id": "a73d72ea-08e4-4c5e-8da4-2ec95d2725d9",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Calling a Java method from native code is a two-step process :"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Calling a Java method from native code is a two-step process :"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550460772136,
        "id": "d390280f-d5b0-418a-b6b7-a86dac546b79",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550460772136,
        "parent_id": "a73d72ea-08e4-4c5e-8da4-2ec95d2725d9",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "obtain a method pointer with the "
            ],
            [
              "GetMethodID",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " JNI function, using the method name and descriptor ;"
            ]
          ]
        },
        "type": "numbered_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "obtain a method pointer with the "
          },
          {
            "Text": "GetMethodID",
            "AttrFlags": 2
          },
          {
            "Text": " JNI function, using the method name and descriptor ;"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550460772138,
        "id": "86b6ff8d-420b-4645-8800-d60ba106ef81",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550460772138,
        "parent_id": "a73d72ea-08e4-4c5e-8da4-2ec95d2725d9",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "call one of the "
            ],
            [
              "Call*Method",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " functions listed "
            ],
            [
              "here",
              [
                [
                  "a",
                  "http://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/functions.html#wp16656"
                ]
              ]
            ],
            [
              "."
            ]
          ]
        },
        "type": "numbered_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "call one of the "
          },
          {
            "Text": "Call*Method",
            "AttrFlags": 2
          },
          {
            "Text": " functions listed "
          },
          {
            "Text": "here",
            "Link": "http://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/functions.html#wp16656"
          },
          {
            "Text": "."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550460772138,
        "id": "09113d25-4018-4a21-abd6-a4e9710db8dd",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550460772138,
        "parent_id": "a73d72ea-08e4-4c5e-8da4-2ec95d2725d9",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Java code"
            ]
          ]
        },
        "type": "sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Java code"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550460772138,
        "id": "55ddb0cb-31c5-4353-ba63-38e04f638812",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550460772138,
        "parent_id": "a73d72ea-08e4-4c5e-8da4-2ec95d2725d9",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "/*** com.example.jni.JNIJavaCallback.java ***/\n\npackage com.example.jni;\n\npublic class JNIJavaCallback {\n    static {\n        System.loadLibrary(\"libJNI_CPP\");\n    }\n    \n    public static void main(String[] args) {\n        new JNIJavaCallback().callback();\n    }\n\n    public native void callback(); \n\n    public static void printNum(int i) {\n        System.out.println(\"Got int from C++: \" + i);\n    }\n    \n    public void printFloat(float i) {\n        System.out.println(\"Got float from C++: \" + i);\n    }\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "/*** com.example.jni.JNIJavaCallback.java ***/\n\npackage com.example.jni;\n\npublic class JNIJavaCallback {\n    static {\n        System.loadLibrary(\"libJNI_CPP\");\n    }\n    \n    public static void main(String[] args) {\n        new JNIJavaCallback().callback();\n    }\n\n    public native void callback(); \n\n    public static void printNum(int i) {\n        System.out.println(\"Got int from C++: \" + i);\n    }\n    \n    public void printFloat(float i) {\n        System.out.println(\"Got float from C++: \" + i);\n    }\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550460772138,
        "id": "c996fc6f-f9fd-493b-8893-445a08d91ed5",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550460772138,
        "parent_id": "a73d72ea-08e4-4c5e-8da4-2ec95d2725d9",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "C++ code"
            ]
          ]
        },
        "type": "sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "C++ code"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550460772138,
        "id": "ffee7d81-872e-4224-a247-3a07444fd820",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550460772138,
        "parent_id": "a73d72ea-08e4-4c5e-8da4-2ec95d2725d9",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "// com_example_jni_JNICppCallback.cpp\n\n#include \u003ciostream\u003e\n#include \"com_example_jni_JNIJavaCallback.h\"\n\nusing namespace std;\n\nJNIEXPORT void JNICALL Java_com_example_jni_JNIJavaCallback_callback(JNIEnv *env, jobject jthis) {\n    jclass thisClass = env-\u003eGetObjectClass(jthis);\n\n    jmethodID printFloat = env-\u003eGetMethodID(thisClass, \"printFloat\", \"(F)V\");\n    if (NULL == printFloat)\n        return;\n    env-\u003eCallVoidMethod(jthis, printFloat, 5.221);\n\n    jmethodID staticPrintInt = env-\u003eGetStaticMethodID(thisClass, \"printNum\", \"(I)V\");\n    if (NULL == staticPrintInt)\n        return;\n    env-\u003eCallVoidMethod(jthis, staticPrintInt, 17);\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "// com_example_jni_JNICppCallback.cpp\n\n#include \u003ciostream\u003e\n#include \"com_example_jni_JNIJavaCallback.h\"\n\nusing namespace std;\n\nJNIEXPORT void JNICALL Java_com_example_jni_JNIJavaCallback_callback(JNIEnv *env, jobject jthis) {\n    jclass thisClass = env-\u003eGetObjectClass(jthis);\n\n    jmethodID printFloat = env-\u003eGetMethodID(thisClass, \"printFloat\", \"(F)V\");\n    if (NULL == printFloat)\n        return;\n    env-\u003eCallVoidMethod(jthis, printFloat, 5.221);\n\n    jmethodID staticPrintInt = env-\u003eGetStaticMethodID(thisClass, \"printNum\", \"(I)V\");\n    if (NULL == staticPrintInt)\n        return;\n    env-\u003eCallVoidMethod(jthis, staticPrintInt, 17);\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550460772138,
        "id": "52cc4bca-fd8b-4ac4-8e1d-dbb22f17127f",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550460772138,
        "parent_id": "a73d72ea-08e4-4c5e-8da4-2ec95d2725d9",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Output"
            ]
          ]
        },
        "type": "sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Output"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550460772138,
        "id": "7ecddaff-b7c2-48b0-ae6a-1aa41bfc8c04",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550460772138,
        "parent_id": "a73d72ea-08e4-4c5e-8da4-2ec95d2725d9",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Got float from C++: 5.221"
            ]
          ]
        },
        "type": "quote",
        "version": 1,
        "inline_content": [
          {
            "Text": "Got float from C++: 5.221"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550460772139,
        "id": "93ef64bf-4ba7-499a-a16a-191b4b1413e8",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550460772139,
        "parent_id": "a73d72ea-08e4-4c5e-8da4-2ec95d2725d9",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Got int from C++: 17"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Got int from C++: 17"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550460772139,
        "id": "e86ce41d-358f-4399-8b80-7c67aa5c148d",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550460772139,
        "parent_id": "a73d72ea-08e4-4c5e-8da4-2ec95d2725d9",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Getting the descriptor"
            ]
          ]
        },
        "type": "sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Getting the descriptor"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550460772139,
        "id": "b7b3e597-b0fd-4878-bbcd-da2b8b7bcab4",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550460772139,
        "parent_id": "a73d72ea-08e4-4c5e-8da4-2ec95d2725d9",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Descriptors (or "
            ],
            [
              "internal type signatures",
              [
                [
                  "i"
                ]
              ]
            ],
            [
              ") are obtained using the "
            ],
            [
              "javap",
              [
                [
                  "b"
                ]
              ]
            ],
            [
              " program on the compiled "
            ],
            [
              ".class",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " file. Here is the output of "
            ],
            [
              "javap -p -s com.example.jni.JNIJavaCallback",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " :"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Descriptors (or "
          },
          {
            "Text": "internal type signatures",
            "AttrFlags": 4
          },
          {
            "Text": ") are obtained using the "
          },
          {
            "Text": "javap",
            "AttrFlags": 1
          },
          {
            "Text": " program on the compiled "
          },
          {
            "Text": ".class",
            "AttrFlags": 2
          },
          {
            "Text": " file. Here is the output of "
          },
          {
            "Text": "javap -p -s com.example.jni.JNIJavaCallback",
            "AttrFlags": 2
          },
          {
            "Text": " :"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550460772139,
        "id": "b8e17d2e-5378-4a9c-b1af-f887e67cc240",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550460772139,
        "parent_id": "a73d72ea-08e4-4c5e-8da4-2ec95d2725d9",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "Compiled from \"JNIJavaCallback.java\"\npublic class com.example.jni.JNIJavaCallback {\n  static {};\n    descriptor: ()V\n\n  public com.example.jni.JNIJavaCallback();\n    descriptor: ()V\n\n  public static void main(java.lang.String[]);\n    descriptor: ([Ljava/lang/String;)V\n\n  public native void callback();\n    descriptor: ()V\n\n  public static void printNum(int);\n    descriptor: (I)V  // \u003c---- Needed\n\n  public void printFloat(float);\n    descriptor: (F)V  // \u003c---- Needed\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "Compiled from \"JNIJavaCallback.java\"\npublic class com.example.jni.JNIJavaCallback {\n  static {};\n    descriptor: ()V\n\n  public com.example.jni.JNIJavaCallback();\n    descriptor: ()V\n\n  public static void main(java.lang.String[]);\n    descriptor: ([Ljava/lang/String;)V\n\n  public native void callback();\n    descriptor: ()V\n\n  public static void printNum(int);\n    descriptor: (I)V  // \u003c---- Needed\n\n  public void printFloat(float);\n    descriptor: (F)V  // \u003c---- Needed\n}",
        "code_language": "Plain Text"
      }
    ],
    "title": "020 Calling Java methods from C callback"
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 18
    }
  ],
  "Tables": null
}