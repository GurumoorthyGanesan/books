{
  "ID": "0f0fe95c-f722-4c66-8e63-1a671eef3b94",
  "Root": {
    "alive": true,
    "content": [
      "96154b2b-3b5f-4b38-856c-c444098760bc",
      "1f641b78-5fbb-401b-b9a6-2a715ff8758e",
      "5f76c284-1c4f-47b4-9f10-61ea16982f9c",
      "36a87f47-d52f-4205-8b7a-64e2e62e4cdf",
      "ea023a7c-da96-4ab3-b19b-5ae320b4fd2d",
      "bdee870b-9885-4832-9739-f293037aa518",
      "9ac35288-46d1-4a05-ab66-5edca3a0c26a",
      "c336b407-3259-4f2e-afb8-8bdff08ba0ad",
      "f04c1b2d-296d-4d5c-9008-25c325391698",
      "e4d3a454-6388-446f-bfb0-0eeda4679268",
      "325bf28c-8b95-4219-aa91-23aafbd986f9",
      "98a24b1a-47f6-45d5-ba1e-3e545b5ab669",
      "95c0a809-4be3-4c78-a4c2-69b75c343ecb"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1550518395639,
    "id": "0f0fe95c-f722-4c66-8e63-1a671eef3b94",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1550518395639,
    "parent_id": "053f453d-ac10-4abf-9826-3a34e4d13a72",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "010 Implementing a custom classLoader"
        ]
      ]
    },
    "type": "page",
    "version": 1,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550518395631,
        "id": "96154b2b-3b5f-4b38-856c-c444098760bc",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550518395631,
        "parent_id": "0f0fe95c-f722-4c66-8e63-1a671eef3b94",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Every custom loader must directly or indirectly extend the "
            ],
            [
              "java.lang.ClassLoader",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " class. The main "
            ],
            [
              "extension points",
              [
                [
                  "i"
                ]
              ]
            ],
            [
              " are the following methods:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Every custom loader must directly or indirectly extend the "
          },
          {
            "Text": "java.lang.ClassLoader",
            "AttrFlags": 2
          },
          {
            "Text": " class. The main "
          },
          {
            "Text": "extension points",
            "AttrFlags": 4
          },
          {
            "Text": " are the following methods:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550518395635,
        "id": "1f641b78-5fbb-401b-b9a6-2a715ff8758e",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550518395635,
        "parent_id": "0f0fe95c-f722-4c66-8e63-1a671eef3b94",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "findClass(String)",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " - overload this method if your classloader follows the standard delegation model for class loading."
            ]
          ]
        },
        "type": "bulleted_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "findClass(String)",
            "AttrFlags": 2
          },
          {
            "Text": " - overload this method if your classloader follows the standard delegation model for class loading."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550518395635,
        "id": "5f76c284-1c4f-47b4-9f10-61ea16982f9c",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550518395635,
        "parent_id": "0f0fe95c-f722-4c66-8e63-1a671eef3b94",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "loadClass(String, boolean)",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " - overload this method to implement an alternative delegation model."
            ]
          ]
        },
        "type": "bulleted_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "loadClass(String, boolean)",
            "AttrFlags": 2
          },
          {
            "Text": " - overload this method to implement an alternative delegation model."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550518395636,
        "id": "36a87f47-d52f-4205-8b7a-64e2e62e4cdf",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550518395636,
        "parent_id": "0f0fe95c-f722-4c66-8e63-1a671eef3b94",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "findResource",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " and "
            ],
            [
              "findResources",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " - overload these methods to customize resource loading."
            ]
          ]
        },
        "type": "bulleted_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "findResource",
            "AttrFlags": 2
          },
          {
            "Text": " and "
          },
          {
            "Text": "findResources",
            "AttrFlags": 2
          },
          {
            "Text": " - overload these methods to customize resource loading."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550518395636,
        "id": "ea023a7c-da96-4ab3-b19b-5ae320b4fd2d",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550518395636,
        "parent_id": "0f0fe95c-f722-4c66-8e63-1a671eef3b94",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The "
            ],
            [
              "defineClass",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " methods which are responsible for actually loading the class from a byte array are "
            ],
            [
              "final",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " to prevent overloading. Any custom behavior needs to be performed prior to calling "
            ],
            [
              "defineClass",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "The "
          },
          {
            "Text": "defineClass",
            "AttrFlags": 2
          },
          {
            "Text": " methods which are responsible for actually loading the class from a byte array are "
          },
          {
            "Text": "final",
            "AttrFlags": 2
          },
          {
            "Text": " to prevent overloading. Any custom behavior needs to be performed prior to calling "
          },
          {
            "Text": "defineClass",
            "AttrFlags": 2
          },
          {
            "Text": "."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550518395636,
        "id": "bdee870b-9885-4832-9739-f293037aa518",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550518395636,
        "parent_id": "0f0fe95c-f722-4c66-8e63-1a671eef3b94",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Here is a simple that loads a specific class from a byte array:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Here is a simple that loads a specific class from a byte array:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550518395636,
        "id": "9ac35288-46d1-4a05-ab66-5edca3a0c26a",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550518395636,
        "parent_id": "0f0fe95c-f722-4c66-8e63-1a671eef3b94",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "public class ByteArrayClassLoader extends ClassLoader {\n    private String classname;\n    private byte[] classfile;\n\n    public ByteArrayClassLoader(String classname, byte[] classfile) {\n        this.classname = classname;\n        this.classfile = classfile.clone();\n    }\n\n    @Override\n    protected Class findClass(String classname) throws ClassNotFoundException {\n        if (classname.equals(this.classname)) {\n            return defineClass(classname, classfile, 0, classfile.length);\n        } else {\n            throw new ClassNotFoundException(classname);\n        }\n    }\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "public class ByteArrayClassLoader extends ClassLoader {\n    private String classname;\n    private byte[] classfile;\n\n    public ByteArrayClassLoader(String classname, byte[] classfile) {\n        this.classname = classname;\n        this.classfile = classfile.clone();\n    }\n\n    @Override\n    protected Class findClass(String classname) throws ClassNotFoundException {\n        if (classname.equals(this.classname)) {\n            return defineClass(classname, classfile, 0, classfile.length);\n        } else {\n            throw new ClassNotFoundException(classname);\n        }\n    }\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550518395636,
        "id": "c336b407-3259-4f2e-afb8-8bdff08ba0ad",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550518395636,
        "parent_id": "0f0fe95c-f722-4c66-8e63-1a671eef3b94",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Since we have only overridden the "
            ],
            [
              "findClass",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " method, this custom class loader is going to behave as follows when "
            ],
            [
              "loadClass",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " is called."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Since we have only overridden the "
          },
          {
            "Text": "findClass",
            "AttrFlags": 2
          },
          {
            "Text": " method, this custom class loader is going to behave as follows when "
          },
          {
            "Text": "loadClass",
            "AttrFlags": 2
          },
          {
            "Text": " is called."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550518395637,
        "id": "f04c1b2d-296d-4d5c-9008-25c325391698",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550518395637,
        "parent_id": "0f0fe95c-f722-4c66-8e63-1a671eef3b94",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The classloader’s "
            ],
            [
              "loadClass",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " method calls "
            ],
            [
              "findLoadedClass",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " to see if a class with this name has already been loaded by this classloader. If that succeeds, the resulting "
            ],
            [
              "Class",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " object is returned to the requestor."
            ]
          ]
        },
        "type": "numbered_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "The classloader’s "
          },
          {
            "Text": "loadClass",
            "AttrFlags": 2
          },
          {
            "Text": " method calls "
          },
          {
            "Text": "findLoadedClass",
            "AttrFlags": 2
          },
          {
            "Text": " to see if a class with this name has already been loaded by this classloader. If that succeeds, the resulting "
          },
          {
            "Text": "Class",
            "AttrFlags": 2
          },
          {
            "Text": " object is returned to the requestor."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550518395637,
        "id": "e4d3a454-6388-446f-bfb0-0eeda4679268",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550518395637,
        "parent_id": "0f0fe95c-f722-4c66-8e63-1a671eef3b94",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The "
            ],
            [
              "loadClass",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " method then delegates to the parent classloader by calling its "
            ],
            [
              "loadClass",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " call. If the parent can deal with the request, it will return a "
            ],
            [
              "Class",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " object which is then returned to the requestor."
            ]
          ]
        },
        "type": "numbered_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "The "
          },
          {
            "Text": "loadClass",
            "AttrFlags": 2
          },
          {
            "Text": " method then delegates to the parent classloader by calling its "
          },
          {
            "Text": "loadClass",
            "AttrFlags": 2
          },
          {
            "Text": " call. If the parent can deal with the request, it will return a "
          },
          {
            "Text": "Class",
            "AttrFlags": 2
          },
          {
            "Text": " object which is then returned to the requestor."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550518395638,
        "id": "325bf28c-8b95-4219-aa91-23aafbd986f9",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550518395638,
        "parent_id": "0f0fe95c-f722-4c66-8e63-1a671eef3b94",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "If the parent classloader cannot load the class, "
            ],
            [
              "findClass",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " then calls our override "
            ],
            [
              "findClass",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " method, passing the name of the class to be loaded."
            ]
          ]
        },
        "type": "numbered_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "If the parent classloader cannot load the class, "
          },
          {
            "Text": "findClass",
            "AttrFlags": 2
          },
          {
            "Text": " then calls our override "
          },
          {
            "Text": "findClass",
            "AttrFlags": 2
          },
          {
            "Text": " method, passing the name of the class to be loaded."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550518395638,
        "id": "98a24b1a-47f6-45d5-ba1e-3e545b5ab669",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550518395638,
        "parent_id": "0f0fe95c-f722-4c66-8e63-1a671eef3b94",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "If the requested name matches "
            ],
            [
              "this.classname",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ", we call "
            ],
            [
              "defineClass",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " to load the actual class from the "
            ],
            [
              "this.classfile",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " byte array. The resulting "
            ],
            [
              "Class",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " object is then returned."
            ]
          ]
        },
        "type": "numbered_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "If the requested name matches "
          },
          {
            "Text": "this.classname",
            "AttrFlags": 2
          },
          {
            "Text": ", we call "
          },
          {
            "Text": "defineClass",
            "AttrFlags": 2
          },
          {
            "Text": " to load the actual class from the "
          },
          {
            "Text": "this.classfile",
            "AttrFlags": 2
          },
          {
            "Text": " byte array. The resulting "
          },
          {
            "Text": "Class",
            "AttrFlags": 2
          },
          {
            "Text": " object is then returned."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550518395639,
        "id": "95c0a809-4be3-4c78-a4c2-69b75c343ecb",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550518395639,
        "parent_id": "0f0fe95c-f722-4c66-8e63-1a671eef3b94",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "If the name did not match, we throw "
            ],
            [
              "ClassNotFoundException",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "."
            ]
          ]
        },
        "type": "numbered_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "If the name did not match, we throw "
          },
          {
            "Text": "ClassNotFoundException",
            "AttrFlags": 2
          },
          {
            "Text": "."
          }
        ]
      }
    ],
    "title": "010 Implementing a custom classLoader"
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 18
    }
  ],
  "Tables": null
}