{
  "ID": "cd943c92-1b94-458a-afe6-4f3e0110c035",
  "Root": {
    "alive": true,
    "content": [
      "e0b38e7c-3f3c-45c9-a47d-ba0d5c67cca1",
      "cd373510-03bb-40a2-9fec-a1521e59578b",
      "4459d5a0-a005-4951-b19f-c8b0c7507bfb",
      "cdb9c9d1-4fda-4625-828b-29661a06419a",
      "c0b807a3-5c85-4052-b9d0-7200da1c399b",
      "28c43340-94c6-4dbd-bdc7-1c328de89988",
      "8cb8f41b-bf76-4a81-8cdb-c123bea8b0b6",
      "002cc097-0959-4e87-a921-bacc8424564f",
      "03301565-3546-4eaa-8cc4-1eb475e3314d",
      "499845ed-8dc7-409e-b8a8-c536f67d262f",
      "5c8b6bce-29a0-4333-942f-beb4afc1f7e5",
      "c74f3b0e-e291-48ed-af6d-56761c54d46a",
      "02b55297-e2ea-42b2-ab27-1b3428ff3b82",
      "64a01671-9a7e-40a9-97c1-1c50a4260dbc",
      "3daccbd4-4550-4324-b43e-69d3be65d0db",
      "bb541a50-06d4-4696-8254-aa4d3685c3bb"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1550460141061,
    "id": "cd943c92-1b94-458a-afe6-4f3e0110c035",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1550460141061,
    "parent_id": "7416eb9a-1bd0-49c2-bd47-b63df006e231",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "210 Concurrent Collections"
        ]
      ]
    },
    "type": "page",
    "version": 1,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550460141053,
        "id": "e0b38e7c-3f3c-45c9-a47d-ba0d5c67cca1",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550460141053,
        "parent_id": "cd943c92-1b94-458a-afe6-4f3e0110c035",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Concurrent collections are a generalization of thread-safe collections, that allow for a broader usage in a concurrent environment."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Concurrent collections are a generalization of thread-safe collections, that allow for a broader usage in a concurrent environment."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550460141056,
        "id": "cd373510-03bb-40a2-9fec-a1521e59578b",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550460141056,
        "parent_id": "cd943c92-1b94-458a-afe6-4f3e0110c035",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "While thread-safe collections have safe element addition or removal from multiple threads, they do not necessarily have safe iteration in the same context (one may not be able to safely iterate through the collection in one thread, while another one modifies it by adding/removing elements)."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "While thread-safe collections have safe element addition or removal from multiple threads, they do not necessarily have safe iteration in the same context (one may not be able to safely iterate through the collection in one thread, while another one modifies it by adding/removing elements)."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550460141056,
        "id": "4459d5a0-a005-4951-b19f-c8b0c7507bfb",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550460141056,
        "parent_id": "cd943c92-1b94-458a-afe6-4f3e0110c035",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "This is where concurrent collections are used."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "This is where concurrent collections are used."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550460141056,
        "id": "cdb9c9d1-4fda-4625-828b-29661a06419a",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550460141056,
        "parent_id": "cd943c92-1b94-458a-afe6-4f3e0110c035",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "As iteration is often the base implementation of several bulk methods in collections, like "
            ],
            [
              "addAll",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ", "
            ],
            [
              "removeAll",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ", or also collection copying (through a constructor, or other means), sorting, … the use case for concurrent collections is actually pretty large."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "As iteration is often the base implementation of several bulk methods in collections, like "
          },
          {
            "Text": "addAll",
            "AttrFlags": 2
          },
          {
            "Text": ", "
          },
          {
            "Text": "removeAll",
            "AttrFlags": 2
          },
          {
            "Text": ", or also collection copying (through a constructor, or other means), sorting, … the use case for concurrent collections is actually pretty large."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550460141058,
        "id": "c0b807a3-5c85-4052-b9d0-7200da1c399b",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550460141058,
        "parent_id": "cd943c92-1b94-458a-afe6-4f3e0110c035",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "For example, the Java SE 5 "
            ],
            [
              "java.util.concurrent.CopyOnWriteArrayList",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " is a thread safe and concurrent "
            ],
            [
              "Lis",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "t implementation, its "
            ],
            [
              "javadoc",
              [
                [
                  "a",
                  "https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CopyOnWriteArrayList.html"
                ]
              ]
            ],
            [
              " states :"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "For example, the Java SE 5 "
          },
          {
            "Text": "java.util.concurrent.CopyOnWriteArrayList",
            "AttrFlags": 2
          },
          {
            "Text": " is a thread safe and concurrent "
          },
          {
            "Text": "Lis",
            "AttrFlags": 2
          },
          {
            "Text": "t implementation, its "
          },
          {
            "Text": "javadoc",
            "Link": "https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CopyOnWriteArrayList.html"
          },
          {
            "Text": " states :"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550460141059,
        "id": "28c43340-94c6-4dbd-bdc7-1c328de89988",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550460141059,
        "parent_id": "cd943c92-1b94-458a-afe6-4f3e0110c035",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The “snapshot” style iterator method uses a reference to the state of the array at the point that the iterator was created. This array never changes during the lifetime of the iterator, so interference is impossible and the iterator is guaranteed not to throw ConcurrentModificationException."
            ]
          ]
        },
        "type": "quote",
        "version": 1,
        "inline_content": [
          {
            "Text": "The “snapshot” style iterator method uses a reference to the state of the array at the point that the iterator was created. This array never changes during the lifetime of the iterator, so interference is impossible and the iterator is guaranteed not to throw ConcurrentModificationException."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550460141059,
        "id": "8cb8f41b-bf76-4a81-8cdb-c123bea8b0b6",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550460141059,
        "parent_id": "cd943c92-1b94-458a-afe6-4f3e0110c035",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Therefore, the following code is safe :"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Therefore, the following code is safe :"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550460141059,
        "id": "002cc097-0959-4e87-a921-bacc8424564f",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550460141059,
        "parent_id": "cd943c92-1b94-458a-afe6-4f3e0110c035",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "public class ThreadSafeAndConcurrent {\n\npublic static final List\u003cInteger\u003e LIST = new CopyOnWriteArrayList\u003c\u003e();\n\npublic static void main(String[] args) throws InterruptedException {\n    Thread modifier = new Thread(new ModifierRunnable());\n    Thread iterator = new Thread(new IteratorRunnable());\n    modifier.start();\n    iterator.start();\n    modifier.join();\n    iterator.join();\n}\n\npublic static final class ModifierRunnable implements Runnable {\n    @Override\n    public void run() {\n        try {\n            for (int i = 0; i \u003c 50000; i++) {\n                LIST.add(i);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n\npublic static final class IteratorRunnable implements Runnable {\n    @Override\n    public void run() {\n        try {\n            for (int i = 0; i \u003c 10000; i++) {\n                long total = 0;\n                for(Integer inList : LIST) {\n                    total += inList;\n                }\n                System.out.println(total);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "public class ThreadSafeAndConcurrent {\n\npublic static final List\u003cInteger\u003e LIST = new CopyOnWriteArrayList\u003c\u003e();\n\npublic static void main(String[] args) throws InterruptedException {\n    Thread modifier = new Thread(new ModifierRunnable());\n    Thread iterator = new Thread(new IteratorRunnable());\n    modifier.start();\n    iterator.start();\n    modifier.join();\n    iterator.join();\n}\n\npublic static final class ModifierRunnable implements Runnable {\n    @Override\n    public void run() {\n        try {\n            for (int i = 0; i \u003c 50000; i++) {\n                LIST.add(i);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n\npublic static final class IteratorRunnable implements Runnable {\n    @Override\n    public void run() {\n        try {\n            for (int i = 0; i \u003c 10000; i++) {\n                long total = 0;\n                for(Integer inList : LIST) {\n                    total += inList;\n                }\n                System.out.println(total);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550460141059,
        "id": "03301565-3546-4eaa-8cc4-1eb475e3314d",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550460141059,
        "parent_id": "cd943c92-1b94-458a-afe6-4f3e0110c035",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Another concurrent collection regarding iteration is "
            ],
            [
              "ConcurrentLinkedQueue",
              [
                [
                  "c"
                ],
                [
                  "a",
                  "https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentLinkedQueue.html"
                ]
              ]
            ],
            [
              ", which states :"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Another concurrent collection regarding iteration is "
          },
          {
            "Text": "ConcurrentLinkedQueue",
            "AttrFlags": 2,
            "Link": "https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentLinkedQueue.html"
          },
          {
            "Text": ", which states :"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550460141060,
        "id": "499845ed-8dc7-409e-b8a8-c536f67d262f",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550460141060,
        "parent_id": "cd943c92-1b94-458a-afe6-4f3e0110c035",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Iterators are weakly consistent, returning elements reflecting the state of the queue at some point at or since the creation of the iterator. They do not throw java.util.ConcurrentModificationException, and may proceed concurrently with other operations. Elements contained in the queue since the creation of the iterator will be returned exactly once."
            ]
          ]
        },
        "type": "quote",
        "version": 1,
        "inline_content": [
          {
            "Text": "Iterators are weakly consistent, returning elements reflecting the state of the queue at some point at or since the creation of the iterator. They do not throw java.util.ConcurrentModificationException, and may proceed concurrently with other operations. Elements contained in the queue since the creation of the iterator will be returned exactly once."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550460141060,
        "id": "5c8b6bce-29a0-4333-942f-beb4afc1f7e5",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550460141060,
        "parent_id": "cd943c92-1b94-458a-afe6-4f3e0110c035",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "One should check the javadocs to see if a collection is concurrent, or not. The attributes of the iterator returned by the "
            ],
            [
              "iterator()",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " method (“fail fast”, “weakly consistent”, …) is the most important attribute to look for."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "One should check the javadocs to see if a collection is concurrent, or not. The attributes of the iterator returned by the "
          },
          {
            "Text": "iterator()",
            "AttrFlags": 2
          },
          {
            "Text": " method (“fail fast”, “weakly consistent”, …) is the most important attribute to look for."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550460141060,
        "id": "c74f3b0e-e291-48ed-af6d-56761c54d46a",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550460141060,
        "parent_id": "cd943c92-1b94-458a-afe6-4f3e0110c035",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Thread safe but non concurrent examples"
            ]
          ]
        },
        "type": "header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Thread safe but non concurrent examples"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550460141060,
        "id": "02b55297-e2ea-42b2-ab27-1b3428ff3b82",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550460141060,
        "parent_id": "cd943c92-1b94-458a-afe6-4f3e0110c035",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "In the above code, changing the "
            ],
            [
              "LIST",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " declaration to"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "In the above code, changing the "
          },
          {
            "Text": "LIST",
            "AttrFlags": 2
          },
          {
            "Text": " declaration to"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550460141060,
        "id": "64a01671-9a7e-40a9-97c1-1c50a4260dbc",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550460141060,
        "parent_id": "cd943c92-1b94-458a-afe6-4f3e0110c035",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "public static final List\u003cInteger\u003e LIST = Collections.synchronizedList(new ArrayList\u003c\u003e());"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "public static final List\u003cInteger\u003e LIST = Collections.synchronizedList(new ArrayList\u003c\u003e());",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550460141060,
        "id": "3daccbd4-4550-4324-b43e-69d3be65d0db",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550460141060,
        "parent_id": "cd943c92-1b94-458a-afe6-4f3e0110c035",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Could (and statistically will on most modern, multi CPU/core architectures) lead to exceptions."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Could (and statistically will on most modern, multi CPU/core architectures) lead to exceptions."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550460141060,
        "id": "bb541a50-06d4-4696-8254-aa4d3685c3bb",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550460141060,
        "parent_id": "cd943c92-1b94-458a-afe6-4f3e0110c035",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Synchronized collections from the "
            ],
            [
              "Collections",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " utility methods are thread safe for addition/removal of elements, but not iteration (unless the underlying collection being passed to it already is)."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Synchronized collections from the "
          },
          {
            "Text": "Collections",
            "AttrFlags": 2
          },
          {
            "Text": " utility methods are thread safe for addition/removal of elements, but not iteration (unless the underlying collection being passed to it already is)."
          }
        ]
      }
    ],
    "title": "210 Concurrent Collections"
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 18
    }
  ],
  "Tables": null
}