{
  "ID": "118c35bf-40c5-4ce4-837a-816fe78962ca",
  "Root": {
    "alive": true,
    "content": [
      "477b962c-4b08-489e-b39b-cfedfcdcef96",
      "7658c279-8f53-4e0e-a912-e06fee8937e4",
      "0126b482-d630-44dd-ad42-07f1e5b5bc45",
      "4c69aaee-dec9-476d-9781-9ead27b07317",
      "1145e09d-1222-4f63-81fd-bf36b6a1486a",
      "3bb0e5e9-eaa1-40b3-bd53-b6264f990aaf",
      "aa6106b0-0f00-4c7e-b19a-37336a181531",
      "123813f7-f03b-4c6e-b2b4-02ed85b7336f",
      "63c6059d-7342-445c-a7a1-ce4a16ea8242",
      "54f836f8-b500-42f6-b665-83b1103c2c2a",
      "b7086a67-45d3-40b9-8763-5836cee4c0c9",
      "0b8a3e65-e9c7-4140-a1de-251b273bd23b",
      "1516792b-85f3-4812-b244-87255306a5b9",
      "e9acef36-c11f-4fe6-b6c0-ceb0d2511aaf",
      "3e1634a3-c2e9-4c70-a0f4-79d62e503287",
      "2664d300-7ed6-46fe-8fe6-9a5abf27c07c",
      "ca051fd3-407b-47ba-a4ee-c9d79f87b7a3",
      "01a9a707-c9f6-460d-b922-430339de09cd",
      "57a3239a-3a29-4349-aba9-d2aa7cb8178c",
      "5e52313f-28fd-4bea-8738-883b8a1b8ac1",
      "218cea52-54c8-4a01-a0a3-b59aacd1f4dc",
      "2b88f65d-5eb4-4ac8-9874-9d2983cc3dae",
      "ed7d8ce4-8c15-48de-b45d-d67f0b8f55e9",
      "13d26334-d52b-4958-aead-302e54e88d54",
      "fb53332d-3137-4c00-a2d6-88f7f85dd530",
      "fb2fe5de-6b07-45bf-912e-51edde3c33da",
      "eb0aa6cb-0b43-4f63-81fd-40e197fa21e4",
      "777e5f32-9989-471e-873c-ea1811b8cd54",
      "4fb9617f-4c13-4d3c-a1ec-45563858e8cc",
      "365a344b-1211-460f-b583-cd7e6a44ca66",
      "72f99ccf-40e9-4286-a0f6-9154be9d668a",
      "8176bfa5-ceb3-4251-832b-153546c230e1",
      "7469c228-f5ca-475b-a08c-b458c1d4b1c8",
      "3bb73539-63a5-4fca-8cfa-0b8eb3d508ef",
      "57f7ff82-89d0-4cc5-ba67-710363e31b4d",
      "9c8d1e4b-baad-4ebb-99fa-09a2b3c67d4c",
      "efba5128-9d86-4c3d-b8b6-fd5b6d775a84",
      "22f79384-f26a-4c1e-ae15-b28e0e1b696f",
      "c5514bde-596b-4e25-aacb-66bbaffd10bd",
      "ce37ba1a-23db-4266-aecd-e30a9894535f",
      "a7c24615-a8d7-42ab-bb47-0dfbd0242be0"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1550461550180,
    "format": {
      "page_full_width": true,
      "page_small_text": true
    },
    "id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1551762680000,
    "parent_id": "0ed5c46b-8e07-44d9-8123-227510c0501a",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "Typical design flaws which prevent a class from being immutable"
        ]
      ]
    },
    "type": "page",
    "version": 5,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550173,
        "id": "477b962c-4b08-489e-b39b-cfedfcdcef96",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550173,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Using some setters, without setting all needed properties in the constructor(s)",
              [
                [
                  "b"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Using some setters, without setting all needed properties in the constructor(s)",
            "AttrFlags": 1
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550176,
        "id": "7658c279-8f53-4e0e-a912-e06fee8937e4",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550176,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "public final class Person { // example of a bad immutability\n    private final String name;\n    private final String surname;\n    public Person(String name) {\n        this.name = name;\n      }\n    public String getName() { return name;}\n    public String getSurname() { return surname;}\n    public void setSurname(String surname) { this.surname = surname); }\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "public final class Person { // example of a bad immutability\n    private final String name;\n    private final String surname;\n    public Person(String name) {\n        this.name = name;\n      }\n    public String getName() { return name;}\n    public String getSurname() { return surname;}\n    public void setSurname(String surname) { this.surname = surname); }\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550176,
        "id": "0126b482-d630-44dd-ad42-07f1e5b5bc45",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550176,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "It’s easy to show that "
            ],
            [
              "Person",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " class is not immutable:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "It’s easy to show that "
          },
          {
            "Text": "Person",
            "AttrFlags": 2
          },
          {
            "Text": " class is not immutable:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550176,
        "id": "4c69aaee-dec9-476d-9781-9ead27b07317",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550176,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "Person person = new Person(\"Joe\");\nperson.setSurname(\"Average\"); // NOT OK, change surname field after creation"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "Person person = new Person(\"Joe\");\nperson.setSurname(\"Average\"); // NOT OK, change surname field after creation",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550176,
        "id": "1145e09d-1222-4f63-81fd-bf36b6a1486a",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550176,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "To fix it, simply delete "
            ],
            [
              "setSurname()",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " and refactor the constructor as follows:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "To fix it, simply delete "
          },
          {
            "Text": "setSurname()",
            "AttrFlags": 2
          },
          {
            "Text": " and refactor the constructor as follows:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550176,
        "id": "3bb0e5e9-eaa1-40b3-bd53-b6264f990aaf",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550176,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "public Person(String name, String surname) {\n    this.name = name;\n    this.surname = surname;\n  }"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "public Person(String name, String surname) {\n    this.name = name;\n    this.surname = surname;\n  }",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550176,
        "id": "aa6106b0-0f00-4c7e-b19a-37336a181531",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550176,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "type": "divider",
        "version": 1
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550176,
        "id": "123813f7-f03b-4c6e-b2b4-02ed85b7336f",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550176,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Not marking instance variables as private and final",
              [
                [
                  "b"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Not marking instance variables as private and final",
            "AttrFlags": 1
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550176,
        "id": "63c6059d-7342-445c-a7a1-ce4a16ea8242",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550176,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Take a look at the following class:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Take a look at the following class:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550177,
        "id": "54f836f8-b500-42f6-b665-83b1103c2c2a",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550177,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "public final class Person {\n    public String name;\n    public Person(String name) {\n        this.name = name;\n     }\n    public String getName() {\n        return name;\n    }\n    \n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "public final class Person {\n    public String name;\n    public Person(String name) {\n        this.name = name;\n     }\n    public String getName() {\n        return name;\n    }\n    \n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550177,
        "id": "b7086a67-45d3-40b9-8763-5836cee4c0c9",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550177,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The following snippet shows that the above class is not immutable:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "The following snippet shows that the above class is not immutable:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550177,
        "id": "0b8a3e65-e9c7-4140-a1de-251b273bd23b",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550177,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "Person person = new Person(\"Average Joe\");\nperson.name = \"Magic Mike\"; // not OK, new name for person after creation"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "Person person = new Person(\"Average Joe\");\nperson.name = \"Magic Mike\"; // not OK, new name for person after creation",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550177,
        "id": "1516792b-85f3-4812-b244-87255306a5b9",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550177,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "To fix it, simply mark name property as "
            ],
            [
              "private",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " and "
            ],
            [
              "final",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "To fix it, simply mark name property as "
          },
          {
            "Text": "private",
            "AttrFlags": 2
          },
          {
            "Text": " and "
          },
          {
            "Text": "final",
            "AttrFlags": 2
          },
          {
            "Text": "."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550177,
        "id": "e9acef36-c11f-4fe6-b6c0-ceb0d2511aaf",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550177,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "type": "divider",
        "version": 1
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550177,
        "id": "3e1634a3-c2e9-4c70-a0f4-79d62e503287",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550177,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Exposing a mutable object of the class in a getter",
              [
                [
                  "b"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Exposing a mutable object of the class in a getter",
            "AttrFlags": 1
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550177,
        "id": "2664d300-7ed6-46fe-8fe6-9a5abf27c07c",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550177,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Take a look at the following class:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Take a look at the following class:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550177,
        "id": "ca051fd3-407b-47ba-a4ee-c9d79f87b7a3",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550177,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "import java.util.List;\nimport java.util.ArrayList;\npublic final class Names {\n    private final List\u003cString\u003e names;\n    public Names(List\u003cString\u003e names) {\n        this.names = new ArrayList\u003cString\u003e(names);\n    }\n    public List\u003cString\u003e getNames() {\n        return names;\n    }\n    public int size() {\n        return names.size();\n    }\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "import java.util.List;\nimport java.util.ArrayList;\npublic final class Names {\n    private final List\u003cString\u003e names;\n    public Names(List\u003cString\u003e names) {\n        this.names = new ArrayList\u003cString\u003e(names);\n    }\n    public List\u003cString\u003e getNames() {\n        return names;\n    }\n    public int size() {\n        return names.size();\n    }\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550177,
        "id": "01a9a707-c9f6-460d-b922-430339de09cd",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550177,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Names",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " class seems immutable at the first sight, but it is not as the following code shows:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Names",
            "AttrFlags": 2
          },
          {
            "Text": " class seems immutable at the first sight, but it is not as the following code shows:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550177,
        "id": "57a3239a-3a29-4349-aba9-d2aa7cb8178c",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550177,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "List\u003cString\u003e namesList = new ArrayList\u003cString\u003e();\nnamesList.add(\"Average Joe\");\nNames names = new Names(namesList);\nSystem.out.println(names.size()); // 1, only containing \"Average Joe\"\nnamesList = names.getNames();\nnamesList.add(\"Magic Mike\");\nSystem.out.println(names.size()); // 2, NOT OK, now names also contains \"Magic Mike\""
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "List\u003cString\u003e namesList = new ArrayList\u003cString\u003e();\nnamesList.add(\"Average Joe\");\nNames names = new Names(namesList);\nSystem.out.println(names.size()); // 1, only containing \"Average Joe\"\nnamesList = names.getNames();\nnamesList.add(\"Magic Mike\");\nSystem.out.println(names.size()); // 2, NOT OK, now names also contains \"Magic Mike\"",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550178,
        "id": "5e52313f-28fd-4bea-8738-883b8a1b8ac1",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550178,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "This happened because a change to the reference List returned by "
            ],
            [
              "getNames()",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " can modify the actual list of "
            ],
            [
              "Names",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "This happened because a change to the reference List returned by "
          },
          {
            "Text": "getNames()",
            "AttrFlags": 2
          },
          {
            "Text": " can modify the actual list of "
          },
          {
            "Text": "Names",
            "AttrFlags": 2
          },
          {
            "Text": "."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550178,
        "id": "218cea52-54c8-4a01-a0a3-b59aacd1f4dc",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550178,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "To fix this, simply avoid returning references that reference class’s mutable objects "
            ],
            [
              "either",
              [
                [
                  "i"
                ]
              ]
            ],
            [
              " by making defensive copies, as follows:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "To fix this, simply avoid returning references that reference class’s mutable objects "
          },
          {
            "Text": "either",
            "AttrFlags": 4
          },
          {
            "Text": " by making defensive copies, as follows:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550178,
        "id": "2b88f65d-5eb4-4ac8-9874-9d2983cc3dae",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550178,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "public List\u003cString\u003e getNames() {\n   return new ArrayList\u003cString\u003e(this.names); // copies elements\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "public List\u003cString\u003e getNames() {\n   return new ArrayList\u003cString\u003e(this.names); // copies elements\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550178,
        "id": "ed7d8ce4-8c15-48de-b45d-d67f0b8f55e9",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550178,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "or",
              [
                [
                  "i"
                ]
              ]
            ],
            [
              " by designing getters in way that only other "
            ],
            [
              "immutable objects",
              [
                [
                  "i"
                ]
              ]
            ],
            [
              " and "
            ],
            [
              "primitives",
              [
                [
                  "i"
                ]
              ]
            ],
            [
              " are returned, as follows:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "or",
            "AttrFlags": 4
          },
          {
            "Text": " by designing getters in way that only other "
          },
          {
            "Text": "immutable objects",
            "AttrFlags": 4
          },
          {
            "Text": " and "
          },
          {
            "Text": "primitives",
            "AttrFlags": 4
          },
          {
            "Text": " are returned, as follows:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550178,
        "id": "13d26334-d52b-4958-aead-302e54e88d54",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550178,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "public String getName(int index) {\n    return names.get(index);\n}\npublic int size() {\n    return names.size();\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "public String getName(int index) {\n    return names.get(index);\n}\npublic int size() {\n    return names.size();\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550178,
        "id": "fb53332d-3137-4c00-a2d6-88f7f85dd530",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550178,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "type": "divider",
        "version": 1
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550178,
        "id": "fb2fe5de-6b07-45bf-912e-51edde3c33da",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550178,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Injecting constructor with object(s) that can be modified outside the immutable class",
              [
                [
                  "b"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Injecting constructor with object(s) that can be modified outside the immutable class",
            "AttrFlags": 1
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550178,
        "id": "eb0aa6cb-0b43-4f63-81fd-40e197fa21e4",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550178,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "This is a variation of the previous flaw. Take a look at the following class:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "This is a variation of the previous flaw. Take a look at the following class:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550179,
        "id": "777e5f32-9989-471e-873c-ea1811b8cd54",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550179,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "import java.util.List;\npublic final class NewNames {\n    private final List\u003cString\u003e names;\n    public Names(List\u003cString\u003e names) {\n        this.names = names;\n    }\n    public String getName(int index) {\n        return names.get(index);\n    }\n    public int size() {\n        return names.size();\n    }\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "import java.util.List;\npublic final class NewNames {\n    private final List\u003cString\u003e names;\n    public Names(List\u003cString\u003e names) {\n        this.names = names;\n    }\n    public String getName(int index) {\n        return names.get(index);\n    }\n    public int size() {\n        return names.size();\n    }\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550179,
        "id": "4fb9617f-4c13-4d3c-a1ec-45563858e8cc",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550179,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "As "
            ],
            [
              "Names",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " class before, also "
            ],
            [
              "NewNames",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " class seems immutable at the first sight, but it is not, in fact the following snippet proves the contrary:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "As "
          },
          {
            "Text": "Names",
            "AttrFlags": 2
          },
          {
            "Text": " class before, also "
          },
          {
            "Text": "NewNames",
            "AttrFlags": 2
          },
          {
            "Text": " class seems immutable at the first sight, but it is not, in fact the following snippet proves the contrary:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550179,
        "id": "365a344b-1211-460f-b583-cd7e6a44ca66",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550179,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "List\u003cString\u003e namesList = new ArrayList\u003cString\u003e();\nnamesList.add(\"Average Joe\");\nNewNames names = new NewNames(namesList);\nSystem.out.println(names.size()); // 1, only containing \"Average Joe\"\nnamesList.add(\"Magic Mike\");\nSystem.out.println(names.size()); // 2, NOT OK, now names also contains \"Magic Mike\""
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "List\u003cString\u003e namesList = new ArrayList\u003cString\u003e();\nnamesList.add(\"Average Joe\");\nNewNames names = new NewNames(namesList);\nSystem.out.println(names.size()); // 1, only containing \"Average Joe\"\nnamesList.add(\"Magic Mike\");\nSystem.out.println(names.size()); // 2, NOT OK, now names also contains \"Magic Mike\"",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550179,
        "id": "72f99ccf-40e9-4286-a0f6-9154be9d668a",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550179,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "To fix this, as in the previous flaw, simply make defensive copies of the object without assigning it directly to the immutable class, i.e. constructor can be changed as follows:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "To fix this, as in the previous flaw, simply make defensive copies of the object without assigning it directly to the immutable class, i.e. constructor can be changed as follows:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550179,
        "id": "8176bfa5-ceb3-4251-832b-153546c230e1",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550179,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "public Names(List\u003cString\u003e names) {\n    this.names = new ArrayList\u003cString\u003e(names);\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "public Names(List\u003cString\u003e names) {\n    this.names = new ArrayList\u003cString\u003e(names);\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550179,
        "id": "7469c228-f5ca-475b-a08c-b458c1d4b1c8",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550179,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "type": "divider",
        "version": 1
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550179,
        "id": "3bb73539-63a5-4fca-8cfa-0b8eb3d508ef",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550179,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Letting the methods of the class being overridden",
              [
                [
                  "b"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Letting the methods of the class being overridden",
            "AttrFlags": 1
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550179,
        "id": "57f7ff82-89d0-4cc5-ba67-710363e31b4d",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550179,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Take a look at the following class:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Take a look at the following class:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550179,
        "id": "9c8d1e4b-baad-4ebb-99fa-09a2b3c67d4c",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550179,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "public class Person {\n    private final String name;\n    public Person(String name) {\n        this.name = name;\n      }\n    public String getName() { return name;}\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "public class Person {\n    private final String name;\n    public Person(String name) {\n        this.name = name;\n      }\n    public String getName() { return name;}\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550180,
        "id": "efba5128-9d86-4c3d-b8b6-fd5b6d775a84",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550180,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Person",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " class seems immutable at the first sight, but suppose a new subclass of "
            ],
            [
              "Person",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " is defined:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Person",
            "AttrFlags": 2
          },
          {
            "Text": " class seems immutable at the first sight, but suppose a new subclass of "
          },
          {
            "Text": "Person",
            "AttrFlags": 2
          },
          {
            "Text": " is defined:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550180,
        "id": "22f79384-f26a-4c1e-ae15-b28e0e1b696f",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550180,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "public class MutablePerson extends Person {\n    private String newName;\n    public MutablePerson(String name) {\n        super(name);            \n    }\n    @Override\n    public String getName() {\n        return newName;\n    }\n    public void setName(String name) {\n        newName = name;\n    }\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "public class MutablePerson extends Person {\n    private String newName;\n    public MutablePerson(String name) {\n        super(name);            \n    }\n    @Override\n    public String getName() {\n        return newName;\n    }\n    public void setName(String name) {\n        newName = name;\n    }\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550180,
        "id": "c5514bde-596b-4e25-aacb-66bbaffd10bd",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550180,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "now "
            ],
            [
              "Person",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " (im)mutability can be exploited through polymorphism by using the new subclass:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "now "
          },
          {
            "Text": "Person",
            "AttrFlags": 2
          },
          {
            "Text": " (im)mutability can be exploited through polymorphism by using the new subclass:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550180,
        "id": "ce37ba1a-23db-4266-aecd-e30a9894535f",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550180,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "Person person = new MutablePerson(\"Average Joe\");\nSystem.out.println(person.getName()); prints Average Joe\nperson.setName(\"Magic Mike\"); // NOT OK, person has now a new name!\nSystem.out.println(person.getName()); // prints Magic Mike"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "Person person = new MutablePerson(\"Average Joe\");\nSystem.out.println(person.getName()); prints Average Joe\nperson.setName(\"Magic Mike\"); // NOT OK, person has now a new name!\nSystem.out.println(person.getName()); // prints Magic Mike",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550461550180,
        "id": "a7c24615-a8d7-42ab-bb47-0dfbd0242be0",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550461550180,
        "parent_id": "118c35bf-40c5-4ce4-837a-816fe78962ca",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "To fix this, "
            ],
            [
              "either",
              [
                [
                  "i"
                ]
              ]
            ],
            [
              " mark the class as "
            ],
            [
              "final",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " so it cannot be extended "
            ],
            [
              "or",
              [
                [
                  "i"
                ]
              ]
            ],
            [
              " declare all of its constructor(s) as "
            ],
            [
              "private",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "To fix this, "
          },
          {
            "Text": "either",
            "AttrFlags": 4
          },
          {
            "Text": " mark the class as "
          },
          {
            "Text": "final",
            "AttrFlags": 2
          },
          {
            "Text": " so it cannot be extended "
          },
          {
            "Text": "or",
            "AttrFlags": 4
          },
          {
            "Text": " declare all of its constructor(s) as "
          },
          {
            "Text": "private",
            "AttrFlags": 2
          },
          {
            "Text": "."
          }
        ]
      }
    ],
    "title": "Typical design flaws which prevent a class from being immutable",
    "format_page": {
      "page_cover": "",
      "page_cover_position": 0,
      "page_font": "",
      "page_full_width": true,
      "page_icon": "",
      "page_small_text": true
    }
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 18
    }
  ],
  "Tables": null
}