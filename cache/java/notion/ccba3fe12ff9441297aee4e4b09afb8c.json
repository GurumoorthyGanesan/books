{
  "ID": "ccba3fe1-2ff9-4412-97ae-e4e4b09afb8c",
  "Root": {
    "alive": true,
    "content": [
      "9ad94e07-edd4-44d1-bfe8-35190515a119",
      "c1307a1c-3684-4f8d-be48-b34ed7a668cb",
      "76b51e7a-00fa-42f9-b2e9-36ccd9e1cced",
      "3c775ef5-68c2-4fe6-93d1-6b69c22c8328",
      "25c8bd6d-5cd9-4014-bf12-1b872ccbf67a",
      "063dfbfd-e4a2-465b-9b26-b243111a9447",
      "40ba3670-53fc-43cd-8acc-641cd20a5b1c",
      "71b99eba-dccd-43ae-9044-5e99e3052f54",
      "4bd19f79-b93d-43b6-8458-12ad4414999d",
      "2128578e-6e17-483b-bf7f-673cb8a995ce",
      "62fbe73b-4b60-42ae-ab6e-60a412bb3b92",
      "c391147c-bb60-4bfd-ad57-2a35f9cd8721",
      "b03c45ce-e417-428e-b04f-2a58df600182",
      "f41817b4-83fb-46b1-824b-9fe2cf5c8a90",
      "330ee86f-1f1d-4b32-8ac1-45ffe27e1946",
      "70bc2629-ca1b-48ca-8848-8525cef78ba3",
      "8c9edb96-ef5f-456e-b2f9-cca725794c6b"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1550518003280,
    "format": {
      "page_full_width": true,
      "page_small_text": true
    },
    "id": "ccba3fe1-2ff9-4412-97ae-e4e4b09afb8c",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1551760751657,
    "parent_id": "65b3b4cb-dbb9-4dfb-9c83-9429dfa4e76a",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "Pitfall - String concatenation in a loop does not scale"
        ]
      ]
    },
    "type": "page",
    "version": 5,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550518003260,
        "id": "9ad94e07-edd4-44d1-bfe8-35190515a119",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550518003260,
        "parent_id": "ccba3fe1-2ff9-4412-97ae-e4e4b09afb8c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Consider the following code as an illustration:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Consider the following code as an illustration:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550518003267,
        "id": "c1307a1c-3684-4f8d-be48-b34ed7a668cb",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550518003267,
        "parent_id": "ccba3fe1-2ff9-4412-97ae-e4e4b09afb8c",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "public String joinWords(List\u003cString\u003e words) {\n    String message = \"\";\n    for (String word : words) {\n        message = message + \" \" + word;\n    }\n    return message;\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "public String joinWords(List\u003cString\u003e words) {\n    String message = \"\";\n    for (String word : words) {\n        message = message + \" \" + word;\n    }\n    return message;\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550518003268,
        "id": "76b51e7a-00fa-42f9-b2e9-36ccd9e1cced",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550518003268,
        "parent_id": "ccba3fe1-2ff9-4412-97ae-e4e4b09afb8c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Unfortunate this code is inefficient if the "
            ],
            [
              "words",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " list is long. The root of the problem is this statement:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Unfortunate this code is inefficient if the "
          },
          {
            "Text": "words",
            "AttrFlags": 2
          },
          {
            "Text": " list is long. The root of the problem is this statement:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550518003268,
        "id": "3c775ef5-68c2-4fe6-93d1-6b69c22c8328",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550518003268,
        "parent_id": "ccba3fe1-2ff9-4412-97ae-e4e4b09afb8c",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "message = message + \" \" + word;"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "message = message + \" \" + word;",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550518003268,
        "id": "25c8bd6d-5cd9-4014-bf12-1b872ccbf67a",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550518003268,
        "parent_id": "ccba3fe1-2ff9-4412-97ae-e4e4b09afb8c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "For each loop iteration, this statement creates a new "
            ],
            [
              "message",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " string containing a copy of all characters in the original "
            ],
            [
              "message",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " string with extra characters appended to it. This generates a lot of temporary strings, and does a lot of copying."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "For each loop iteration, this statement creates a new "
          },
          {
            "Text": "message",
            "AttrFlags": 2
          },
          {
            "Text": " string containing a copy of all characters in the original "
          },
          {
            "Text": "message",
            "AttrFlags": 2
          },
          {
            "Text": " string with extra characters appended to it. This generates a lot of temporary strings, and does a lot of copying."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550518003269,
        "id": "063dfbfd-e4a2-465b-9b26-b243111a9447",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550518003269,
        "parent_id": "ccba3fe1-2ff9-4412-97ae-e4e4b09afb8c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "When we analyse "
            ],
            [
              "joinWords",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ", assuming that there are N words with an average length of M, we find that O(N) temporary strings are created and O(M.N2) characters will be copied in the process. The N2 component is particularly troubling."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "When we analyse "
          },
          {
            "Text": "joinWords",
            "AttrFlags": 2
          },
          {
            "Text": ", assuming that there are N words with an average length of M, we find that O(N) temporary strings are created and O(M.N2) characters will be copied in the process. The N2 component is particularly troubling."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550518003269,
        "id": "40ba3670-53fc-43cd-8acc-641cd20a5b1c",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550518003269,
        "parent_id": "ccba3fe1-2ff9-4412-97ae-e4e4b09afb8c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The recommended approach for this kind of problem1 is to use a "
            ],
            [
              "StringBuilder",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " instead of string concatenation as follows:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "The recommended approach for this kind of problem1 is to use a "
          },
          {
            "Text": "StringBuilder",
            "AttrFlags": 2
          },
          {
            "Text": " instead of string concatenation as follows:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550518003269,
        "id": "71b99eba-dccd-43ae-9044-5e99e3052f54",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550518003269,
        "parent_id": "ccba3fe1-2ff9-4412-97ae-e4e4b09afb8c",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "public String joinWords2(List\u003cString\u003e words) {\n    StringBuilder message = new StringBuilder();\n    for (String word : words) {\n        message.append(\" \").append(word);\n    }\n    return message.toString();\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "public String joinWords2(List\u003cString\u003e words) {\n    StringBuilder message = new StringBuilder();\n    for (String word : words) {\n        message.append(\" \").append(word);\n    }\n    return message.toString();\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550518003270,
        "id": "4bd19f79-b93d-43b6-8458-12ad4414999d",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550518003270,
        "parent_id": "ccba3fe1-2ff9-4412-97ae-e4e4b09afb8c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The analysis of "
            ],
            [
              "joinWords2",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " needs to take account of the overheads of “growing” the "
            ],
            [
              "StringBuilder",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " backing array that holds the builder’s characters. However, it turns out that the number of new objects created is O(logN) and that the number of characters copied is O(M.N) characters. The latter includes characters copied in the final "
            ],
            [
              "toString()",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " call."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "The analysis of "
          },
          {
            "Text": "joinWords2",
            "AttrFlags": 2
          },
          {
            "Text": " needs to take account of the overheads of “growing” the "
          },
          {
            "Text": "StringBuilder",
            "AttrFlags": 2
          },
          {
            "Text": " backing array that holds the builder’s characters. However, it turns out that the number of new objects created is O(logN) and that the number of characters copied is O(M.N) characters. The latter includes characters copied in the final "
          },
          {
            "Text": "toString()",
            "AttrFlags": 2
          },
          {
            "Text": " call."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550518003270,
        "id": "2128578e-6e17-483b-bf7f-673cb8a995ce",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550518003270,
        "parent_id": "ccba3fe1-2ff9-4412-97ae-e4e4b09afb8c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "(It may be possible to tune this further, by creating the "
            ],
            [
              "StringBuilder",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " with the correct capacity to start with. However, the overall complexity remains the same.)"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "(It may be possible to tune this further, by creating the "
          },
          {
            "Text": "StringBuilder",
            "AttrFlags": 2
          },
          {
            "Text": " with the correct capacity to start with. However, the overall complexity remains the same.)"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550518003270,
        "id": "62fbe73b-4b60-42ae-ab6e-60a412bb3b92",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550518003270,
        "parent_id": "ccba3fe1-2ff9-4412-97ae-e4e4b09afb8c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Returning to the original "
            ],
            [
              "joinWords",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " method, it turns out that the critical statement will be optimized by a typical Java compiler to something like this:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Returning to the original "
          },
          {
            "Text": "joinWords",
            "AttrFlags": 2
          },
          {
            "Text": " method, it turns out that the critical statement will be optimized by a typical Java compiler to something like this:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550518003270,
        "id": "c391147c-bb60-4bfd-ad57-2a35f9cd8721",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550518003270,
        "parent_id": "ccba3fe1-2ff9-4412-97ae-e4e4b09afb8c",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "StringBuilder tmp = new StringBuilder();\ntmp.append(message).append(\" \").append(word);\nmessage = tmp.toString();"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "StringBuilder tmp = new StringBuilder();\ntmp.append(message).append(\" \").append(word);\nmessage = tmp.toString();",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550518003270,
        "id": "b03c45ce-e417-428e-b04f-2a58df600182",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550518003270,
        "parent_id": "ccba3fe1-2ff9-4412-97ae-e4e4b09afb8c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "However, the Java compiler will not “hoist” the "
            ],
            [
              "StringBuilder",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " out of the loop, as we did by hand in the code for "
            ],
            [
              "joinWords2",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "However, the Java compiler will not “hoist” the "
          },
          {
            "Text": "StringBuilder",
            "AttrFlags": 2
          },
          {
            "Text": " out of the loop, as we did by hand in the code for "
          },
          {
            "Text": "joinWords2",
            "AttrFlags": 2
          },
          {
            "Text": "."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550518003271,
        "id": "f41817b4-83fb-46b1-824b-9fe2cf5c8a90",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550518003271,
        "parent_id": "ccba3fe1-2ff9-4412-97ae-e4e4b09afb8c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Reference:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Reference:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550518003280,
        "id": "330ee86f-1f1d-4b32-8ac1-45ffe27e1946",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550518003280,
        "parent_id": "ccba3fe1-2ff9-4412-97ae-e4e4b09afb8c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "“Is Java’s String ‘+’ operator in a loop slow?”",
              [
                [
                  "a",
                  "http://outoffactserror.blogspot.com/2017/03/is-javas-string-operator-in-loop-slow.html"
                ]
              ]
            ]
          ]
        },
        "type": "bulleted_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "“Is Java’s String ‘+’ operator in a loop slow?”",
            "Link": "http://outoffactserror.blogspot.com/2017/03/is-javas-string-operator-in-loop-slow.html"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550518003280,
        "id": "70bc2629-ca1b-48ca-8848-8525cef78ba3",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550518003280,
        "parent_id": "ccba3fe1-2ff9-4412-97ae-e4e4b09afb8c",
        "parent_table": "block",
        "type": "divider",
        "version": 1
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550518003280,
        "id": "8c9edb96-ef5f-456e-b2f9-cca725794c6b",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550518003280,
        "parent_id": "ccba3fe1-2ff9-4412-97ae-e4e4b09afb8c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "1 - In Java 8 and later, the "
            ],
            [
              "Joiner",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " class can be used to solve this particular problem. However, that is not what this example is "
            ],
            [
              "really supposed to be about",
              [
                [
                  "i"
                ]
              ]
            ],
            [
              "."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "1 - In Java 8 and later, the "
          },
          {
            "Text": "Joiner",
            "AttrFlags": 2
          },
          {
            "Text": " class can be used to solve this particular problem. However, that is not what this example is "
          },
          {
            "Text": "really supposed to be about",
            "AttrFlags": 4
          },
          {
            "Text": "."
          }
        ]
      }
    ],
    "title": "Pitfall - String concatenation in a loop does not scale",
    "format_page": {
      "page_cover": "",
      "page_cover_position": 0,
      "page_font": "",
      "page_full_width": true,
      "page_icon": "",
      "page_small_text": true
    }
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 18
    }
  ],
  "Tables": null
}