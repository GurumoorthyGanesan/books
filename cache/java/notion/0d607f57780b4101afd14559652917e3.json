{
  "ID": "0d607f57-780b-4101-afd1-4559652917e3",
  "Root": {
    "alive": true,
    "content": [
      "61c62ff7-f1cd-4ecb-b44d-1cf1d414e7b5",
      "b7ba9244-40c1-43da-85f7-984456d437a1",
      "0dc1716e-c39a-4799-bbae-7a6607412464",
      "f3018f58-808b-4832-93b6-c29e9a5bff0e",
      "2351dcbe-6c8c-4c16-b127-979d0499154d",
      "45cf2a52-78c2-40f6-8f7f-bb5693a6f008",
      "64ed448e-7000-470d-805b-770fc4512d7c",
      "c3496ed5-854b-4a1c-9a01-24ec86262e11",
      "da7204d1-ff3f-4a17-891f-fd27e52e5373",
      "9880111a-033b-4667-92bb-aca648bae8ff",
      "a98062d5-b14b-4586-aa84-52a30e946f1e",
      "0996b8dd-0997-4bbb-9b2d-5b266c5f3a3d",
      "8df9209f-7ecb-4241-948f-96560665b1d8"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1550519837627,
    "id": "0d607f57-780b-4101-afd1-4559652917e3",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1550519837627,
    "parent_id": "66f75f26-7b72-418f-ad75-35bde2b590ba",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "020 Creating a multi-release Jar using the jar tool"
        ]
      ]
    },
    "type": "page",
    "version": 1,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550519837622,
        "id": "61c62ff7-f1cd-4ecb-b44d-1cf1d414e7b5",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550519837622,
        "parent_id": "0d607f57-780b-4101-afd1-4559652917e3",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The "
            ],
            [
              "jar",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " command can be used to create a multi-release Jar containing two versions of the same class compiled for both Java 8 and Java 9, albeit with a warning telling that the classes are identical:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "The "
          },
          {
            "Text": "jar",
            "AttrFlags": 2
          },
          {
            "Text": " command can be used to create a multi-release Jar containing two versions of the same class compiled for both Java 8 and Java 9, albeit with a warning telling that the classes are identical:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550519837624,
        "id": "b7ba9244-40c1-43da-85f7-984456d437a1",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550519837624,
        "parent_id": "0d607f57-780b-4101-afd1-4559652917e3",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "C:\\Users\\manouti\u003ejar --create --file MR.jar -C sampleproject-base demo --release 9 -C sampleproject-9 demo\nWarning: entry META-INF/versions/9/demo/SampleClass.class contains a class that\nis identical to an entry already in the jar"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "C:\\Users\\manouti\u003ejar --create --file MR.jar -C sampleproject-base demo --release 9 -C sampleproject-9 demo\nWarning: entry META-INF/versions/9/demo/SampleClass.class contains a class that\nis identical to an entry already in the jar",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550519837625,
        "id": "0dc1716e-c39a-4799-bbae-7a6607412464",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550519837625,
        "parent_id": "0d607f57-780b-4101-afd1-4559652917e3",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The "
            ],
            [
              "--release 9",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " option tells "
            ],
            [
              "jar",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " to include everything that follows (the "
            ],
            [
              "demo",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " package inside the "
            ],
            [
              "sampleproject-9",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " directory) inside a versioned entry in the MRJAR, namely under "
            ],
            [
              "root/META-INF/versions/9",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ". The result is the following contents:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "The "
          },
          {
            "Text": "--release 9",
            "AttrFlags": 2
          },
          {
            "Text": " option tells "
          },
          {
            "Text": "jar",
            "AttrFlags": 2
          },
          {
            "Text": " to include everything that follows (the "
          },
          {
            "Text": "demo",
            "AttrFlags": 2
          },
          {
            "Text": " package inside the "
          },
          {
            "Text": "sampleproject-9",
            "AttrFlags": 2
          },
          {
            "Text": " directory) inside a versioned entry in the MRJAR, namely under "
          },
          {
            "Text": "root/META-INF/versions/9",
            "AttrFlags": 2
          },
          {
            "Text": ". The result is the following contents:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550519837625,
        "id": "f3018f58-808b-4832-93b6-c29e9a5bff0e",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550519837625,
        "parent_id": "0d607f57-780b-4101-afd1-4559652917e3",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "jar root\n  - demo\n     - SampleClass.class\n  - META-INF\n     - versions\n        - 9\n           - demo\n              - SampleClass.class"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "jar root\n  - demo\n     - SampleClass.class\n  - META-INF\n     - versions\n        - 9\n           - demo\n              - SampleClass.class",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550519837625,
        "id": "2351dcbe-6c8c-4c16-b127-979d0499154d",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550519837625,
        "parent_id": "0d607f57-780b-4101-afd1-4559652917e3",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Let us now create a class called Main that prints the URL of the "
            ],
            [
              "SampleClass",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ", and add it for the Java 9 version:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Let us now create a class called Main that prints the URL of the "
          },
          {
            "Text": "SampleClass",
            "AttrFlags": 2
          },
          {
            "Text": ", and add it for the Java 9 version:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550519837625,
        "id": "45cf2a52-78c2-40f6-8f7f-bb5693a6f008",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550519837625,
        "parent_id": "0d607f57-780b-4101-afd1-4559652917e3",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "package demo;\n\nimport java.net.URL;\n\npublic class Main {\n\n    public static void main(String[] args) throws Exception {\n        URL url = Main.class.getClassLoader().getResource(\"demo/SampleClass.class\");\n        System.out.println(url);\n    }\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "package demo;\n\nimport java.net.URL;\n\npublic class Main {\n\n    public static void main(String[] args) throws Exception {\n        URL url = Main.class.getClassLoader().getResource(\"demo/SampleClass.class\");\n        System.out.println(url);\n    }\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550519837625,
        "id": "64ed448e-7000-470d-805b-770fc4512d7c",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550519837625,
        "parent_id": "0d607f57-780b-4101-afd1-4559652917e3",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "If we compile this class and re-run the jar command, we get an error:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "If we compile this class and re-run the jar command, we get an error:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550519837626,
        "id": "c3496ed5-854b-4a1c-9a01-24ec86262e11",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550519837626,
        "parent_id": "0d607f57-780b-4101-afd1-4559652917e3",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "C:\\Users\\manouti\u003ejar --create --file MR.jar -C sampleproject-base demo --release 9 -C sampleproject-9 demoentry: META-INF/versions/9/demo/Main.class, contains a new public class not found in base entries\nWarning: entry META-INF/versions/9/demo/Main.java, multiple resources with same name\nWarning: entry META-INF/versions/9/demo/SampleClass.class contains a class that\nis identical to an entry already in the jar\ninvalid multi-release jar file MR.jar deleted"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "C:\\Users\\manouti\u003ejar --create --file MR.jar -C sampleproject-base demo --release 9 -C sampleproject-9 demoentry: META-INF/versions/9/demo/Main.class, contains a new public class not found in base entries\nWarning: entry META-INF/versions/9/demo/Main.java, multiple resources with same name\nWarning: entry META-INF/versions/9/demo/SampleClass.class contains a class that\nis identical to an entry already in the jar\ninvalid multi-release jar file MR.jar deleted",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550519837626,
        "id": "da7204d1-ff3f-4a17-891f-fd27e52e5373",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550519837626,
        "parent_id": "0d607f57-780b-4101-afd1-4559652917e3",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The reason is that the "
            ],
            [
              "jar",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " tool prevents adding public classes to versioned entries if they are not added to the base entries as well. This is done so that the MRJAR exposes the same public API for the different Java versions. Note that at runtime, this rule is not required. It may be only applied by tools like "
            ],
            [
              "jar",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ". In this particular case, the purpose of "
            ],
            [
              "Main",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " is to run sample code, so we can simply add a copy in the base entry. If the class were part of a newer implementation that we only need for Java 9, it could be made non-public."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "The reason is that the "
          },
          {
            "Text": "jar",
            "AttrFlags": 2
          },
          {
            "Text": " tool prevents adding public classes to versioned entries if they are not added to the base entries as well. This is done so that the MRJAR exposes the same public API for the different Java versions. Note that at runtime, this rule is not required. It may be only applied by tools like "
          },
          {
            "Text": "jar",
            "AttrFlags": 2
          },
          {
            "Text": ". In this particular case, the purpose of "
          },
          {
            "Text": "Main",
            "AttrFlags": 2
          },
          {
            "Text": " is to run sample code, so we can simply add a copy in the base entry. If the class were part of a newer implementation that we only need for Java 9, it could be made non-public."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550519837626,
        "id": "9880111a-033b-4667-92bb-aca648bae8ff",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550519837626,
        "parent_id": "0d607f57-780b-4101-afd1-4559652917e3",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "To add "
            ],
            [
              "Main",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " to the root entry, we first need to compile it to target a pre-Java 9 release. This can be done using the new "
            ],
            [
              "--release",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " option of "
            ],
            [
              "javac",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ":"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "To add "
          },
          {
            "Text": "Main",
            "AttrFlags": 2
          },
          {
            "Text": " to the root entry, we first need to compile it to target a pre-Java 9 release. This can be done using the new "
          },
          {
            "Text": "--release",
            "AttrFlags": 2
          },
          {
            "Text": " option of "
          },
          {
            "Text": "javac",
            "AttrFlags": 2
          },
          {
            "Text": ":"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550519837626,
        "id": "a98062d5-b14b-4586-aa84-52a30e946f1e",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550519837626,
        "parent_id": "0d607f57-780b-4101-afd1-4559652917e3",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "C:\\Users\\manouti\\sampleproject-base\\demo\u003ejavac --release 8 Main.java\nC:\\Users\\manouti\\sampleproject-base\\demo\u003ecd ../..\nC:\\Users\\manouti\u003ejar --create --file MR.jar -C sampleproject-base demo --release 9 -C sampleproject-9 demo"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "C:\\Users\\manouti\\sampleproject-base\\demo\u003ejavac --release 8 Main.java\nC:\\Users\\manouti\\sampleproject-base\\demo\u003ecd ../..\nC:\\Users\\manouti\u003ejar --create --file MR.jar -C sampleproject-base demo --release 9 -C sampleproject-9 demo",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550519837626,
        "id": "0996b8dd-0997-4bbb-9b2d-5b266c5f3a3d",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550519837626,
        "parent_id": "0d607f57-780b-4101-afd1-4559652917e3",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Running the Main class shows that the SampleClass gets loaded from the versioned directory:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Running the Main class shows that the SampleClass gets loaded from the versioned directory:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550519837627,
        "id": "8df9209f-7ecb-4241-948f-96560665b1d8",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550519837627,
        "parent_id": "0d607f57-780b-4101-afd1-4559652917e3",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "C:\\Users\\manouti\u003ejava --class-path MR.jar demo.Main\njar:file:/C:/Users/manouti/MR.jar!/META-INF/versions/9/demo/SampleClass.class"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "C:\\Users\\manouti\u003ejava --class-path MR.jar demo.Main\njar:file:/C:/Users/manouti/MR.jar!/META-INF/versions/9/demo/SampleClass.class",
        "code_language": "Plain Text"
      }
    ],
    "title": "020 Creating a multi-release Jar using the jar tool"
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 18
    }
  ],
  "Tables": null
}