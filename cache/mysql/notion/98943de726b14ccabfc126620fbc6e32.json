{
  "ID": "98943de7-26b1-4cca-bfc1-26620fbc6e32",
  "Root": {
    "alive": true,
    "content": [
      "b7de5abe-4226-456a-ba6a-4b63738b7423",
      "c66914d9-7622-414d-95d6-14b91e52277a",
      "0753cde6-06ea-4e93-8423-25f17f1c5790",
      "ed5f5607-6bd2-41bc-b878-fe36623cec6e",
      "4e3744bc-6afd-46e3-9c90-a96cf96c690f",
      "ea106cc9-1be9-4562-9c3f-34ac2848b639",
      "4b07e4c4-09df-47d9-b583-17a3aada1cf7",
      "4dfcba88-4e94-41ba-8855-0f4ca4a42fe8",
      "5824d0af-f40a-4209-a287-19ad1f016989",
      "e229f644-1fbf-4d64-9db6-b246a3ad75f5",
      "89c6ae6a-0652-44ee-8769-5204767cf7c1"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1550381547027,
    "format": {
      "page_full_width": true,
      "page_small_text": true
    },
    "id": "98943de7-26b1-4cca-bfc1-26620fbc6e32",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1550564640000,
    "parent_id": "77721c84-36f6-4ec6-be50-c45542d60fac",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "Using an index for a date and time lookup"
        ]
      ]
    },
    "type": "page",
    "version": 8,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550381547023,
        "id": "b7de5abe-4226-456a-ba6a-4b63738b7423",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550381547023,
        "parent_id": "98943de7-26b1-4cca-bfc1-26620fbc6e32",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Many real-world database tables have many rows with "
            ],
            [
              "DATETIME",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " OR "
            ],
            [
              "TIMESTAMP",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " column values spanning a lot of time, including years or even decades. Often it’s necessary to use a "
            ],
            [
              "WHERE",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " clause to retrieve some subset of that timespan. For example, we might want to retrieve rows for the date 1-September-2016 from a table."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Many real-world database tables have many rows with "
          },
          {
            "Text": "DATETIME",
            "AttrFlags": 2
          },
          {
            "Text": " OR "
          },
          {
            "Text": "TIMESTAMP",
            "AttrFlags": 2
          },
          {
            "Text": " column values spanning a lot of time, including years or even decades. Often it’s necessary to use a "
          },
          {
            "Text": "WHERE",
            "AttrFlags": 2
          },
          {
            "Text": " clause to retrieve some subset of that timespan. For example, we might want to retrieve rows for the date 1-September-2016 from a table."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550381547025,
        "id": "c66914d9-7622-414d-95d6-14b91e52277a",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550381547025,
        "parent_id": "98943de7-26b1-4cca-bfc1-26620fbc6e32",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "An inefficient way to do that is this:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "An inefficient way to do that is this:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550381547025,
        "id": "0753cde6-06ea-4e93-8423-25f17f1c5790",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550564640000,
        "parent_id": "98943de7-26b1-4cca-bfc1-26620fbc6e32",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "SQL"
            ]
          ],
          "title": [
            [
              "WHERE DATE(x) = '2016-09-01'   /* slow! */"
            ]
          ]
        },
        "type": "code",
        "version": 3,
        "code": "WHERE DATE(x) = '2016-09-01'   /* slow! */",
        "code_language": "SQL"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550381547026,
        "id": "ed5f5607-6bd2-41bc-b878-fe36623cec6e",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550381547026,
        "parent_id": "98943de7-26b1-4cca-bfc1-26620fbc6e32",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "It’s inefficient because it applies a function – "
            ],
            [
              "DATE()",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " – to the values of a column. That means MySQL must examine each value of "
            ],
            [
              "x",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ", and an index cannot be used."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "It’s inefficient because it applies a function – "
          },
          {
            "Text": "DATE()",
            "AttrFlags": 2
          },
          {
            "Text": " – to the values of a column. That means MySQL must examine each value of "
          },
          {
            "Text": "x",
            "AttrFlags": 2
          },
          {
            "Text": ", and an index cannot be used."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550381547026,
        "id": "4e3744bc-6afd-46e3-9c90-a96cf96c690f",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550381547026,
        "parent_id": "98943de7-26b1-4cca-bfc1-26620fbc6e32",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "A better way to do the operation is this"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "A better way to do the operation is this"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550381547026,
        "id": "ea106cc9-1be9-4562-9c3f-34ac2848b639",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550564640000,
        "parent_id": "98943de7-26b1-4cca-bfc1-26620fbc6e32",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "SQL"
            ]
          ],
          "title": [
            [
              "WHERE x \u003e= '2016-09-01'\n  AND x \u003c  '2016-09-01' + INTERVAL 1 DAY"
            ]
          ]
        },
        "type": "code",
        "version": 3,
        "code": "WHERE x \u003e= '2016-09-01'\n  AND x \u003c  '2016-09-01' + INTERVAL 1 DAY",
        "code_language": "SQL"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550381547026,
        "id": "4b07e4c4-09df-47d9-b583-17a3aada1cf7",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550381547026,
        "parent_id": "98943de7-26b1-4cca-bfc1-26620fbc6e32",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "This selects a range of values of "
            ],
            [
              "x",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " lying anywhere on the day in question, up until but "
            ],
            [
              "not including",
              [
                [
                  "i"
                ]
              ]
            ],
            [
              " (hence "
            ],
            [
              "\\\u003c",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ") midnight on the next day."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "This selects a range of values of "
          },
          {
            "Text": "x",
            "AttrFlags": 2
          },
          {
            "Text": " lying anywhere on the day in question, up until but "
          },
          {
            "Text": "not including",
            "AttrFlags": 4
          },
          {
            "Text": " (hence "
          },
          {
            "Text": "\\\u003c",
            "AttrFlags": 2
          },
          {
            "Text": ") midnight on the next day."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550381547026,
        "id": "4dfcba88-4e94-41ba-8855-0f4ca4a42fe8",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550381547026,
        "parent_id": "98943de7-26b1-4cca-bfc1-26620fbc6e32",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "If the table has an index on the "
            ],
            [
              "x",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " column, then the database server can perform a range scan on the index. That means it can quickly find the first relevant value of x, and then scan the index sequentially until it finds the last relevant value. An index range scan is much more efficient than the full table scan required by "
            ],
            [
              "DATE(x) = '2016-09-01",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "If the table has an index on the "
          },
          {
            "Text": "x",
            "AttrFlags": 2
          },
          {
            "Text": " column, then the database server can perform a range scan on the index. That means it can quickly find the first relevant value of x, and then scan the index sequentially until it finds the last relevant value. An index range scan is much more efficient than the full table scan required by "
          },
          {
            "Text": "DATE(x) = '2016-09-01",
            "AttrFlags": 2
          },
          {
            "Text": "."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550381547027,
        "id": "5824d0af-f40a-4209-a287-19ad1f016989",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550381547027,
        "parent_id": "98943de7-26b1-4cca-bfc1-26620fbc6e32",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Don’t be tempted to use this, even though it looks more efficient."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Don’t be tempted to use this, even though it looks more efficient."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550381547027,
        "id": "e229f644-1fbf-4d64-9db6-b246a3ad75f5",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550564640000,
        "parent_id": "98943de7-26b1-4cca-bfc1-26620fbc6e32",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "SQL"
            ]
          ],
          "title": [
            [
              "WHERE x BETWEEN '2016-09-01' AND '2016-09-01' + INTERVAL 1 DAY  /*  wrong! */"
            ]
          ]
        },
        "type": "code",
        "version": 5,
        "code": "WHERE x BETWEEN '2016-09-01' AND '2016-09-01' + INTERVAL 1 DAY  /*  wrong! */",
        "code_language": "SQL"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550381547027,
        "id": "89c6ae6a-0652-44ee-8769-5204767cf7c1",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550381547027,
        "parent_id": "98943de7-26b1-4cca-bfc1-26620fbc6e32",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "It has the same efficiency as the range scan, but it will select rows with values of "
            ],
            [
              "x",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " falling exactly at midnight on 2-Sept-2016, which is not what you want."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "It has the same efficiency as the range scan, but it will select rows with values of "
          },
          {
            "Text": "x",
            "AttrFlags": 2
          },
          {
            "Text": " falling exactly at midnight on 2-Sept-2016, which is not what you want."
          }
        ]
      }
    ],
    "title": "Using an index for a date and time lookup",
    "format_page": {
      "page_cover": "",
      "page_cover_position": 0,
      "page_font": "",
      "page_full_width": true,
      "page_icon": "",
      "page_small_text": true
    }
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 18
    }
  ],
  "Tables": null
}