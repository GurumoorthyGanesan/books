{
  "ID": "65cf8307-d0bf-47ca-a3d5-f8cd8691021e",
  "Root": {
    "id": "65cf8307-d0bf-47ca-a3d5-f8cd8691021e",
    "alive": true,
    "content": [
      "032a7c3e-4d08-4e6f-9ebc-82a9aa5118b1",
      "8cb31eef-321a-412c-a676-be746710ea31",
      "372cde74-088c-42db-8bcc-5e2f165c16ea",
      "f25f9cfc-43d3-48e0-9fa9-644d1a98093d",
      "6c145fe0-19b2-4bf5-b0e4-ea14895b91a4",
      "c909c084-6818-47a0-b477-c977d89a6573",
      "e8a0a980-8d28-484a-a7e5-d846923a5e66",
      "b5daf234-94f9-498f-8e2a-dd9d1d76708e",
      "526b1686-8983-4e12-b19b-a995f22fb7d6",
      "c11712e1-5355-4061-809f-821521919c33",
      "c73f1ee4-681f-4a78-a2b3-82eb1893af3b",
      "9a27f2a1-be61-4b8f-90ed-ed1dbae09fba",
      "94b43a20-7048-4b0f-b4fd-72cfbed42a47",
      "77a16fd3-7156-49bc-b155-9a214bcb3391",
      "ab4f8175-18de-4bdf-86d6-75b742b1c8ae",
      "5778b165-2245-46b6-9129-386fc11e7198",
      "64142858-cec7-4dd6-870c-a917c771566b",
      "e656a303-8a6e-4c46-bf86-f8c4fa7f5818",
      "1291c327-cd34-4f54-bde4-e3b3ce86411a",
      "02610c8b-7ae4-4fa9-9ee4-a1b073eba462",
      "b8e205d0-cea2-4a2e-9386-415dd78a87b6",
      "82995057-b021-40d0-a781-1940f2ab4922"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1549529263688,
    "format": {
      "page_full_width": true,
      "page_small_text": true
    },
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1550217480000,
    "parent_id": "bb2a9e83-3d07-454f-b663-d217cc7d9031",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "ASP.NET Configure Await"
        ]
      ]
    },
    "type": "page",
    "version": 18,
    "content_resolved": [
      {
        "id": "032a7c3e-4d08-4e6f-9ebc-82a9aa5118b1",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1549529263679,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1549529263679,
        "parent_id": "65cf8307-d0bf-47ca-a3d5-f8cd8691021e",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "When ASP.NET handles a request, a thread is assigned from the thread pool and a "
            ],
            [
              "request context",
              [
                [
                  "b"
                ]
              ]
            ],
            [
              " is created. The request context contains information about the current request which can be accessed through the static "
            ],
            [
              "HttpContext.Current",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " property. The request context for the request is then assigned to the thread handling the request."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "When ASP.NET handles a request, a thread is assigned from the thread pool and a "
          },
          {
            "Text": "request context",
            "AttrFlags": 1
          },
          {
            "Text": " is created. The request context contains information about the current request which can be accessed through the static "
          },
          {
            "Text": "HttpContext.Current",
            "AttrFlags": 2
          },
          {
            "Text": " property. The request context for the request is then assigned to the thread handling the request."
          }
        ]
      },
      {
        "id": "8cb31eef-321a-412c-a676-be746710ea31",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1549529263682,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1549529263682,
        "parent_id": "65cf8307-d0bf-47ca-a3d5-f8cd8691021e",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "A given request context "
            ],
            [
              "may only be active on one thread at a time",
              [
                [
                  "b"
                ]
              ]
            ],
            [
              "."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "A given request context "
          },
          {
            "Text": "may only be active on one thread at a time",
            "AttrFlags": 1
          },
          {
            "Text": "."
          }
        ]
      },
      {
        "id": "372cde74-088c-42db-8bcc-5e2f165c16ea",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1549529263682,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1549529263682,
        "parent_id": "65cf8307-d0bf-47ca-a3d5-f8cd8691021e",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "When execution reaches "
            ],
            [
              "await",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ", the thread handling a request is returned to the thread pool while the asynchronous method runs and the request context is free for another thread to use."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "When execution reaches "
          },
          {
            "Text": "await",
            "AttrFlags": 2
          },
          {
            "Text": ", the thread handling a request is returned to the thread pool while the asynchronous method runs and the request context is free for another thread to use."
          }
        ]
      },
      {
        "id": "f25f9cfc-43d3-48e0-9fa9-644d1a98093d",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1549529263682,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550217420000,
        "parent_id": "65cf8307-d0bf-47ca-a3d5-f8cd8691021e",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "C#"
            ]
          ],
          "title": [
            [
              "public async Task\u003cActionResult\u003e Index()\n{\n    // Execution on the initially assigned thread\n    var products = await dbContext.Products.ToListAsync();\n\n    // Execution resumes on a \"random\" thread from the pool\n    // Execution continues using the original request context.\n    return View(products);\n}"
            ]
          ]
        },
        "type": "code",
        "version": 7,
        "code": "public async Task\u003cActionResult\u003e Index()\n{\n    // Execution on the initially assigned thread\n    var products = await dbContext.Products.ToListAsync();\n\n    // Execution resumes on a \"random\" thread from the pool\n    // Execution continues using the original request context.\n    return View(products);\n}",
        "code_language": "C#"
      },
      {
        "id": "6c145fe0-19b2-4bf5-b0e4-ea14895b91a4",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1549529263682,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1549529263682,
        "parent_id": "65cf8307-d0bf-47ca-a3d5-f8cd8691021e",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "When the task completes the thread pool assigns another thread to continue execution of the request. The request context is then assigned to this thread. This may or may not be the original thread."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "When the task completes the thread pool assigns another thread to continue execution of the request. The request context is then assigned to this thread. This may or may not be the original thread."
          }
        ]
      },
      {
        "id": "c909c084-6818-47a0-b477-c977d89a6573",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1549529263683,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1549529263683,
        "parent_id": "65cf8307-d0bf-47ca-a3d5-f8cd8691021e",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Blocking"
            ]
          ]
        },
        "type": "sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Blocking"
          }
        ]
      },
      {
        "id": "e8a0a980-8d28-484a-a7e5-d846923a5e66",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1549529263683,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1549529263683,
        "parent_id": "65cf8307-d0bf-47ca-a3d5-f8cd8691021e",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "When the result of an "
            ],
            [
              "async",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " method call is waited for "
            ],
            [
              "synchronously",
              [
                [
                  "b"
                ]
              ]
            ],
            [
              " deadlocks can arise. For example the following code will result in a deadlock when "
            ],
            [
              "IndexSync()",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " is called:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "When the result of an "
          },
          {
            "Text": "async",
            "AttrFlags": 2
          },
          {
            "Text": " method call is waited for "
          },
          {
            "Text": "synchronously",
            "AttrFlags": 1
          },
          {
            "Text": " deadlocks can arise. For example the following code will result in a deadlock when "
          },
          {
            "Text": "IndexSync()",
            "AttrFlags": 2
          },
          {
            "Text": " is called:"
          }
        ]
      },
      {
        "id": "b5daf234-94f9-498f-8e2a-dd9d1d76708e",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1549529263683,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550217480000,
        "parent_id": "65cf8307-d0bf-47ca-a3d5-f8cd8691021e",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "C#"
            ]
          ],
          "title": [
            [
              "public async Task\u003cActionResult\u003e Index()\n{\n    // Execution on the initially assigned thread\n    List\u003cProduct\u003e products = await dbContext.Products.ToListAsync();\n\n    // Execution resumes on a \"random\" thread from the pool\n    return View(products);\n}\n\npublic ActionResult IndexSync()\n{\n    Task\u003cActionResult\u003e task = Index();\n\n    // Block waiting for the result synchronously\n    ActionResult result = Task.Result;\n\n    return result;       \n}"
            ]
          ]
        },
        "type": "code",
        "version": 8,
        "code": "public async Task\u003cActionResult\u003e Index()\n{\n    // Execution on the initially assigned thread\n    List\u003cProduct\u003e products = await dbContext.Products.ToListAsync();\n\n    // Execution resumes on a \"random\" thread from the pool\n    return View(products);\n}\n\npublic ActionResult IndexSync()\n{\n    Task\u003cActionResult\u003e task = Index();\n\n    // Block waiting for the result synchronously\n    ActionResult result = Task.Result;\n\n    return result;       \n}",
        "code_language": "C#"
      },
      {
        "id": "526b1686-8983-4e12-b19b-a995f22fb7d6",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1549529263685,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1549529263685,
        "parent_id": "65cf8307-d0bf-47ca-a3d5-f8cd8691021e",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "This is because, by default the awaited task, in this case "
            ],
            [
              "db.Products.ToListAsync()",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " will capture the context (in the case of ASP.NET the request context) and try to use it once it has completed."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "This is because, by default the awaited task, in this case "
          },
          {
            "Text": "db.Products.ToListAsync()",
            "AttrFlags": 2
          },
          {
            "Text": " will capture the context (in the case of ASP.NET the request context) and try to use it once it has completed."
          }
        ]
      },
      {
        "id": "c11712e1-5355-4061-809f-821521919c33",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1549529263685,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1549529263685,
        "parent_id": "65cf8307-d0bf-47ca-a3d5-f8cd8691021e",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "When the entire call stack is asynchronous there is no problem because, once "
            ],
            [
              "await",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " is reached the original thread is release, freeing the request context."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "When the entire call stack is asynchronous there is no problem because, once "
          },
          {
            "Text": "await",
            "AttrFlags": 2
          },
          {
            "Text": " is reached the original thread is release, freeing the request context."
          }
        ]
      },
      {
        "id": "c73f1ee4-681f-4a78-a2b3-82eb1893af3b",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1549529263685,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1549529263685,
        "parent_id": "65cf8307-d0bf-47ca-a3d5-f8cd8691021e",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "When we block synchronously using "
            ],
            [
              "Task.Result",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " or "
            ],
            [
              "Task.Wait()",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " (or other blocking methods) the original thread is still active and retains the request context. The awaited method still operates asynchronously and once the callback tries to run, i.e. once the awaited task has returned, it attempts to obtain the request context."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "When we block synchronously using "
          },
          {
            "Text": "Task.Result",
            "AttrFlags": 2
          },
          {
            "Text": " or "
          },
          {
            "Text": "Task.Wait()",
            "AttrFlags": 2
          },
          {
            "Text": " (or other blocking methods) the original thread is still active and retains the request context. The awaited method still operates asynchronously and once the callback tries to run, i.e. once the awaited task has returned, it attempts to obtain the request context."
          }
        ]
      },
      {
        "id": "9a27f2a1-be61-4b8f-90ed-ed1dbae09fba",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1549529263685,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1549529263685,
        "parent_id": "65cf8307-d0bf-47ca-a3d5-f8cd8691021e",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Therefore the deadlock arises because while the blocking thread with the request context is waiting for the asynchronous operation to complete, the asynchronous operation is trying to obtain the request context in order to complete."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Therefore the deadlock arises because while the blocking thread with the request context is waiting for the asynchronous operation to complete, the asynchronous operation is trying to obtain the request context in order to complete."
          }
        ]
      },
      {
        "id": "94b43a20-7048-4b0f-b4fd-72cfbed42a47",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1549529263685,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1549529263685,
        "parent_id": "65cf8307-d0bf-47ca-a3d5-f8cd8691021e",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "ConfigureAwait"
            ]
          ]
        },
        "type": "sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "ConfigureAwait"
          }
        ]
      },
      {
        "id": "77a16fd3-7156-49bc-b155-9a214bcb3391",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1549529263685,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1549529263685,
        "parent_id": "65cf8307-d0bf-47ca-a3d5-f8cd8691021e",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "By default calls to an awaited task will capture the current context and attempt to resume execution on the context once complete."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "By default calls to an awaited task will capture the current context and attempt to resume execution on the context once complete."
          }
        ]
      },
      {
        "id": "ab4f8175-18de-4bdf-86d6-75b742b1c8ae",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1549529263685,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1549529263685,
        "parent_id": "65cf8307-d0bf-47ca-a3d5-f8cd8691021e",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "By using "
            ],
            [
              "ConfigureAwait(false)",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " this can be prevented and deadlocks can be avoided."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "By using "
          },
          {
            "Text": "ConfigureAwait(false)",
            "AttrFlags": 2
          },
          {
            "Text": " this can be prevented and deadlocks can be avoided."
          }
        ]
      },
      {
        "id": "5778b165-2245-46b6-9129-386fc11e7198",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1549529263686,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550217480000,
        "parent_id": "65cf8307-d0bf-47ca-a3d5-f8cd8691021e",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "C#"
            ]
          ],
          "title": [
            [
              "public async Task\u003cActionResult\u003e Index()\n{\n    // Execution on the initially assigned thread\n    List\u003cProduct\u003e products = await dbContext.Products.ToListAsync().ConfigureAwait(false);\n\n    // Execution resumes on a \"random\" thread from the pool without the original request context\n    return View(products);\n}\n\npublic ActionResult IndexSync()\n{\n    Task\u003cActionResult\u003e task = Index();\n\n    // Block waiting for the result synchronously\n    ActionResult result = Task.Result;\n\n    return result;       \n}"
            ]
          ]
        },
        "type": "code",
        "version": 3,
        "code": "public async Task\u003cActionResult\u003e Index()\n{\n    // Execution on the initially assigned thread\n    List\u003cProduct\u003e products = await dbContext.Products.ToListAsync().ConfigureAwait(false);\n\n    // Execution resumes on a \"random\" thread from the pool without the original request context\n    return View(products);\n}\n\npublic ActionResult IndexSync()\n{\n    Task\u003cActionResult\u003e task = Index();\n\n    // Block waiting for the result synchronously\n    ActionResult result = Task.Result;\n\n    return result;       \n}",
        "code_language": "C#"
      },
      {
        "id": "64142858-cec7-4dd6-870c-a917c771566b",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1549529263686,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1549529263686,
        "parent_id": "65cf8307-d0bf-47ca-a3d5-f8cd8691021e",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "This can avoid deadlocks when it is necessary to block on asynchronous code, however this comes at the cost of losing the context in the continuation (code after the call to await)."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "This can avoid deadlocks when it is necessary to block on asynchronous code, however this comes at the cost of losing the context in the continuation (code after the call to await)."
          }
        ]
      },
      {
        "id": "e656a303-8a6e-4c46-bf86-f8c4fa7f5818",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1549529263686,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1549529263686,
        "parent_id": "65cf8307-d0bf-47ca-a3d5-f8cd8691021e",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "In ASP.NET this means that if your code following a call to "
            ],
            [
              "await someTask.ConfigureAwait(false);",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " attempts to access information from the context, for example "
            ],
            [
              "HttpContext.Current.User",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " then the information has been lost. In this case the "
            ],
            [
              "HttpContext.Current",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " is null. For example:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "In ASP.NET this means that if your code following a call to "
          },
          {
            "Text": "await someTask.ConfigureAwait(false);",
            "AttrFlags": 2
          },
          {
            "Text": " attempts to access information from the context, for example "
          },
          {
            "Text": "HttpContext.Current.User",
            "AttrFlags": 2
          },
          {
            "Text": " then the information has been lost. In this case the "
          },
          {
            "Text": "HttpContext.Current",
            "AttrFlags": 2
          },
          {
            "Text": " is null. For example:"
          }
        ]
      },
      {
        "id": "1291c327-cd34-4f54-bde4-e3b3ce86411a",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1549529263686,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550217480000,
        "parent_id": "65cf8307-d0bf-47ca-a3d5-f8cd8691021e",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "public async Task\u003cActionResult\u003e Index()\n{\n    // Contains information about the user sending the request\n    var user = System.Web.HttpContext.Current.User;\n\n    using (var client = new HttpClient())\n    {\n        await client.GetAsync(\"http://google.com\").ConfigureAwait(false);\n    }\n\n    // Null Reference Exception, Current is null\n    var user2 = System.Web.HttpContext.Current.User;\n\n    return View();\n}"
            ]
          ]
        },
        "type": "code",
        "version": 6,
        "code": "public async Task\u003cActionResult\u003e Index()\n{\n    // Contains information about the user sending the request\n    var user = System.Web.HttpContext.Current.User;\n\n    using (var client = new HttpClient())\n    {\n        await client.GetAsync(\"http://google.com\").ConfigureAwait(false);\n    }\n\n    // Null Reference Exception, Current is null\n    var user2 = System.Web.HttpContext.Current.User;\n\n    return View();\n}",
        "code_language": "Plain Text"
      },
      {
        "id": "02610c8b-7ae4-4fa9-9ee4-a1b073eba462",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1549529263688,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1549529263688,
        "parent_id": "65cf8307-d0bf-47ca-a3d5-f8cd8691021e",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "If "
            ],
            [
              "ConfigureAwait(true)",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " is used (equivalent to having no ConfigureAwait at all) then both "
            ],
            [
              "user",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " and "
            ],
            [
              "user2",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " are populated with the same data."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "If "
          },
          {
            "Text": "ConfigureAwait(true)",
            "AttrFlags": 2
          },
          {
            "Text": " is used (equivalent to having no ConfigureAwait at all) then both "
          },
          {
            "Text": "user",
            "AttrFlags": 2
          },
          {
            "Text": " and "
          },
          {
            "Text": "user2",
            "AttrFlags": 2
          },
          {
            "Text": " are populated with the same data."
          }
        ]
      },
      {
        "id": "b8e205d0-cea2-4a2e-9386-415dd78a87b6",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1549529263688,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1549529263688,
        "parent_id": "65cf8307-d0bf-47ca-a3d5-f8cd8691021e",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "For this reason it is often recommended to use "
            ],
            [
              "ConfigureAwait(false)",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " in library code where the context is no longer used."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "For this reason it is often recommended to use "
          },
          {
            "Text": "ConfigureAwait(false)",
            "AttrFlags": 2
          },
          {
            "Text": " in library code where the context is no longer used."
          }
        ]
      },
      {
        "id": "82995057-b021-40d0-a781-1940f2ab4922",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550217480000,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550217480000,
        "parent_id": "65cf8307-d0bf-47ca-a3d5-f8cd8691021e",
        "parent_table": "block",
        "type": "text",
        "version": 3
      }
    ],
    "title": "ASP.NET Configure Await",
    "format_page": {
      "page_cover": "",
      "page_cover_position": 0,
      "page_font": "",
      "page_full_width": true,
      "page_icon": "",
      "page_small_text": true
    }
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "",
      "version": 94
    }
  ],
  "Tables": null
}