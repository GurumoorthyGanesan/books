{
  "ID": "d3297109-728f-4ab6-a664-9591faf61a49",
  "Root": {
    "alive": true,
    "content": [
      "679f39b7-c902-4101-8095-301e438711e9",
      "1e05e1a1-d4de-4e20-9a6f-6110cd6e6e34",
      "69fa6451-fbc1-4ad7-9704-cbd816a1ddb8",
      "1b610d6a-9c50-458c-8d7a-36ac0910a618",
      "dfef5465-0cc7-4093-b0b7-e8c375bdcead",
      "f523cd0e-68df-42ad-b18d-27a77f2d8e89",
      "c68d7a5a-5f63-4b3f-ace6-f3bf9f78ace7",
      "931abc8c-27ca-4d82-a8c2-0b514cf34ad1",
      "d69f01b4-d326-4b54-a60f-b233963ae3b4",
      "d6308e9f-cf32-4601-9679-bd6adfd36870",
      "5ca47970-a6e3-415d-8b50-4b8cffe2a543",
      "f5656056-e4d3-45ce-acb1-3c91258a3585",
      "12d6313d-045e-4c6a-aec9-b5fdb5ba9b68",
      "cb7673d6-2d6f-44de-811a-69f3909c3cc3",
      "2068191f-1333-4c9e-8e72-0f6c117880ce",
      "8c3ba0c2-6d81-4bcd-a262-7b49478cf63f",
      "85fa47d5-6f7a-4ff2-a095-b0bd0f1cc8c3",
      "6727107a-a98b-42aa-a6dd-408a2f459456",
      "aa955bd3-14c9-4e0b-9f5b-b1632b7c76bb",
      "f0bab452-d6a7-4945-84b6-d446e5b6e0fc"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1550439616010,
    "format": {
      "page_full_width": true,
      "page_small_text": true
    },
    "id": "d3297109-728f-4ab6-a664-9591faf61a49",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1550711760000,
    "parent_id": "8b055c18-65b8-44bd-93de-3f6853c8e88d",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "Adding a Password to the Keychain"
        ]
      ]
    },
    "type": "page",
    "version": 9,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550439616003,
        "id": "679f39b7-c902-4101-8095-301e438711e9",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550439616003,
        "parent_id": "d3297109-728f-4ab6-a664-9591faf61a49",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Every Keychain Item is most often represented as a "
            ],
            [
              "CFDictionary",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ". You can, however, simply use "
            ],
            [
              "NSDictionary",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " in Objective-C and take advantage of bridging, or in Swift you may use "
            ],
            [
              "Dictionary",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " and explicitly cast to "
            ],
            [
              "CFDictionary",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Every Keychain Item is most often represented as a "
          },
          {
            "Text": "CFDictionary",
            "AttrFlags": 2
          },
          {
            "Text": ". You can, however, simply use "
          },
          {
            "Text": "NSDictionary",
            "AttrFlags": 2
          },
          {
            "Text": " in Objective-C and take advantage of bridging, or in Swift you may use "
          },
          {
            "Text": "Dictionary",
            "AttrFlags": 2
          },
          {
            "Text": " and explicitly cast to "
          },
          {
            "Text": "CFDictionary",
            "AttrFlags": 2
          },
          {
            "Text": "."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550439616005,
        "id": "1e05e1a1-d4de-4e20-9a6f-6110cd6e6e34",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550439616005,
        "parent_id": "d3297109-728f-4ab6-a664-9591faf61a49",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "You could construct a password with the following dictionary:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "You could construct a password with the following dictionary:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550439616005,
        "id": "69fa6451-fbc1-4ad7-9704-cbd816a1ddb8",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550439616005,
        "parent_id": "d3297109-728f-4ab6-a664-9591faf61a49",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Swift"
            ]
          ]
        },
        "type": "header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Swift"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550439616006,
        "id": "1b610d6a-9c50-458c-8d7a-36ac0910a618",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550439616006,
        "parent_id": "d3297109-728f-4ab6-a664-9591faf61a49",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "var dict = [String : AnyObject]()"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "var dict = [String : AnyObject]()",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550439616006,
        "id": "dfef5465-0cc7-4093-b0b7-e8c375bdcead",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550439616006,
        "parent_id": "d3297109-728f-4ab6-a664-9591faf61a49",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "First, you need a key/value pair that lets the Keychain know this is a password. Note that because our dict key is a "
            ],
            [
              "String",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " we must cast any "
            ],
            [
              "CFString",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " to a "
            ],
            [
              "String",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " explicitly in Swift 3. CFString may not be used as the key to a Swift Dictionary because it is not Hashable."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "First, you need a key/value pair that lets the Keychain know this is a password. Note that because our dict key is a "
          },
          {
            "Text": "String",
            "AttrFlags": 2
          },
          {
            "Text": " we must cast any "
          },
          {
            "Text": "CFString",
            "AttrFlags": 2
          },
          {
            "Text": " to a "
          },
          {
            "Text": "String",
            "AttrFlags": 2
          },
          {
            "Text": " explicitly in Swift 3. CFString may not be used as the key to a Swift Dictionary because it is not Hashable."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550439616006,
        "id": "f523cd0e-68df-42ad-b18d-27a77f2d8e89",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550439616006,
        "parent_id": "d3297109-728f-4ab6-a664-9591faf61a49",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Swift"
            ]
          ]
        },
        "type": "header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Swift"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550439616006,
        "id": "c68d7a5a-5f63-4b3f-ace6-f3bf9f78ace7",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550439616006,
        "parent_id": "d3297109-728f-4ab6-a664-9591faf61a49",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "dict[kSecClass as String] = kSecClassGenericPassword"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "dict[kSecClass as String] = kSecClassGenericPassword",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550439616008,
        "id": "931abc8c-27ca-4d82-a8c2-0b514cf34ad1",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550439616008,
        "parent_id": "d3297109-728f-4ab6-a664-9591faf61a49",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Next, our password may have a series of attributes to describe it and help us find it later. "
            ],
            [
              "Here’s a list of attributes for generic passwords",
              [
                [
                  "a",
                  "https://developer.apple.com/reference/security/ksecclasskey"
                ]
              ]
            ],
            [
              "."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Next, our password may have a series of attributes to describe it and help us find it later. "
          },
          {
            "Text": "Here’s a list of attributes for generic passwords",
            "Link": "https://developer.apple.com/reference/security/ksecclasskey"
          },
          {
            "Text": "."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550439616008,
        "id": "d69f01b4-d326-4b54-a60f-b233963ae3b4",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550439616008,
        "parent_id": "d3297109-728f-4ab6-a664-9591faf61a49",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Swift"
            ]
          ]
        },
        "type": "header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Swift"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550439616008,
        "id": "d6308e9f-cf32-4601-9679-bd6adfd36870",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550439616008,
        "parent_id": "d3297109-728f-4ab6-a664-9591faf61a49",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "// The password will only be accessible when the device is unlocked\ndict[kSecAttrAccessible as String] = kSecAttrAccessibleWhenUnlocked\n// Label may help you find it later\ndict[kSecAttrLabel as String] = \"com.me.myapp.myaccountpassword\" as CFString\n// Username\ndict[kSecAttrAccount as String] = \"My Name\" as CFString\n// Service name\ndict[kSecAttrService as String] = \"MyService\" as CFString"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "// The password will only be accessible when the device is unlocked\ndict[kSecAttrAccessible as String] = kSecAttrAccessibleWhenUnlocked\n// Label may help you find it later\ndict[kSecAttrLabel as String] = \"com.me.myapp.myaccountpassword\" as CFString\n// Username\ndict[kSecAttrAccount as String] = \"My Name\" as CFString\n// Service name\ndict[kSecAttrService as String] = \"MyService\" as CFString",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550439616008,
        "id": "5ca47970-a6e3-415d-8b50-4b8cffe2a543",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550439616008,
        "parent_id": "d3297109-728f-4ab6-a664-9591faf61a49",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Finally, we need our actual private data. Be sure not to keep this around in memory for too long. This must be "
            ],
            [
              "CFData",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Finally, we need our actual private data. Be sure not to keep this around in memory for too long. This must be "
          },
          {
            "Text": "CFData",
            "AttrFlags": 2
          },
          {
            "Text": "."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550439616008,
        "id": "f5656056-e4d3-45ce-acb1-3c91258a3585",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550439616008,
        "parent_id": "d3297109-728f-4ab6-a664-9591faf61a49",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Swift"
            ]
          ]
        },
        "type": "header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Swift"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550439616008,
        "id": "12d6313d-045e-4c6a-aec9-b5fdb5ba9b68",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550439616008,
        "parent_id": "d3297109-728f-4ab6-a664-9591faf61a49",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "dict[kSecValueData as String] = \"my_password!!\".data(using: .utf8) as! CFData"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "dict[kSecValueData as String] = \"my_password!!\".data(using: .utf8) as! CFData",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550439616009,
        "id": "cb7673d6-2d6f-44de-811a-69f3909c3cc3",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550439616009,
        "parent_id": "d3297109-728f-4ab6-a664-9591faf61a49",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Finally, the Keychain Services add function wants to know how it should return the newly constructed keychain item. Since you shouldn’t be holding on to the data very long in memory, here’s how you could only return the attributes:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Finally, the Keychain Services add function wants to know how it should return the newly constructed keychain item. Since you shouldn’t be holding on to the data very long in memory, here’s how you could only return the attributes:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550439616009,
        "id": "2068191f-1333-4c9e-8e72-0f6c117880ce",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550439616009,
        "parent_id": "d3297109-728f-4ab6-a664-9591faf61a49",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Swift"
            ]
          ]
        },
        "type": "header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Swift"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550439616009,
        "id": "8c3ba0c2-6d81-4bcd-a262-7b49478cf63f",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550439616009,
        "parent_id": "d3297109-728f-4ab6-a664-9591faf61a49",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "dict[kSecReturnAttributes as String] = kCFBooleanTrue"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "dict[kSecReturnAttributes as String] = kCFBooleanTrue",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550439616009,
        "id": "85fa47d5-6f7a-4ff2-a095-b0bd0f1cc8c3",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550439616009,
        "parent_id": "d3297109-728f-4ab6-a664-9591faf61a49",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Now we have constructed our item. Let’s add it:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Now we have constructed our item. Let’s add it:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550439616009,
        "id": "6727107a-a98b-42aa-a6dd-408a2f459456",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550439616009,
        "parent_id": "d3297109-728f-4ab6-a664-9591faf61a49",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Swift"
            ]
          ]
        },
        "type": "header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Swift"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550439616009,
        "id": "aa955bd3-14c9-4e0b-9f5b-b1632b7c76bb",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550439616009,
        "parent_id": "d3297109-728f-4ab6-a664-9591faf61a49",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "var result: AnyObject?\nlet status = withUnsafeMutablePointer(to: \u0026result) {\n    SecItemAdd(dict as CFDictionary, UnsafeMutablePointer($0))\n}\nlet newAttributes = result as! Dictionary\u003cString, AnyObject\u003e"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "var result: AnyObject?\nlet status = withUnsafeMutablePointer(to: \u0026result) {\n    SecItemAdd(dict as CFDictionary, UnsafeMutablePointer($0))\n}\nlet newAttributes = result as! Dictionary\u003cString, AnyObject\u003e",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550439616010,
        "id": "f0bab452-d6a7-4945-84b6-d446e5b6e0fc",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550439616010,
        "parent_id": "d3297109-728f-4ab6-a664-9591faf61a49",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "This places the new attributes dict inside "
            ],
            [
              "result",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ". "
            ],
            [
              "SecItemAdd",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " takes in the dictionary we constructed, as well as a pointer to where we would like our result. The function then returns an "
            ],
            [
              "OSStatus",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " indicating success or an error code. Result codes are described "
            ],
            [
              "here",
              [
                [
                  "a",
                  "https://developer.apple.com/reference/security/1658642-keychain_services#1662444"
                ]
              ]
            ],
            [
              "."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "This places the new attributes dict inside "
          },
          {
            "Text": "result",
            "AttrFlags": 2
          },
          {
            "Text": ". "
          },
          {
            "Text": "SecItemAdd",
            "AttrFlags": 2
          },
          {
            "Text": " takes in the dictionary we constructed, as well as a pointer to where we would like our result. The function then returns an "
          },
          {
            "Text": "OSStatus",
            "AttrFlags": 2
          },
          {
            "Text": " indicating success or an error code. Result codes are described "
          },
          {
            "Text": "here",
            "Link": "https://developer.apple.com/reference/security/1658642-keychain_services#1662444"
          },
          {
            "Text": "."
          }
        ]
      }
    ],
    "title": "Adding a Password to the Keychain",
    "format_page": {
      "page_cover": "",
      "page_cover_position": 0,
      "page_font": "",
      "page_full_width": true,
      "page_icon": "",
      "page_small_text": true
    }
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 18
    }
  ],
  "Tables": null
}