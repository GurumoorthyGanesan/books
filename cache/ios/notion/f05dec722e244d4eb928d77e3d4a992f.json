{
  "ID": "f05dec72-2e24-4d4e-b928-d77e3d4a992f",
  "Root": {
    "alive": true,
    "content": [
      "75fe5bbe-89ff-4bf6-8875-91a12efe82d3",
      "2d56f536-7d3c-4eef-9e58-e6153c886d2f",
      "6a39ee2f-469f-46cb-a5fa-0d3a94d087ea",
      "7ccf6515-21bc-4171-8311-39d1c5631e9b",
      "c92eb5d9-2382-4a0d-91df-8ac98cdd820d",
      "632b57a7-ba73-45ac-afdf-5796addb3957",
      "158a14dc-2e2e-4c62-a4fd-6a94aa44af47",
      "86b99e84-740c-4758-af4f-cc6aa9738819",
      "890241e0-f6a6-4419-81b4-d87e67c8ad5d",
      "94ad890a-ee35-4021-9c89-2a4edcf516e8",
      "841ff652-a20f-4b08-8b13-bcee66dd2a38",
      "15f910dd-c137-47fe-84cf-5dd5328ab6ee",
      "e87d21c2-aad9-497c-8f49-e7edc02625c4",
      "297a99ca-3390-493f-a787-96f1238bcf49",
      "874fcadf-85a3-45d9-83ee-3a57a36ff7df",
      "419a45ce-d98b-4299-bffe-ab2b1c819c66",
      "24d0ae1d-e613-4c54-b577-b5c5a11e2d6f",
      "174d788f-2e16-4bca-ba4b-b078f8993698",
      "ef2b6719-0125-4a26-a245-009d55a8dc35",
      "4a0d9570-768a-4e17-9eb3-7fc5674f2780",
      "633a903b-8b96-4167-b1bc-add8c5ec53ef"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1550398167984,
    "format": {
      "page_full_width": true,
      "page_small_text": true
    },
    "id": "f05dec72-2e24-4d4e-b928-d77e3d4a992f",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1550653980000,
    "parent_id": "0e3a98fa-3804-44cc-bd1b-1f55a9eae49d",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "Saving data to CloudKit"
        ]
      ]
    },
    "type": "page",
    "version": 8,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550398167979,
        "id": "75fe5bbe-89ff-4bf6-8875-91a12efe82d3",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550398167979,
        "parent_id": "f05dec72-2e24-4d4e-b928-d77e3d4a992f",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "To save date to CloudKit, we must make:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "To save date to CloudKit, we must make:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550398167982,
        "id": "2d56f536-7d3c-4eef-9e58-e6153c886d2f",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550398167982,
        "parent_id": "f05dec72-2e24-4d4e-b928-d77e3d4a992f",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "A "
            ],
            [
              "CKRecordID",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " (the key of your unique record)"
            ]
          ]
        },
        "type": "bulleted_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "A "
          },
          {
            "Text": "CKRecordID",
            "AttrFlags": 2
          },
          {
            "Text": " (the key of your unique record)"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550398167982,
        "id": "6a39ee2f-469f-46cb-a5fa-0d3a94d087ea",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550398167982,
        "parent_id": "f05dec72-2e24-4d4e-b928-d77e3d4a992f",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "A "
            ],
            [
              "CKRecord",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " (which includes data)"
            ]
          ]
        },
        "type": "bulleted_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "A "
          },
          {
            "Text": "CKRecord",
            "AttrFlags": 2
          },
          {
            "Text": " (which includes data)"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550398167982,
        "id": "7ccf6515-21bc-4171-8311-39d1c5631e9b",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550398167982,
        "parent_id": "f05dec72-2e24-4d4e-b928-d77e3d4a992f",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Making a record key"
            ]
          ]
        },
        "type": "header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Making a record key"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550398167982,
        "id": "c92eb5d9-2382-4a0d-91df-8ac98cdd820d",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550398167982,
        "parent_id": "f05dec72-2e24-4d4e-b928-d77e3d4a992f",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "To ensure that every new record identifier is unique, we use the current "
            ],
            [
              "timestamp",
              [
                [
                  "i"
                ]
              ]
            ],
            [
              ", which is unique. We get the timestamp using "
            ],
            [
              "NSDate",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "’s method "
            ],
            [
              "timeIntervalSinceReferenceDate()",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ". It is in form of ###.### (# are numbers), which we will use the integer part. To do this, we split the string:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "To ensure that every new record identifier is unique, we use the current "
          },
          {
            "Text": "timestamp",
            "AttrFlags": 4
          },
          {
            "Text": ", which is unique. We get the timestamp using "
          },
          {
            "Text": "NSDate",
            "AttrFlags": 2
          },
          {
            "Text": "’s method "
          },
          {
            "Text": "timeIntervalSinceReferenceDate()",
            "AttrFlags": 2
          },
          {
            "Text": ". It is in form of ###.### (# are numbers), which we will use the integer part. To do this, we split the string:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550398167982,
        "id": "632b57a7-ba73-45ac-afdf-5796addb3957",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550398167982,
        "parent_id": "f05dec72-2e24-4d4e-b928-d77e3d4a992f",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Swift"
            ]
          ]
        },
        "type": "sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Swift"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550398167983,
        "id": "158a14dc-2e2e-4c62-a4fd-6a94aa44af47",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550398167983,
        "parent_id": "f05dec72-2e24-4d4e-b928-d77e3d4a992f",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "let timestamp = String(format: \"%f\", NSDate.timeIntervalSinceReferenceDate())\nlet timestampParts = timestamp.componentsSeparatedByString(\".\")\nlet recordID = CKRecordID(recordName: timestampParts[0])"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "let timestamp = String(format: \"%f\", NSDate.timeIntervalSinceReferenceDate())\nlet timestampParts = timestamp.componentsSeparatedByString(\".\")\nlet recordID = CKRecordID(recordName: timestampParts[0])",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550398167983,
        "id": "86b99e84-740c-4758-af4f-cc6aa9738819",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550398167983,
        "parent_id": "f05dec72-2e24-4d4e-b928-d77e3d4a992f",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Making the record"
            ]
          ]
        },
        "type": "header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Making the record"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550398167983,
        "id": "890241e0-f6a6-4419-81b4-d87e67c8ad5d",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550398167983,
        "parent_id": "f05dec72-2e24-4d4e-b928-d77e3d4a992f",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "To make the record, we should specify the record type (explained in Using CloudKit Dashboard) as Users, the ID as the thing we made just now and the data. Here, we will add a sample text, a picture and the current date to the record:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "To make the record, we should specify the record type (explained in Using CloudKit Dashboard) as Users, the ID as the thing we made just now and the data. Here, we will add a sample text, a picture and the current date to the record:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550398167983,
        "id": "94ad890a-ee35-4021-9c89-2a4edcf516e8",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550398167983,
        "parent_id": "f05dec72-2e24-4d4e-b928-d77e3d4a992f",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Swift"
            ]
          ]
        },
        "type": "sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Swift"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550398167983,
        "id": "841ff652-a20f-4b08-8b13-bcee66dd2a38",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550398167983,
        "parent_id": "f05dec72-2e24-4d4e-b928-d77e3d4a992f",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "let record = CKRecord(recordType: \"Users\", recordID: recordID)\nrecord.setObject(\"Some Text\", forKey: \"text\")\nrecord.setObject(CKAsset(fileURL: someValidImageURL), forKey: \"image\")\nrecord.setObject(NSDate(), forKey: \"date\")"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "let record = CKRecord(recordType: \"Users\", recordID: recordID)\nrecord.setObject(\"Some Text\", forKey: \"text\")\nrecord.setObject(CKAsset(fileURL: someValidImageURL), forKey: \"image\")\nrecord.setObject(NSDate(), forKey: \"date\")",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550398167983,
        "id": "15f910dd-c137-47fe-84cf-5dd5328ab6ee",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550398167983,
        "parent_id": "f05dec72-2e24-4d4e-b928-d77e3d4a992f",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Objective-C"
            ]
          ]
        },
        "type": "sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Objective-C"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550398167983,
        "id": "e87d21c2-aad9-497c-8f49-e7edc02625c4",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550398167983,
        "parent_id": "f05dec72-2e24-4d4e-b928-d77e3d4a992f",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "CKRecord *record = [[CKRecord alloc] initWithRecordType: \"Users\" recordID: recordID];\n[record setObject: \"Some Text\" forKey: \"text\"];\n[record setObject: [CKAsset assetWithFileURL: someValidImageURL] forKey: \"image\"];\n[record setObject: [[NSDate alloc] init] forKey: \"date\"];"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "CKRecord *record = [[CKRecord alloc] initWithRecordType: \"Users\" recordID: recordID];\n[record setObject: \"Some Text\" forKey: \"text\"];\n[record setObject: [CKAsset assetWithFileURL: someValidImageURL] forKey: \"image\"];\n[record setObject: [[NSDate alloc] init] forKey: \"date\"];",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550398167983,
        "id": "297a99ca-3390-493f-a787-96f1238bcf49",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550398167983,
        "parent_id": "f05dec72-2e24-4d4e-b928-d77e3d4a992f",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Note"
            ]
          ]
        },
        "type": "header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Note"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550398167984,
        "id": "874fcadf-85a3-45d9-83ee-3a57a36ff7df",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550398167984,
        "parent_id": "f05dec72-2e24-4d4e-b928-d77e3d4a992f",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Here, we didn’t add the "
            ],
            [
              "UIImage",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " directly to the record, because as mentioned in Remarks, image format isn’t directly supported in CloudKit, so we have converted "
            ],
            [
              "UIImage",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " into "
            ],
            [
              "CKAsset",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Here, we didn’t add the "
          },
          {
            "Text": "UIImage",
            "AttrFlags": 2
          },
          {
            "Text": " directly to the record, because as mentioned in Remarks, image format isn’t directly supported in CloudKit, so we have converted "
          },
          {
            "Text": "UIImage",
            "AttrFlags": 2
          },
          {
            "Text": " into "
          },
          {
            "Text": "CKAsset",
            "AttrFlags": 2
          },
          {
            "Text": "."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550398167984,
        "id": "419a45ce-d98b-4299-bffe-ab2b1c819c66",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550398167984,
        "parent_id": "f05dec72-2e24-4d4e-b928-d77e3d4a992f",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Accessing the container"
            ]
          ]
        },
        "type": "header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Accessing the container"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550398167984,
        "id": "24d0ae1d-e613-4c54-b577-b5c5a11e2d6f",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550398167984,
        "parent_id": "f05dec72-2e24-4d4e-b928-d77e3d4a992f",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Swift"
            ]
          ]
        },
        "type": "sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Swift"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550398167984,
        "id": "174d788f-2e16-4bca-ba4b-b078f8993698",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550398167984,
        "parent_id": "f05dec72-2e24-4d4e-b928-d77e3d4a992f",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "let container = CKContainer.defaultContainer()\nlet database = container.privateCloudDatabase // or container.publicCloudDatabase"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "let container = CKContainer.defaultContainer()\nlet database = container.privateCloudDatabase // or container.publicCloudDatabase",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550398167984,
        "id": "ef2b6719-0125-4a26-a245-009d55a8dc35",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550398167984,
        "parent_id": "f05dec72-2e24-4d4e-b928-d77e3d4a992f",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Saving the records to CloudKit database"
            ]
          ]
        },
        "type": "header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Saving the records to CloudKit database"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550398167984,
        "id": "4a0d9570-768a-4e17-9eb3-7fc5674f2780",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550398167984,
        "parent_id": "f05dec72-2e24-4d4e-b928-d77e3d4a992f",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Swift"
            ]
          ]
        },
        "type": "sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Swift"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550398167984,
        "id": "633a903b-8b96-4167-b1bc-add8c5ec53ef",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550398167984,
        "parent_id": "f05dec72-2e24-4d4e-b928-d77e3d4a992f",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "database.saveRecord(record, completionHandler: { (_, error) -\u003e Void in\n    print(error ?? \"\")\n})"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "database.saveRecord(record, completionHandler: { (_, error) -\u003e Void in\n    print(error ?? \"\")\n})",
        "code_language": "Plain Text"
      }
    ],
    "title": "Saving data to CloudKit",
    "format_page": {
      "page_cover": "",
      "page_cover_position": 0,
      "page_font": "",
      "page_full_width": true,
      "page_icon": "",
      "page_small_text": true
    }
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 18
    }
  ],
  "Tables": null
}