{
  "ID": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
  "Root": {
    "id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
    "alive": true,
    "content": [
      "afabda01-eb93-4b0c-85e9-994e2274bca6",
      "b1087cb5-df7d-40a4-b7e6-4ebe2e267e9c",
      "0dd1d38a-fa1d-4e10-9fc1-f21221e31e69",
      "82a4d394-c334-4a72-9799-8bbd403d7104",
      "95c7a8e1-8ec3-453a-a55a-b40ea361920f",
      "1397640e-912b-488a-8127-99ce9da0505b",
      "8ebb4eda-736e-4cee-b67b-71a4012b7bfa",
      "5e5e4eaa-6f89-4bf5-8fc7-9ad596c4125a",
      "fe6243c3-9628-4ffb-bf27-68cdad81e82a",
      "10fb8845-ef08-4182-b69b-d141ecd97e98",
      "0efc9351-7f14-48a6-8fd5-0eca2cfdc59f",
      "1a7df24b-083d-4db5-b3e3-fa0f643dce7d",
      "891ede2d-cb39-4134-8d2e-2fddb68d3b4e",
      "121cf1a6-e368-4513-8109-36af5d5c8083",
      "74f873de-5b9a-4edf-b8a6-3eec870e2329",
      "8ba5a748-bdc0-4859-b2bb-3ad8c9cc9bfc",
      "d4f9142d-3ce9-4461-b3c3-bd6762e2b880",
      "852fe88c-5025-46fa-a8d3-e3f7113e5c76",
      "e1e7f7f3-5e4e-4215-a129-bc291ca4970e",
      "f36cbdfb-c0c7-4feb-9996-a92717e4d595",
      "54850fa9-22ef-4310-85d8-91662dd7ff3a",
      "a0542132-d599-49df-be10-1971a61c2a7b",
      "30ff84e6-7b17-48d1-9720-03558347f66b",
      "d01e5001-3765-4c47-8de9-be1c3cd6a299",
      "bb261ffe-cc02-48c2-950f-9cbb5e7a5996",
      "b3f3d6ed-5dfa-4905-8e8a-e5f50c0c135f",
      "310a0266-c4b2-4573-929f-49ac514a1f90",
      "3d629fd6-54ae-441f-b3f1-e86104bc667a",
      "46b11d66-3a0a-492f-8518-feffb3fcc9b9",
      "8ee603c0-014e-4f88-a790-62db5a91bdf3",
      "1ac18612-2028-4c33-aaae-d8ab46f34776",
      "1c8a2bb5-4a21-4b0e-ba58-8cc2b2b9d9d3",
      "9f5324c7-1772-4f12-99e8-c6d7780885c8"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1551949685351,
    "format": {
      "page_full_width": true,
      "page_small_text": true
    },
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1551949685351,
    "parent_id": "4ce6605a-6537-4752-91ee-3480df7bacb9",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "Basic loading and playing a video on the canvas."
        ]
      ]
    },
    "type": "page",
    "version": 3,
    "content_resolved": [
      {
        "id": "afabda01-eb93-4b0c-85e9-994e2274bca6",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949685343,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949685343,
        "parent_id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The canvas can be used to display video from a variety of sources. This example shows how to load a video as a file resource, display it and add a simple click on screen play/pause toggle."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "The canvas can be used to display video from a variety of sources. This example shows how to load a video as a file resource, display it and add a simple click on screen play/pause toggle."
          }
        ]
      },
      {
        "id": "b1087cb5-df7d-40a4-b7e6-4ebe2e267e9c",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949685347,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949685347,
        "parent_id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "This stackoverflow self answered question "
            ],
            [
              "How do I display a video using HTML5 canvas tag",
              [
                [
                  "a",
                  "http://stackoverflow.com/a/38710126/3877726"
                ]
              ]
            ],
            [
              " shows the following example code in action."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "This stackoverflow self answered question "
          },
          {
            "Text": "How do I display a video using HTML5 canvas tag",
            "Link": "http://stackoverflow.com/a/38710126/3877726"
          },
          {
            "Text": " shows the following example code in action."
          }
        ]
      },
      {
        "id": "0dd1d38a-fa1d-4e10-9fc1-f21221e31e69",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949685347,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949685347,
        "parent_id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Just an image"
            ]
          ]
        },
        "type": "sub_sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Just an image"
          }
        ]
      },
      {
        "id": "82a4d394-c334-4a72-9799-8bbd403d7104",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949685347,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949685347,
        "parent_id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "A video is just an image as far as the canvas is concerned. You can draw it like any image. The difference being the video can play and has sound."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "A video is just an image as far as the canvas is concerned. You can draw it like any image. The difference being the video can play and has sound."
          }
        ]
      },
      {
        "id": "95c7a8e1-8ec3-453a-a55a-b40ea361920f",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949685347,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949685347,
        "parent_id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Get canvas and basic setup"
            ]
          ]
        },
        "type": "sub_sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Get canvas and basic setup"
          }
        ]
      },
      {
        "id": "1397640e-912b-488a-8127-99ce9da0505b",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949685347,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949685347,
        "parent_id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "// It is assumed you know how to add a canvas and correctly size it.\nvar canvas = document.getElementById(\"myCanvas\"); // get the canvas from the page\nvar ctx = canvas.getContext(\"2d\");\nvar videoContainer; // object to hold video and associated info"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "// It is assumed you know how to add a canvas and correctly size it.\nvar canvas = document.getElementById(\"myCanvas\"); // get the canvas from the page\nvar ctx = canvas.getContext(\"2d\");\nvar videoContainer; // object to hold video and associated info",
        "code_language": "Plain Text"
      },
      {
        "id": "8ebb4eda-736e-4cee-b67b-71a4012b7bfa",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949685348,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949685348,
        "parent_id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Creating and loading the video"
            ]
          ]
        },
        "type": "sub_sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Creating and loading the video"
          }
        ]
      },
      {
        "id": "5e5e4eaa-6f89-4bf5-8fc7-9ad596c4125a",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949685348,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949685348,
        "parent_id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "var video = document.createElement(\"video\"); // create a video element\nvideo.src = \"urlOffVideo.webm\"; \n// the video will now begin to load.\n// As some additional info is needed we will place the video in a\n// containing object for convenience\nvideo.autoPlay = false; // ensure that the video does not auto play\nvideo.loop = true; // set the video to loop.\nvideoContainer = {  // we will add properties as needed\n     video : video,\n     ready : false,   \n};"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "var video = document.createElement(\"video\"); // create a video element\nvideo.src = \"urlOffVideo.webm\"; \n// the video will now begin to load.\n// As some additional info is needed we will place the video in a\n// containing object for convenience\nvideo.autoPlay = false; // ensure that the video does not auto play\nvideo.loop = true; // set the video to loop.\nvideoContainer = {  // we will add properties as needed\n     video : video,\n     ready : false,   \n};",
        "code_language": "Plain Text"
      },
      {
        "id": "fe6243c3-9628-4ffb-bf27-68cdad81e82a",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949685348,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949685348,
        "parent_id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Unlike images elements videos don’t have to be fully loaded to be displayed on the canvas. Videos also provide a host of extra events that can be used to monitor status of the video."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Unlike images elements videos don’t have to be fully loaded to be displayed on the canvas. Videos also provide a host of extra events that can be used to monitor status of the video."
          }
        ]
      },
      {
        "id": "10fb8845-ef08-4182-b69b-d141ecd97e98",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949685348,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949685348,
        "parent_id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "In this case we wish to know when the video is ready to play. "
            ],
            [
              "oncanplay",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " means that enough of the video has loaded to play some of it, but there may not be enough to play to the end."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "In this case we wish to know when the video is ready to play. "
          },
          {
            "Text": "oncanplay",
            "AttrFlags": 2
          },
          {
            "Text": " means that enough of the video has loaded to play some of it, but there may not be enough to play to the end."
          }
        ]
      },
      {
        "id": "0efc9351-7f14-48a6-8fd5-0eca2cfdc59f",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949685348,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949685348,
        "parent_id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "video.oncanplay = readyToPlayVideo; // set the event to the play function that \n                                  // can be found below"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "video.oncanplay = readyToPlayVideo; // set the event to the play function that \n                                  // can be found below",
        "code_language": "Plain Text"
      },
      {
        "id": "1a7df24b-083d-4db5-b3e3-fa0f643dce7d",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949685348,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949685348,
        "parent_id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Alternatively you can use "
            ],
            [
              "oncanplaythrough",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " which will fire when enough of the video has loaded so that it can be played to the end."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Alternatively you can use "
          },
          {
            "Text": "oncanplaythrough",
            "AttrFlags": 2
          },
          {
            "Text": " which will fire when enough of the video has loaded so that it can be played to the end."
          }
        ]
      },
      {
        "id": "891ede2d-cb39-4134-8d2e-2fddb68d3b4e",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949685348,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949685348,
        "parent_id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "video.oncanplaythrough = readyToPlayVideo; // set the event to the play function that\n                                         // can be found below"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "video.oncanplaythrough = readyToPlayVideo; // set the event to the play function that\n                                         // can be found below",
        "code_language": "Plain Text"
      },
      {
        "id": "121cf1a6-e368-4513-8109-36af5d5c8083",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949685349,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949685349,
        "parent_id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Only use one of the canPlay events not both."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Only use one of the canPlay events not both."
          }
        ]
      },
      {
        "id": "74f873de-5b9a-4edf-b8a6-3eec870e2329",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949685349,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949685349,
        "parent_id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The can play event (equivalent to image onload)"
            ]
          ]
        },
        "type": "sub_sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "The can play event (equivalent to image onload)"
          }
        ]
      },
      {
        "id": "8ba5a748-bdc0-4859-b2bb-3ad8c9cc9bfc",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949685349,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949685349,
        "parent_id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "function readyToPlayVideo(event){ // this is a referance to the video\n    // the video may not match the canvas size so find a scale to fit\n    videoContainer.scale = Math.min(\n                         canvas.width / this.videoWidth, \n                         canvas.height / this.videoHeight); \n    videoContainer.ready = true;\n    // the video can be played so hand it off to the display function\n    requestAnimationFrame(undateCanvas);\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "function readyToPlayVideo(event){ // this is a referance to the video\n    // the video may not match the canvas size so find a scale to fit\n    videoContainer.scale = Math.min(\n                         canvas.width / this.videoWidth, \n                         canvas.height / this.videoHeight); \n    videoContainer.ready = true;\n    // the video can be played so hand it off to the display function\n    requestAnimationFrame(undateCanvas);\n}",
        "code_language": "Plain Text"
      },
      {
        "id": "d4f9142d-3ce9-4461-b3c3-bd6762e2b880",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949685349,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949685349,
        "parent_id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
        "parent_table": "block",
        "type": "divider",
        "version": 1
      },
      {
        "id": "852fe88c-5025-46fa-a8d3-e3f7113e5c76",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949685349,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949685349,
        "parent_id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Displaying"
            ]
          ]
        },
        "type": "sub_sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Displaying"
          }
        ]
      },
      {
        "id": "e1e7f7f3-5e4e-4215-a129-bc291ca4970e",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949685349,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949685349,
        "parent_id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The video will not play itself on the canvas. You need to draw it for every new frame. As it is difficult to know the exact frame rate and when they occur the best approch is to display the video as if running at 60fps. If the frame rate is lower then w just render the same frame twice. If the frame rate is higher then there is nothing that can be don to see the extra frames so we just ignore them."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "The video will not play itself on the canvas. You need to draw it for every new frame. As it is difficult to know the exact frame rate and when they occur the best approch is to display the video as if running at 60fps. If the frame rate is lower then w just render the same frame twice. If the frame rate is higher then there is nothing that can be don to see the extra frames so we just ignore them."
          }
        ]
      },
      {
        "id": "f36cbdfb-c0c7-4feb-9996-a92717e4d595",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949685349,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949685349,
        "parent_id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The video element is just a image element and can be draw like any image, you can scale, rotate, pan the video, mirror it, fade it, clip it and display only parts, draw it twice the second time with a global composite mode to add FX like lighten, screen, etc.."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "The video element is just a image element and can be draw like any image, you can scale, rotate, pan the video, mirror it, fade it, clip it and display only parts, draw it twice the second time with a global composite mode to add FX like lighten, screen, etc.."
          }
        ]
      },
      {
        "id": "54850fa9-22ef-4310-85d8-91662dd7ff3a",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949685349,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949685349,
        "parent_id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "function updateCanvas(){\n    ctx.clearRect(0,0,canvas.width,canvas.height); // Though not always needed \n                                                     // you may get bad pixels from \n                                                     // previous videos so clear to be\n                                                     // safe\n    // only draw if loaded and ready\n    if(videoContainer !== undefined \u0026\u0026 videoContainer.ready){ \n        // find the top left of the video on the canvas\n        var scale = videoContainer.scale;\n        var vidH = videoContainer.video.videoHeight;\n        var vidW = videoContainer.video.videoWidth;\n        var top = canvas.height / 2 - (vidH /2 ) * scale;\n        var left = canvas.width / 2 - (vidW /2 ) * scale;\n        // now just draw the video the correct size\n        ctx.drawImage(videoContainer.video, left, top, vidW * scale, vidH * scale);\n        if(videoContainer.video.paused){ // if not playing show the paused screen \n            drawPayIcon();\n        }\n    }\n    // all done for display \n    // request the next frame in 1/60th of a second\n    requestAnimationFrame(updateCanvas);\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "function updateCanvas(){\n    ctx.clearRect(0,0,canvas.width,canvas.height); // Though not always needed \n                                                     // you may get bad pixels from \n                                                     // previous videos so clear to be\n                                                     // safe\n    // only draw if loaded and ready\n    if(videoContainer !== undefined \u0026\u0026 videoContainer.ready){ \n        // find the top left of the video on the canvas\n        var scale = videoContainer.scale;\n        var vidH = videoContainer.video.videoHeight;\n        var vidW = videoContainer.video.videoWidth;\n        var top = canvas.height / 2 - (vidH /2 ) * scale;\n        var left = canvas.width / 2 - (vidW /2 ) * scale;\n        // now just draw the video the correct size\n        ctx.drawImage(videoContainer.video, left, top, vidW * scale, vidH * scale);\n        if(videoContainer.video.paused){ // if not playing show the paused screen \n            drawPayIcon();\n        }\n    }\n    // all done for display \n    // request the next frame in 1/60th of a second\n    requestAnimationFrame(updateCanvas);\n}",
        "code_language": "Plain Text"
      },
      {
        "id": "a0542132-d599-49df-be10-1971a61c2a7b",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949685349,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949685349,
        "parent_id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
        "parent_table": "block",
        "type": "divider",
        "version": 1
      },
      {
        "id": "30ff84e6-7b17-48d1-9720-03558347f66b",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949685349,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949685349,
        "parent_id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Basic play pause control"
            ]
          ]
        },
        "type": "sub_sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Basic play pause control"
          }
        ]
      },
      {
        "id": "d01e5001-3765-4c47-8de9-be1c3cd6a299",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949685350,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949685350,
        "parent_id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Now we have the video loaded and displayed all we need is the play control. We will make it as a click toggle play on the screen. When the video is playing and the user clicks the video is paused. When paused the click resumes play. We will add a function to darken the video and draw an play icon (triangle)"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Now we have the video loaded and displayed all we need is the play control. We will make it as a click toggle play on the screen. When the video is playing and the user clicks the video is paused. When paused the click resumes play. We will add a function to darken the video and draw an play icon (triangle)"
          }
        ]
      },
      {
        "id": "bb261ffe-cc02-48c2-950f-9cbb5e7a5996",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949685350,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949685350,
        "parent_id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "function drawPayIcon(){\n     ctx.fillStyle = \"black\";  // darken display\n     ctx.globalAlpha = 0.5;\n     ctx.fillRect(0,0,canvas.width,canvas.height);\n     ctx.fillStyle = \"#DDD\"; // colour of play icon\n     ctx.globalAlpha = 0.75; // partly transparent\n     ctx.beginPath(); // create the path for the icon\n     var size = (canvas.height / 2) * 0.5;  // the size of the icon\n     ctx.moveTo(canvas.width/2 + size/2, canvas.height / 2); // start at the pointy end\n     ctx.lineTo(canvas.width/2 - size/2, canvas.height / 2 + size);\n     ctx.lineTo(canvas.width/2 - size/2, canvas.height / 2 - size);\n     ctx.closePath();\n     ctx.fill();\n     ctx.globalAlpha = 1; // restore alpha\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "function drawPayIcon(){\n     ctx.fillStyle = \"black\";  // darken display\n     ctx.globalAlpha = 0.5;\n     ctx.fillRect(0,0,canvas.width,canvas.height);\n     ctx.fillStyle = \"#DDD\"; // colour of play icon\n     ctx.globalAlpha = 0.75; // partly transparent\n     ctx.beginPath(); // create the path for the icon\n     var size = (canvas.height / 2) * 0.5;  // the size of the icon\n     ctx.moveTo(canvas.width/2 + size/2, canvas.height / 2); // start at the pointy end\n     ctx.lineTo(canvas.width/2 - size/2, canvas.height / 2 + size);\n     ctx.lineTo(canvas.width/2 - size/2, canvas.height / 2 - size);\n     ctx.closePath();\n     ctx.fill();\n     ctx.globalAlpha = 1; // restore alpha\n}",
        "code_language": "Plain Text"
      },
      {
        "id": "b3f3d6ed-5dfa-4905-8e8a-e5f50c0c135f",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949685350,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949685350,
        "parent_id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Now the play pause event"
            ]
          ]
        },
        "type": "sub_sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Now the play pause event"
          }
        ]
      },
      {
        "id": "310a0266-c4b2-4573-929f-49ac514a1f90",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949685350,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949685350,
        "parent_id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "function playPauseClick(){\n     if(videoContainer !== undefined \u0026\u0026 videoContainer.ready){\n          if(videoContainer.video.paused){                                 \n                videoContainer.video.play();\n          }else{\n                videoContainer.video.pause();\n          }\n     }\n}\n// register the event\ncanvas.addEventListener(\"click\",playPauseClick);"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "function playPauseClick(){\n     if(videoContainer !== undefined \u0026\u0026 videoContainer.ready){\n          if(videoContainer.video.paused){                                 \n                videoContainer.video.play();\n          }else{\n                videoContainer.video.pause();\n          }\n     }\n}\n// register the event\ncanvas.addEventListener(\"click\",playPauseClick);",
        "code_language": "Plain Text"
      },
      {
        "id": "3d629fd6-54ae-441f-b3f1-e86104bc667a",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949685350,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949685350,
        "parent_id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
        "parent_table": "block",
        "type": "divider",
        "version": 1
      },
      {
        "id": "46b11d66-3a0a-492f-8518-feffb3fcc9b9",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949685350,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949685350,
        "parent_id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Summary"
            ]
          ]
        },
        "type": "sub_sub_header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Summary"
          }
        ]
      },
      {
        "id": "8ee603c0-014e-4f88-a790-62db5a91bdf3",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949685350,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949685350,
        "parent_id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Playing a video is very easy using the canvas, adding effect in real time is also easy. There are however some limitations on formats, how you can play and seek. MDN HTMLMediaElement is the place to get the full referance to the video object."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Playing a video is very easy using the canvas, adding effect in real time is also easy. There are however some limitations on formats, how you can play and seek. MDN HTMLMediaElement is the place to get the full referance to the video object."
          }
        ]
      },
      {
        "id": "1ac18612-2028-4c33-aaae-d8ab46f34776",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949685350,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949685350,
        "parent_id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Once the image has been drawn on the canvas you can use "
            ],
            [
              "ctx.getImageData",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " to access the pixels it contains. Or you can use "
            ],
            [
              "canvas.toDataURL",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " to snap a still and download it. (Only if the video is from a trusted source and does not taint the canvas)."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Once the image has been drawn on the canvas you can use "
          },
          {
            "Text": "ctx.getImageData",
            "AttrFlags": 2
          },
          {
            "Text": " to access the pixels it contains. Or you can use "
          },
          {
            "Text": "canvas.toDataURL",
            "AttrFlags": 2
          },
          {
            "Text": " to snap a still and download it. (Only if the video is from a trusted source and does not taint the canvas)."
          }
        ]
      },
      {
        "id": "1c8a2bb5-4a21-4b0e-ba58-8cc2b2b9d9d3",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949685350,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949685350,
        "parent_id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Note if the video has sound then playing it will also play the sound."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Note if the video has sound then playing it will also play the sound."
          }
        ]
      },
      {
        "id": "9f5324c7-1772-4f12-99e8-c6d7780885c8",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949685351,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949685351,
        "parent_id": "ec39f3c4-0c6d-42dd-97ae-0fa7ba650bfb",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Happy videoing."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Happy videoing."
          }
        ]
      }
    ],
    "title": "Basic loading and playing a video on the canvas.",
    "format_page": {
      "page_cover": "",
      "page_cover_position": 0,
      "page_font": "",
      "page_full_width": true,
      "page_icon": "",
      "page_small_text": true
    }
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "",
      "version": 94
    }
  ],
  "Tables": null
}