{
  "ID": "33473700-dfac-4473-bfd8-caf5edbadadd",
  "Root": {
    "id": "33473700-dfac-4473-bfd8-caf5edbadadd",
    "alive": true,
    "content": [
      "8e518874-6c91-43c3-a391-550fa027789b",
      "2b845af1-d9e6-4038-b4fa-246ebc9d02a4",
      "ef94db7e-e3b0-4ec9-9f68-6dced07fb28f",
      "16050c6c-2ae4-4226-a9fb-3a1435d5e3bd",
      "667b3b7f-936d-4267-969b-83f3b079d8e5",
      "9c2b5200-f195-4207-8257-717948127c45",
      "5d4cf0d9-825c-4ec1-838d-81f19670cfc1",
      "7c6603e4-db95-4d6c-ae1e-a72e9c8119c3",
      "67b28450-8c25-4dd7-bdae-bcad4daf2d91",
      "166ddb0b-673e-4f84-a171-f6b681aa2396"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1551949830604,
    "format": {
      "page_full_width": true,
      "page_small_text": true
    },
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1551949830604,
    "parent_id": "90e27c41-8789-4f04-99f3-a04940f3821a",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "Drawing many translated scaled and rotated images quickly"
        ]
      ]
    },
    "type": "page",
    "version": 3,
    "content_resolved": [
      {
        "id": "8e518874-6c91-43c3-a391-550fa027789b",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949830603,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949830603,
        "parent_id": "33473700-dfac-4473-bfd8-caf5edbadadd",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "There are many situation where you want to draw an image that is rotated, scaled, and translated. The rotation should occur around the center of the image. This is the quickest way to do so on the 2D canvas. These functions a well suited to 2D games where the expectation is to render a few hundred even up to a 1000+ images every 60th of a second. (dependent on the hardware)"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "There are many situation where you want to draw an image that is rotated, scaled, and translated. The rotation should occur around the center of the image. This is the quickest way to do so on the 2D canvas. These functions a well suited to 2D games where the expectation is to render a few hundred even up to a 1000+ images every 60th of a second. (dependent on the hardware)"
          }
        ]
      },
      {
        "id": "2b845af1-d9e6-4038-b4fa-246ebc9d02a4",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949830603,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949830603,
        "parent_id": "33473700-dfac-4473-bfd8-caf5edbadadd",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "// assumes that the canvas context is in ctx and in scope\nfunction drawImageRST(image, x, y, scale, rotation){\n    ctx.setTransform(scale, 0, 0, scale, x, y); // set the scale and translation\n    ctx.rotate(rotation);                       // add the rotation\n    ctx.drawImage(image, -image.width / 2, -image.height / 2); // draw the image offset by half its width and height\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "// assumes that the canvas context is in ctx and in scope\nfunction drawImageRST(image, x, y, scale, rotation){\n    ctx.setTransform(scale, 0, 0, scale, x, y); // set the scale and translation\n    ctx.rotate(rotation);                       // add the rotation\n    ctx.drawImage(image, -image.width / 2, -image.height / 2); // draw the image offset by half its width and height\n}",
        "code_language": "Plain Text"
      },
      {
        "id": "ef94db7e-e3b0-4ec9-9f68-6dced07fb28f",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949830603,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949830603,
        "parent_id": "33473700-dfac-4473-bfd8-caf5edbadadd",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "A variant can also include the alpha value which is useful for particle systems."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "A variant can also include the alpha value which is useful for particle systems."
          }
        ]
      },
      {
        "id": "16050c6c-2ae4-4226-a9fb-3a1435d5e3bd",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949830603,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949830603,
        "parent_id": "33473700-dfac-4473-bfd8-caf5edbadadd",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "function drawImageRST_Alpha(image, x, y, scale, rotation, alpha){\n    ctx.setTransform(scale, 0, 0, scale, x, y); // set the scale and translation\n    ctx.rotate(rotation);                       // add the rotation\n    ctx.globalAlpha = alpha;\n    ctx.drawImage(image, -image.width / 2, -image.height / 2); // draw the image offset by half its width and height\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "function drawImageRST_Alpha(image, x, y, scale, rotation, alpha){\n    ctx.setTransform(scale, 0, 0, scale, x, y); // set the scale and translation\n    ctx.rotate(rotation);                       // add the rotation\n    ctx.globalAlpha = alpha;\n    ctx.drawImage(image, -image.width / 2, -image.height / 2); // draw the image offset by half its width and height\n}",
        "code_language": "Plain Text"
      },
      {
        "id": "667b3b7f-936d-4267-969b-83f3b079d8e5",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949830603,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949830603,
        "parent_id": "33473700-dfac-4473-bfd8-caf5edbadadd",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "It is important to note that both functions leave the canvas context in a random state. Though the functions will not be affected other rendering my be. When you are done rendering images you may need to restore the default transform"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "It is important to note that both functions leave the canvas context in a random state. Though the functions will not be affected other rendering my be. When you are done rendering images you may need to restore the default transform"
          }
        ]
      },
      {
        "id": "9c2b5200-f195-4207-8257-717948127c45",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949830604,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949830604,
        "parent_id": "33473700-dfac-4473-bfd8-caf5edbadadd",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "ctx.setTransform(1, 0, 0, 1, 0, 0); // set the context transform back to the default"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "ctx.setTransform(1, 0, 0, 1, 0, 0); // set the context transform back to the default",
        "code_language": "Plain Text"
      },
      {
        "id": "5d4cf0d9-825c-4ec1-838d-81f19670cfc1",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949830604,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949830604,
        "parent_id": "33473700-dfac-4473-bfd8-caf5edbadadd",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "If you use the alpha version (second example) and then the standard version you will have to ensure that the global alpha state is restored"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "If you use the alpha version (second example) and then the standard version you will have to ensure that the global alpha state is restored"
          }
        ]
      },
      {
        "id": "7c6603e4-db95-4d6c-ae1e-a72e9c8119c3",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949830604,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949830604,
        "parent_id": "33473700-dfac-4473-bfd8-caf5edbadadd",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "ctx.globalAlpha = 1;"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "ctx.globalAlpha = 1;",
        "code_language": "Plain Text"
      },
      {
        "id": "67b28450-8c25-4dd7-bdae-bcad4daf2d91",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949830604,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949830604,
        "parent_id": "33473700-dfac-4473-bfd8-caf5edbadadd",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "An example of using the above functions to render some particles and the a few images"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "An example of using the above functions to render some particles and the a few images"
          }
        ]
      },
      {
        "id": "166ddb0b-673e-4f84-a171-f6b681aa2396",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949830604,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949830604,
        "parent_id": "33473700-dfac-4473-bfd8-caf5edbadadd",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "// assume particles to contain an array of particles\nfor(var i = 0; i \u003c particles.length; i++){\n    var p = particles[i];\n    drawImageRST_Alpha(p.image, p.x, p.y, p.scale, p.rot, p.alpha);\n    // no need to rest the alpha in the loop\n}\n// you need to reset the alpha as it can be any value \nctx.globalAlpha = 1;\n\ndrawImageRST(myImage, 100, 100, 1, 0.5);  // draw an image at 100,100\n// no need to reset the transform \ndrawImageRST(myImage, 200, 200, 1, -0.5); // draw an image at 200,200 \nctx.setTransform(1,0,0,1,0,0);            // reset the transform"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "// assume particles to contain an array of particles\nfor(var i = 0; i \u003c particles.length; i++){\n    var p = particles[i];\n    drawImageRST_Alpha(p.image, p.x, p.y, p.scale, p.rot, p.alpha);\n    // no need to rest the alpha in the loop\n}\n// you need to reset the alpha as it can be any value \nctx.globalAlpha = 1;\n\ndrawImageRST(myImage, 100, 100, 1, 0.5);  // draw an image at 100,100\n// no need to reset the transform \ndrawImageRST(myImage, 200, 200, 1, -0.5); // draw an image at 200,200 \nctx.setTransform(1,0,0,1,0,0);            // reset the transform",
        "code_language": "Plain Text"
      }
    ],
    "title": "Drawing many translated scaled and rotated images quickly",
    "format_page": {
      "page_cover": "",
      "page_cover_position": 0,
      "page_font": "",
      "page_full_width": true,
      "page_icon": "",
      "page_small_text": true
    }
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "",
      "version": 94
    }
  ],
  "Tables": null
}