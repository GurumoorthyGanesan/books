{
  "ID": "8d4c4f48-9fb2-4f05-ace5-0f886de2563a",
  "Root": {
    "id": "8d4c4f48-9fb2-4f05-ace5-0f886de2563a",
    "alive": true,
    "content": [
      "fcdf269f-0d98-4502-ab17-81717a527efa",
      "6bc24335-9b9f-4d23-b179-de9e96ff2c29",
      "826e7752-7946-46bb-a8d4-44dbb5aea799",
      "5f97df52-485e-4274-a76f-4b2c2e089286",
      "2d2a22ce-c7b7-4543-a45e-4d0eb120936a",
      "b6dcdc30-7c40-4c6e-9c07-52a992b8a646",
      "bb7acf27-4f14-4f0e-ac37-77bf32a55d17",
      "855efc4e-0f69-4bfd-8907-8f7944c85cc6",
      "2e907dff-05f9-49b8-89df-0bcf622b3cff"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1551949703908,
    "format": {
      "page_full_width": true,
      "page_small_text": true
    },
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1551949703908,
    "parent_id": "43473e47-27d0-430a-914d-cd63a767322a",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "Dont draw animations in your event handlers a simple sketch app"
        ]
      ]
    },
    "type": "page",
    "version": 3,
    "content_resolved": [
      {
        "id": "fcdf269f-0d98-4502-ab17-81717a527efa",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949703903,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949703903,
        "parent_id": "8d4c4f48-9fb2-4f05-ace5-0f886de2563a",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "During "
            ],
            [
              "mousemove",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " you get flooded with 30 mouse events per second. You might not be able to redraw your drawings at 30 times per second. Even if you can, you’re probably wasting computing power by drawing when the browser is not ready to draw (wasted == across display refresh cycles)."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "During "
          },
          {
            "Text": "mousemove",
            "AttrFlags": 2
          },
          {
            "Text": " you get flooded with 30 mouse events per second. You might not be able to redraw your drawings at 30 times per second. Even if you can, you’re probably wasting computing power by drawing when the browser is not ready to draw (wasted == across display refresh cycles)."
          }
        ]
      },
      {
        "id": "6bc24335-9b9f-4d23-b179-de9e96ff2c29",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949703905,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949703905,
        "parent_id": "8d4c4f48-9fb2-4f05-ace5-0f886de2563a",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Therefore it makes sense to separate your users input events (like mousemove) from the drawing of your animations."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Therefore it makes sense to separate your users input events (like mousemove) from the drawing of your animations."
          }
        ]
      },
      {
        "id": "826e7752-7946-46bb-a8d4-44dbb5aea799",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949703906,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949703906,
        "parent_id": "8d4c4f48-9fb2-4f05-ace5-0f886de2563a",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "In event handlers, save all the event variables that control where drawings are positioned on the Canvas. But don’t actually draw anything."
            ]
          ]
        },
        "type": "bulleted_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "In event handlers, save all the event variables that control where drawings are positioned on the Canvas. But don’t actually draw anything."
          }
        ]
      },
      {
        "id": "5f97df52-485e-4274-a76f-4b2c2e089286",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949703906,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949703906,
        "parent_id": "8d4c4f48-9fb2-4f05-ace5-0f886de2563a",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "In a "
            ],
            [
              "requestAnimationFrame",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " loop, render all the drawings to the Canvas using the saved information."
            ]
          ]
        },
        "type": "bulleted_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "In a "
          },
          {
            "Text": "requestAnimationFrame",
            "AttrFlags": 2
          },
          {
            "Text": " loop, render all the drawings to the Canvas using the saved information."
          }
        ]
      },
      {
        "id": "2d2a22ce-c7b7-4543-a45e-4d0eb120936a",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949703906,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949703906,
        "parent_id": "8d4c4f48-9fb2-4f05-ace5-0f886de2563a",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "By not drawing in the event handlers, you are not forcing Canvas to try to refresh complex drawings at mouse event speeds."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "By not drawing in the event handlers, you are not forcing Canvas to try to refresh complex drawings at mouse event speeds."
          }
        ]
      },
      {
        "id": "b6dcdc30-7c40-4c6e-9c07-52a992b8a646",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949703908,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949703908,
        "parent_id": "8d4c4f48-9fb2-4f05-ace5-0f886de2563a",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "By doing all drawing in "
            ],
            [
              "requestAnimationFrame",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " you gain all the benefits described in here "
            ],
            [
              "Use ‘requestanimationFrame’ not ‘setInterval’ for animation loops",
              [
                [
                  "a",
                  "http://stackoverflow.com/documentation/html5-canvas/drafts/58696#"
                ]
              ]
            ],
            [
              "."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "By doing all drawing in "
          },
          {
            "Text": "requestAnimationFrame",
            "AttrFlags": 2
          },
          {
            "Text": " you gain all the benefits described in here "
          },
          {
            "Text": "Use ‘requestanimationFrame’ not ‘setInterval’ for animation loops",
            "Link": "http://stackoverflow.com/documentation/html5-canvas/drafts/58696#"
          },
          {
            "Text": "."
          }
        ]
      },
      {
        "id": "bb7acf27-4f14-4f0e-ac37-77bf32a55d17",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949703908,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949703908,
        "parent_id": "8d4c4f48-9fb2-4f05-ace5-0f886de2563a",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Annotated Code:",
              [
                [
                  "b"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Annotated Code:",
            "AttrFlags": 1
          }
        ]
      },
      {
        "id": "855efc4e-0f69-4bfd-8907-8f7944c85cc6",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949703908,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949703908,
        "parent_id": "8d4c4f48-9fb2-4f05-ace5-0f886de2563a",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "\u003c!doctype html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003cstyle\u003e\n    body{ background-color: ivory; }\n    #canvas{border:1px solid red; }\n\u003c/style\u003e\n\u003cscript\u003e\nwindow.onload=(function(){\n\n    function log(){console.log.apply(console,arguments);}\n\n    // canvas variables\n    var canvas=document.getElementById(\"canvas\");\n    var ctx=canvas.getContext(\"2d\");\n    var cw=canvas.width;\n    var ch=canvas.height;\n    // set canvas styling\n    ctx.strokeStyle='skyblue';\n    ctx.lineJoint='round';\n    ctx.lineCap='round';\n    ctx.lineWidth=6;\n\n    // handle windows scrolling \u0026 resizing\n    function reOffset(){\n        var BB=canvas.getBoundingClientRect();\n        offsetX=BB.left;\n        offsetY=BB.top;        \n    }\n    var offsetX,offsetY;\n    reOffset();\n    window.onscroll=function(e){ reOffset(); }\n    window.onresize=function(e){ reOffset(); }\n\n    // vars to save points created during mousemove handling\n    var points=[];\n    var lastLength=0;\n\n    // start the  animation loop\n    requestAnimationFrame(draw);\n\n    canvas.onmousemove=function(e){handleMouseMove(e);}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "\u003c!doctype html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n\u003cstyle\u003e\n    body{ background-color: ivory; }\n    #canvas{border:1px solid red; }\n\u003c/style\u003e\n\u003cscript\u003e\nwindow.onload=(function(){\n\n    function log(){console.log.apply(console,arguments);}\n\n    // canvas variables\n    var canvas=document.getElementById(\"canvas\");\n    var ctx=canvas.getContext(\"2d\");\n    var cw=canvas.width;\n    var ch=canvas.height;\n    // set canvas styling\n    ctx.strokeStyle='skyblue';\n    ctx.lineJoint='round';\n    ctx.lineCap='round';\n    ctx.lineWidth=6;\n\n    // handle windows scrolling \u0026 resizing\n    function reOffset(){\n        var BB=canvas.getBoundingClientRect();\n        offsetX=BB.left;\n        offsetY=BB.top;        \n    }\n    var offsetX,offsetY;\n    reOffset();\n    window.onscroll=function(e){ reOffset(); }\n    window.onresize=function(e){ reOffset(); }\n\n    // vars to save points created during mousemove handling\n    var points=[];\n    var lastLength=0;\n\n    // start the  animation loop\n    requestAnimationFrame(draw);\n\n    canvas.onmousemove=function(e){handleMouseMove(e);}",
        "code_language": "Plain Text"
      },
      {
        "id": "2e907dff-05f9-49b8-89df-0bcf622b3cff",
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1551949703908,
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1551949703908,
        "parent_id": "8d4c4f48-9fb2-4f05-ace5-0f886de2563a",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "function handleMouseMove(e){\n    // tell the browser we're handling this event\n    e.preventDefault();\n    e.stopPropagation();\n\n    // get the mouse position\n    mouseX=parseInt(e.clientX-offsetX);\n    mouseY=parseInt(e.clientY-offsetY);\n\n    // save the mouse position in the points[] array\n    // but don't draw anything\n    points.push({x:mouseX,y:mouseY});\n}\n\nfunction draw(){\n    // No additional points? Request another frame an return\n    var length=points.length;\n    if(length==lastLength){requestAnimationFrame(draw);return;}\n    \n    // draw the additional points\n    var point=points[lastLength];\n    ctx.beginPath();\n    ctx.moveTo(point.x,point.y)\n    for(var i=lastLength;i\u003clength;i++){\n        point=points[i];\n        ctx.lineTo(point.x,point.y);\n    }\n    ctx.stroke();\n    \n    // request another animation loop\n    requestAnimationFrame(draw);\n}\n\n}); // end window.onload\n\u003c/script\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003ch4\u003eMove mouse over Canvas to sketch\u003c/h4\u003e\n\u003ccanvas id=\"canvas\" width=512 height=512\u003e\u003c/canvas\u003e\n\u003c/body\u003e\n\u003c/html\u003e"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "function handleMouseMove(e){\n    // tell the browser we're handling this event\n    e.preventDefault();\n    e.stopPropagation();\n\n    // get the mouse position\n    mouseX=parseInt(e.clientX-offsetX);\n    mouseY=parseInt(e.clientY-offsetY);\n\n    // save the mouse position in the points[] array\n    // but don't draw anything\n    points.push({x:mouseX,y:mouseY});\n}\n\nfunction draw(){\n    // No additional points? Request another frame an return\n    var length=points.length;\n    if(length==lastLength){requestAnimationFrame(draw);return;}\n    \n    // draw the additional points\n    var point=points[lastLength];\n    ctx.beginPath();\n    ctx.moveTo(point.x,point.y)\n    for(var i=lastLength;i\u003clength;i++){\n        point=points[i];\n        ctx.lineTo(point.x,point.y);\n    }\n    ctx.stroke();\n    \n    // request another animation loop\n    requestAnimationFrame(draw);\n}\n\n}); // end window.onload\n\u003c/script\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003ch4\u003eMove mouse over Canvas to sketch\u003c/h4\u003e\n\u003ccanvas id=\"canvas\" width=512 height=512\u003e\u003c/canvas\u003e\n\u003c/body\u003e\n\u003c/html\u003e",
        "code_language": "Plain Text"
      }
    ],
    "title": "Dont draw animations in your event handlers a simple sketch app",
    "format_page": {
      "page_cover": "",
      "page_cover_position": 0,
      "page_font": "",
      "page_full_width": true,
      "page_icon": "",
      "page_small_text": true
    }
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "",
      "version": 94
    }
  ],
  "Tables": null
}