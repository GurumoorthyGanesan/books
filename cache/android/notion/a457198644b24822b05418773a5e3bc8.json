{
  "ID": "a4571986-44b2-4822-b054-18773a5e3bc8",
  "Root": {
    "alive": true,
    "content": [
      "3c089a6d-5802-4fd1-8837-d792825c63d2",
      "51959e64-1a62-4fb5-9544-99e8c13c8f7b",
      "32f72231-0aa3-4872-a67a-62365a447cf0",
      "e0de12be-0b10-4a6b-9d88-e0f9137a88fa",
      "820f8fe8-88f2-4e3a-a5ba-c21875049967",
      "41908378-29b0-4c32-bf72-de75706282a1",
      "427ab233-a6f5-4e06-bf7e-d2c4430ab0b3",
      "3f65ed0b-680d-4124-983b-ce81501a0a31"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1550456037412,
    "id": "a4571986-44b2-4822-b054-18773a5e3bc8",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1550456037412,
    "parent_id": "114e231f-0e4f-4f0c-b594-af8e235bb7ba",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "010 Google Play ActivityRecognitionAPI"
        ]
      ]
    },
    "type": "page",
    "version": 1,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550456037407,
        "id": "3c089a6d-5802-4fd1-8837-d792825c63d2",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550456037407,
        "parent_id": "a4571986-44b2-4822-b054-18773a5e3bc8",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "This is a just a simple example of how to use GooglePlay Service’s ActivityRecognitionApi. Although this is a great library, it does not work on devices that do not have Google Play Services installed."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "This is a just a simple example of how to use GooglePlay Service’s ActivityRecognitionApi. Although this is a great library, it does not work on devices that do not have Google Play Services installed."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550456037411,
        "id": "51959e64-1a62-4fb5-9544-99e8c13c8f7b",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550456037411,
        "parent_id": "a4571986-44b2-4822-b054-18773a5e3bc8",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Docs for ActivityRecognition API",
              [
                [
                  "a",
                  "https://developers.google.com/android/reference/com/google/android/gms/location/ActivityRecognitionApi"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Docs for ActivityRecognition API",
            "Link": "https://developers.google.com/android/reference/com/google/android/gms/location/ActivityRecognitionApi"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550456037412,
        "id": "32f72231-0aa3-4872-a67a-62365a447cf0",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550456037412,
        "parent_id": "a4571986-44b2-4822-b054-18773a5e3bc8",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Manifest",
              [
                [
                  "b"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Manifest",
            "AttrFlags": 1
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550456037412,
        "id": "e0de12be-0b10-4a6b-9d88-e0f9137a88fa",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550456037412,
        "parent_id": "a4571986-44b2-4822-b054-18773a5e3bc8",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "\u003c!-- This is needed to use Activity Recognition! --\u003e\n\u003cuses-permission android:name=\"com.google.android.gms.permission.ACTIVITY_RECOGNITION\" /\u003e\n\n\u003capplication\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:roundIcon=\"@mipmap/ic_launcher_round\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"\u003e\n\n    \u003cactivity android:name=\".MainActivity\"\u003e\n        \u003cintent-filter\u003e\n            \u003caction android:name=\"android.intent.action.MAIN\" /\u003e\n\n            \u003ccategory android:name=\"android.intent.category.LAUNCHER\" /\u003e\n        \u003c/intent-filter\u003e\n    \u003c/activity\u003e\n\n    \u003creceiver android:name=\".ActivityReceiver\" /\u003e\n\u003c/application\u003e"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "\u003c!-- This is needed to use Activity Recognition! --\u003e\n\u003cuses-permission android:name=\"com.google.android.gms.permission.ACTIVITY_RECOGNITION\" /\u003e\n\n\u003capplication\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:roundIcon=\"@mipmap/ic_launcher_round\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"\u003e\n\n    \u003cactivity android:name=\".MainActivity\"\u003e\n        \u003cintent-filter\u003e\n            \u003caction android:name=\"android.intent.action.MAIN\" /\u003e\n\n            \u003ccategory android:name=\"android.intent.category.LAUNCHER\" /\u003e\n        \u003c/intent-filter\u003e\n    \u003c/activity\u003e\n\n    \u003creceiver android:name=\".ActivityReceiver\" /\u003e\n\u003c/application\u003e",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550456037412,
        "id": "820f8fe8-88f2-4e3a-a5ba-c21875049967",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550456037412,
        "parent_id": "a4571986-44b2-4822-b054-18773a5e3bc8",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "MainActivity.java",
              [
                [
                  "b"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "MainActivity.java",
            "AttrFlags": 1
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550456037412,
        "id": "41908378-29b0-4c32-bf72-de75706282a1",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550456037412,
        "parent_id": "a4571986-44b2-4822-b054-18773a5e3bc8",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "public class MainActivity extends AppCompatActivity implements GoogleApiClient.ConnectionCallbacks, GoogleApiClient.OnConnectionFailedListener {\n\n    private GoogleApiClient apiClient;\n    private LocalBroadcastManager localBroadcastManager;\n    private BroadcastReceiver localActivityReceiver;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        apiClient = new GoogleApiClient.Builder(this)\n                .addApi(ActivityRecognition.API)\n                .addConnectionCallbacks(this)\n                .addOnConnectionFailedListener(this)\n                .build();\n\n        //This just gets the activity intent from the ActivityReceiver class\n        localBroadcastManager = LocalBroadcastManager.getInstance(this);\n        localActivityReceiver = new BroadcastReceiver() {\n            @Override\n            public void onReceive(Context context, Intent intent) {\n                ActivityRecognitionResult recognitionResult = ActivityRecognitionResult.extractResult(intent);\n                TextView textView = (TextView) findViewById(R.id.activityText);\n                \n                //This is just to get the activity name. Use at your own risk.\n                textView.setText(DetectedActivity.zzkf(recognitionResult.getMostProbableActivity().getType()));\n            }\n        };\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n\n        //Register local broadcast receiver\n        localBroadcastManager.registerReceiver(localActivityReceiver, new IntentFilter(\"activity\"));\n\n        //Connect google api client\n        apiClient.connect();\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n\n        //Unregister for activity recognition\n        ActivityRecognition.ActivityRecognitionApi.removeActivityUpdates(apiClient, PendingIntent.getBroadcast(this, 0, new Intent(this, ActivityReceiver.class), PendingIntent.FLAG_UPDATE_CURRENT));\n\n        //Disconnects api client\n        apiClient.disconnect();\n\n        //Unregister local receiver\n        localBroadcastManager.unregisterReceiver(localActivityReceiver);\n    }\n\n    @Override\n    public void onConnected(@Nullable Bundle bundle) {\n        //Only register for activity recognition if google api client has connected\n        ActivityRecognition.ActivityRecognitionApi.requestActivityUpdates(apiClient, 0, PendingIntent.getBroadcast(this, 0, new Intent(this, ActivityReceiver.class), PendingIntent.FLAG_UPDATE_CURRENT));\n    }\n\n    @Override\n    public void onConnectionSuspended(int i) {\n    }\n\n    @Override\n    public void onConnectionFailed(@NonNull ConnectionResult connectionResult) {\n\n    }\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "public class MainActivity extends AppCompatActivity implements GoogleApiClient.ConnectionCallbacks, GoogleApiClient.OnConnectionFailedListener {\n\n    private GoogleApiClient apiClient;\n    private LocalBroadcastManager localBroadcastManager;\n    private BroadcastReceiver localActivityReceiver;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        apiClient = new GoogleApiClient.Builder(this)\n                .addApi(ActivityRecognition.API)\n                .addConnectionCallbacks(this)\n                .addOnConnectionFailedListener(this)\n                .build();\n\n        //This just gets the activity intent from the ActivityReceiver class\n        localBroadcastManager = LocalBroadcastManager.getInstance(this);\n        localActivityReceiver = new BroadcastReceiver() {\n            @Override\n            public void onReceive(Context context, Intent intent) {\n                ActivityRecognitionResult recognitionResult = ActivityRecognitionResult.extractResult(intent);\n                TextView textView = (TextView) findViewById(R.id.activityText);\n                \n                //This is just to get the activity name. Use at your own risk.\n                textView.setText(DetectedActivity.zzkf(recognitionResult.getMostProbableActivity().getType()));\n            }\n        };\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n\n        //Register local broadcast receiver\n        localBroadcastManager.registerReceiver(localActivityReceiver, new IntentFilter(\"activity\"));\n\n        //Connect google api client\n        apiClient.connect();\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n\n        //Unregister for activity recognition\n        ActivityRecognition.ActivityRecognitionApi.removeActivityUpdates(apiClient, PendingIntent.getBroadcast(this, 0, new Intent(this, ActivityReceiver.class), PendingIntent.FLAG_UPDATE_CURRENT));\n\n        //Disconnects api client\n        apiClient.disconnect();\n\n        //Unregister local receiver\n        localBroadcastManager.unregisterReceiver(localActivityReceiver);\n    }\n\n    @Override\n    public void onConnected(@Nullable Bundle bundle) {\n        //Only register for activity recognition if google api client has connected\n        ActivityRecognition.ActivityRecognitionApi.requestActivityUpdates(apiClient, 0, PendingIntent.getBroadcast(this, 0, new Intent(this, ActivityReceiver.class), PendingIntent.FLAG_UPDATE_CURRENT));\n    }\n\n    @Override\n    public void onConnectionSuspended(int i) {\n    }\n\n    @Override\n    public void onConnectionFailed(@NonNull ConnectionResult connectionResult) {\n\n    }\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550456037412,
        "id": "427ab233-a6f5-4e06-bf7e-d2c4430ab0b3",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550456037412,
        "parent_id": "a4571986-44b2-4822-b054-18773a5e3bc8",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "ActivityReceiver",
              [
                [
                  "b"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "ActivityReceiver",
            "AttrFlags": 1
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550456037412,
        "id": "3f65ed0b-680d-4124-983b-ce81501a0a31",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550456037412,
        "parent_id": "a4571986-44b2-4822-b054-18773a5e3bc8",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "public class ActivityReceiver extends BroadcastReceiver {\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        LocalBroadcastManager.getInstance(context).sendBroadcast(intent.setAction(\"activity\"));\n    }\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "public class ActivityReceiver extends BroadcastReceiver {\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        LocalBroadcastManager.getInstance(context).sendBroadcast(intent.setAction(\"activity\"));\n    }\n}",
        "code_language": "Plain Text"
      }
    ],
    "title": "010 Google Play ActivityRecognitionAPI"
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 18
    }
  ],
  "Tables": null
}