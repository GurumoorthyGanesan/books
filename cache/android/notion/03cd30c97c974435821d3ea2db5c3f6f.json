{
  "ID": "03cd30c9-7c97-4435-821d-3ea2db5c3f6f",
  "Root": {
    "alive": true,
    "content": [
      "6aac34a2-05dd-4fd8-8bdf-cd4cba739ee5",
      "60fa5291-8491-46c8-8df0-576d05591b4a",
      "d6149888-91a6-4677-af60-49260aac3c13",
      "8c534f9a-3599-435d-b275-1aa835bebc3b",
      "55fb870c-8d09-41be-bc9b-fb15a425bb36",
      "24663efa-c796-49fd-b150-91225b22dc44",
      "7dd20a4f-7521-450b-b426-95ed9b2cf9d7",
      "267b585c-c4e7-4a2a-bb1f-7bc48a5c4d24"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1550456340989,
    "format": {
      "page_full_width": true,
      "page_small_text": true
    },
    "id": "03cd30c9-7c97-4435-821d-3ea2db5c3f6f",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1550456340989,
    "parent_id": "e64074c1-1af7-4c9b-b712-3fc5e62da994",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "Using a Gatt Server"
        ]
      ]
    },
    "type": "page",
    "version": 3,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550456340986,
        "id": "6aac34a2-05dd-4fd8-8bdf-cd4cba739ee5",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550456340986,
        "parent_id": "03cd30c9-7c97-4435-821d-3ea2db5c3f6f",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "In order for your device to act as a peripheral, first you need to open a "
            ],
            [
              "BluetoothGattServer",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " and populate it with at least one "
            ],
            [
              "BluetoothGattService",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " and one "
            ],
            [
              "BluetoothGattCharacteristic",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ":"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "In order for your device to act as a peripheral, first you need to open a "
          },
          {
            "Text": "BluetoothGattServer",
            "AttrFlags": 2
          },
          {
            "Text": " and populate it with at least one "
          },
          {
            "Text": "BluetoothGattService",
            "AttrFlags": 2
          },
          {
            "Text": " and one "
          },
          {
            "Text": "BluetoothGattCharacteristic",
            "AttrFlags": 2
          },
          {
            "Text": ":"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550456340988,
        "id": "60fa5291-8491-46c8-8df0-576d05591b4a",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550456340988,
        "parent_id": "03cd30c9-7c97-4435-821d-3ea2db5c3f6f",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "BluetoothGattServer server=bluetoothManager.openGattServer(context, bluetoothGattServerCallback);\n\nBluetoothGattService service = new BluetoothGattService(SERVICE_UUID, BluetoothGattService.SERVICE_TYPE_PRIMARY);"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "BluetoothGattServer server=bluetoothManager.openGattServer(context, bluetoothGattServerCallback);\n\nBluetoothGattService service = new BluetoothGattService(SERVICE_UUID, BluetoothGattService.SERVICE_TYPE_PRIMARY);",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550456340989,
        "id": "d6149888-91a6-4677-af60-49260aac3c13",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550456340989,
        "parent_id": "03cd30c9-7c97-4435-821d-3ea2db5c3f6f",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "This is an example of a BluetoothGattCharacteristic with full write,read and notify permissions. According to your needs, you might want to fine tune the permissions that you grant this characteristic:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "This is an example of a BluetoothGattCharacteristic with full write,read and notify permissions. According to your needs, you might want to fine tune the permissions that you grant this characteristic:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550456340989,
        "id": "8c534f9a-3599-435d-b275-1aa835bebc3b",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550456340989,
        "parent_id": "03cd30c9-7c97-4435-821d-3ea2db5c3f6f",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "BluetoothGattCharacteristic characteristic = new BluetoothGattCharacteristic(CHARACTERISTIC_UUID,\n                    BluetoothGattCharacteristic.PROPERTY_READ | BluetoothGattCharacteristic.PROPERTY_WRITE |\n                            BluetoothGattCharacteristic.PROPERTY_NOTIFY,\n                    BluetoothGattCharacteristic.PERMISSION_READ | BluetoothGattCharacteristic.PERMISSION_WRITE);\n\ncharacteristic.addDescriptor(new BluetoothGattDescriptor(UUID.fromString(\"00002902-0000-1000-8000-00805f9b34fb\"), BluetoothGattCharacteristic.PERMISSION_WRITE));\n\nservice.addCharacteristic(characteristic);\n\nserver.addService(service);"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "BluetoothGattCharacteristic characteristic = new BluetoothGattCharacteristic(CHARACTERISTIC_UUID,\n                    BluetoothGattCharacteristic.PROPERTY_READ | BluetoothGattCharacteristic.PROPERTY_WRITE |\n                            BluetoothGattCharacteristic.PROPERTY_NOTIFY,\n                    BluetoothGattCharacteristic.PERMISSION_READ | BluetoothGattCharacteristic.PERMISSION_WRITE);\n\ncharacteristic.addDescriptor(new BluetoothGattDescriptor(UUID.fromString(\"00002902-0000-1000-8000-00805f9b34fb\"), BluetoothGattCharacteristic.PERMISSION_WRITE));\n\nservice.addCharacteristic(characteristic);\n\nserver.addService(service);",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550456340989,
        "id": "55fb870c-8d09-41be-bc9b-fb15a425bb36",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550456340989,
        "parent_id": "03cd30c9-7c97-4435-821d-3ea2db5c3f6f",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The "
            ],
            [
              "BluetoothGattServerCallback",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " is responsible for receiving all events related to your "
            ],
            [
              "BluetoothGattServer",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ":"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "The "
          },
          {
            "Text": "BluetoothGattServerCallback",
            "AttrFlags": 2
          },
          {
            "Text": " is responsible for receiving all events related to your "
          },
          {
            "Text": "BluetoothGattServer",
            "AttrFlags": 2
          },
          {
            "Text": ":"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550456340989,
        "id": "24663efa-c796-49fd-b150-91225b22dc44",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550456340989,
        "parent_id": "03cd30c9-7c97-4435-821d-3ea2db5c3f6f",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "BluetoothGattServerCallback bluetoothGattServerCallback= new BluetoothGattServerCallback() {\n                @Override\n                public void onConnectionStateChange(BluetoothDevice device, int status, int newState) {\n                    super.onConnectionStateChange(device, status, newState);\n                }\n\n                @Override\n                public void onCharacteristicReadRequest(BluetoothDevice device, int requestId, int offset, BluetoothGattCharacteristic characteristic) {\n                    super.onCharacteristicReadRequest(device, requestId, offset, characteristic);\n                }\n\n                @Override\n                public void onCharacteristicWriteRequest(BluetoothDevice device, int requestId, BluetoothGattCharacteristic characteristic, boolean preparedWrite, boolean responseNeeded, int offset, byte[] value) {\n                    super.onCharacteristicWriteRequest(device, requestId, characteristic, preparedWrite, responseNeeded, offset, value);\n                }\n\n                @Override\n                public void onDescriptorReadRequest(BluetoothDevice device, int requestId, int offset, BluetoothGattDescriptor descriptor) {\n                    super.onDescriptorReadRequest(device, requestId, offset, descriptor);\n                }\n\n                @Override\n                public void onDescriptorWriteRequest(BluetoothDevice device, int requestId, BluetoothGattDescriptor descriptor, boolean preparedWrite, boolean responseNeeded, int offset, byte[] value) {\n                    super.onDescriptorWriteRequest(device, requestId, descriptor, preparedWrite, responseNeeded, offset, value);\n                }"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "BluetoothGattServerCallback bluetoothGattServerCallback= new BluetoothGattServerCallback() {\n                @Override\n                public void onConnectionStateChange(BluetoothDevice device, int status, int newState) {\n                    super.onConnectionStateChange(device, status, newState);\n                }\n\n                @Override\n                public void onCharacteristicReadRequest(BluetoothDevice device, int requestId, int offset, BluetoothGattCharacteristic characteristic) {\n                    super.onCharacteristicReadRequest(device, requestId, offset, characteristic);\n                }\n\n                @Override\n                public void onCharacteristicWriteRequest(BluetoothDevice device, int requestId, BluetoothGattCharacteristic characteristic, boolean preparedWrite, boolean responseNeeded, int offset, byte[] value) {\n                    super.onCharacteristicWriteRequest(device, requestId, characteristic, preparedWrite, responseNeeded, offset, value);\n                }\n\n                @Override\n                public void onDescriptorReadRequest(BluetoothDevice device, int requestId, int offset, BluetoothGattDescriptor descriptor) {\n                    super.onDescriptorReadRequest(device, requestId, offset, descriptor);\n                }\n\n                @Override\n                public void onDescriptorWriteRequest(BluetoothDevice device, int requestId, BluetoothGattDescriptor descriptor, boolean preparedWrite, boolean responseNeeded, int offset, byte[] value) {\n                    super.onDescriptorWriteRequest(device, requestId, descriptor, preparedWrite, responseNeeded, offset, value);\n                }",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550456340989,
        "id": "7dd20a4f-7521-450b-b426-95ed9b2cf9d7",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550456340989,
        "parent_id": "03cd30c9-7c97-4435-821d-3ea2db5c3f6f",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Whenever you receive a request for a write/read to a characteristic or descriptor you must send a response to it in order for the request to be completed succesfully :"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Whenever you receive a request for a write/read to a characteristic or descriptor you must send a response to it in order for the request to be completed succesfully :"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550456340989,
        "id": "267b585c-c4e7-4a2a-bb1f-7bc48a5c4d24",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550456340989,
        "parent_id": "03cd30c9-7c97-4435-821d-3ea2db5c3f6f",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "@Override\n public void onCharacteristicReadRequest(BluetoothDevice device, int requestId, int offset, BluetoothGattCharacteristic characteristic) {\n    super.onCharacteristicReadRequest(device, requestId, offset, characteristic);\n    server.sendResponse(device, requestId, BluetoothGatt.GATT_SUCCESS, offset, YOUR_RESPONSE);\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "@Override\n public void onCharacteristicReadRequest(BluetoothDevice device, int requestId, int offset, BluetoothGattCharacteristic characteristic) {\n    super.onCharacteristicReadRequest(device, requestId, offset, characteristic);\n    server.sendResponse(device, requestId, BluetoothGatt.GATT_SUCCESS, offset, YOUR_RESPONSE);\n}",
        "code_language": "Plain Text"
      }
    ],
    "title": "Using a Gatt Server",
    "format_page": {
      "page_cover": "",
      "page_cover_position": 0,
      "page_font": "",
      "page_full_width": true,
      "page_icon": "",
      "page_small_text": true
    }
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 18
    }
  ],
  "Tables": null
}