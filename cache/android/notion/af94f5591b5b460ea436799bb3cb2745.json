{
  "ID": "af94f559-1b5b-460e-a436-799bb3cb2745",
  "Root": {
    "alive": true,
    "content": [
      "39380e57-3c25-429b-9380-6cfa2cc2e905",
      "692f9f24-52ee-414b-b8c1-4f446f9408d3",
      "354ed4ca-7e8e-409f-8f37-80c5b4ead500",
      "516aef7a-6505-4eae-a705-4692430c5cf6",
      "afb9ffa0-cdf6-4a29-87ed-d0cb1e854301",
      "786623ef-3bf8-40a0-8871-c3b32174223c",
      "94dd1673-7093-48ae-8be1-fbc33af917ea",
      "419588be-fe29-46af-8667-569384dda350",
      "83e65a39-de01-4ee3-916b-02bdf3cd0155",
      "15e6c5e5-9a90-4a6d-9261-94f502ee7ab7",
      "d8e76570-6229-4194-a125-14e31c461c40",
      "e52c0518-ea21-44ef-9e73-8d23727b4d7b",
      "d09bd9af-9723-49ab-a25b-e986a40b80db",
      "229fbef3-33a6-4fcb-b9ce-3933c6d2d580",
      "9d6b2ed4-a548-4a42-924c-b1962ffdd79b",
      "8e45a53c-8f85-4401-b655-c86efafd0e99",
      "11f6a5fb-52e6-4fa4-a683-d1f030704961"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1550451646027,
    "format": {
      "page_full_width": true,
      "page_small_text": true
    },
    "id": "af94f559-1b5b-460e-a436-799bb3cb2745",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1551733699044,
    "parent_id": "3d365296-5561-464b-9301-04d4f320fea9",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "Retrieving data from firebase"
        ]
      ]
    },
    "type": "page",
    "version": 5,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550451646023,
        "id": "39380e57-3c25-429b-9380-6cfa2cc2e905",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550451646023,
        "parent_id": "af94f559-1b5b-460e-a436-799bb3cb2745",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "I am gonna assume you already know about adding gradle dependencies firebase in android studio. If you don’t just follow the guide from "
            ],
            [
              "here",
              [
                [
                  "a",
                  "https://firebase.google.com/"
                ]
              ]
            ],
            [
              ". Add your app in firebase console, gradle sync android studio after adding dependencies. All dependencies are not needed just firebase database and firebase auth."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "I am gonna assume you already know about adding gradle dependencies firebase in android studio. If you don’t just follow the guide from "
          },
          {
            "Text": "here",
            "Link": "https://firebase.google.com/"
          },
          {
            "Text": ". Add your app in firebase console, gradle sync android studio after adding dependencies. All dependencies are not needed just firebase database and firebase auth."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550451646023,
        "id": "692f9f24-52ee-414b-b8c1-4f446f9408d3",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550451646023,
        "parent_id": "af94f559-1b5b-460e-a436-799bb3cb2745",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Now that we know how data is stored and how to add gradle dependencies let’s see how to use the imported firebase android SDK to retrieve data."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Now that we know how data is stored and how to add gradle dependencies let’s see how to use the imported firebase android SDK to retrieve data."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550451646023,
        "id": "354ed4ca-7e8e-409f-8f37-80c5b4ead500",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550451646023,
        "parent_id": "af94f559-1b5b-460e-a436-799bb3cb2745",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "create a firebase database reference"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "create a firebase database reference"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550451646023,
        "id": "516aef7a-6505-4eae-a705-4692430c5cf6",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550451646023,
        "parent_id": "af94f559-1b5b-460e-a436-799bb3cb2745",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "DatabaseReference userDBRef = FirebaseDatabase.getInstance().getReference();\n// above statement point to base tree\nuserDBRef = DatabaseReference.getInstance().getReference().child(\"user_base\")\n// points to user_base table JSON (see previous section)"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "DatabaseReference userDBRef = FirebaseDatabase.getInstance().getReference();\n// above statement point to base tree\nuserDBRef = DatabaseReference.getInstance().getReference().child(\"user_base\")\n// points to user_base table JSON (see previous section)",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550451646023,
        "id": "afb9ffa0-cdf6-4a29-87ed-d0cb1e854301",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550451646023,
        "parent_id": "af94f559-1b5b-460e-a436-799bb3cb2745",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "from here you can chain multiple child() method calls to point to the data you are interested in. For example if data is stored as depicted in previous section and you want to point to Bruce Wayne user you can use:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "from here you can chain multiple child() method calls to point to the data you are interested in. For example if data is stored as depicted in previous section and you want to point to Bruce Wayne user you can use:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550451646023,
        "id": "786623ef-3bf8-40a0-8871-c3b32174223c",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550451646023,
        "parent_id": "af94f559-1b5b-460e-a436-799bb3cb2745",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "DatabaseReference bruceWayneRef = userDBRef.child(\"371298\");\n// 371298 is key of bruce wayne user in JSON structure (previous section)"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "DatabaseReference bruceWayneRef = userDBRef.child(\"371298\");\n// 371298 is key of bruce wayne user in JSON structure (previous section)",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550451646023,
        "id": "94dd1673-7093-48ae-8be1-fbc33af917ea",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550451646023,
        "parent_id": "af94f559-1b5b-460e-a436-799bb3cb2745",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Or simply pass the whole reference to the JSON object:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Or simply pass the whole reference to the JSON object:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550451646023,
        "id": "419588be-fe29-46af-8667-569384dda350",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550451646023,
        "parent_id": "af94f559-1b5b-460e-a436-799bb3cb2745",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "DatabaseReference bruceWayneRef = DatabaseReference.getInstance().getReference()\n     .child(\"user_base/371298\");\n// deeply nested data can also be referenced this way, just put the fully\n// qualified path in pattern shown in above code \"blah/blah1/blah1-2/blah1-2-3...\""
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "DatabaseReference bruceWayneRef = DatabaseReference.getInstance().getReference()\n     .child(\"user_base/371298\");\n// deeply nested data can also be referenced this way, just put the fully\n// qualified path in pattern shown in above code \"blah/blah1/blah1-2/blah1-2-3...\"",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550451646024,
        "id": "83e65a39-de01-4ee3-916b-02bdf3cd0155",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550451646024,
        "parent_id": "af94f559-1b5b-460e-a436-799bb3cb2745",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Now that we have the reference of the data we want to fetch, we can use listeners to fetch data in android apps. Unlike the traditional calls where you fire REST API calls using retrofit or volley, here a simple callback listener is required to get the data. Firebase sdk calls the callback methods and you are done."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Now that we have the reference of the data we want to fetch, we can use listeners to fetch data in android apps. Unlike the traditional calls where you fire REST API calls using retrofit or volley, here a simple callback listener is required to get the data. Firebase sdk calls the callback methods and you are done."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550451646025,
        "id": "15e6c5e5-9a90-4a6d-9261-94f502ee7ab7",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550451646025,
        "parent_id": "af94f559-1b5b-460e-a436-799bb3cb2745",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "There are basically two types of listeners you can attach, one is "
            ],
            [
              "ValueEventListener",
              [
                [
                  "a",
                  "https://firebase.google.com/docs/reference/android/com/google/firebase/database/ValueEventListener"
                ]
              ]
            ],
            [
              " and the other one is "
            ],
            [
              "ChildEventListener",
              [
                [
                  "a",
                  "https://firebase.google.com/docs/reference/android/com/google/firebase/database/ChildEventListener"
                ]
              ]
            ],
            [
              " (described in next section). For any change in data under the node we have references and added listeners to, value event listeners return the entire JSON structure and child event listener returns specific child where the change has happened. Both of these are useful in their own way. To fetch the data from firebase we can add one or more listeners to a firebase database reference (list userDBRef we created earlier)."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "There are basically two types of listeners you can attach, one is "
          },
          {
            "Text": "ValueEventListener",
            "Link": "https://firebase.google.com/docs/reference/android/com/google/firebase/database/ValueEventListener"
          },
          {
            "Text": " and the other one is "
          },
          {
            "Text": "ChildEventListener",
            "Link": "https://firebase.google.com/docs/reference/android/com/google/firebase/database/ChildEventListener"
          },
          {
            "Text": " (described in next section). For any change in data under the node we have references and added listeners to, value event listeners return the entire JSON structure and child event listener returns specific child where the change has happened. Both of these are useful in their own way. To fetch the data from firebase we can add one or more listeners to a firebase database reference (list userDBRef we created earlier)."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550451646026,
        "id": "d8e76570-6229-4194-a125-14e31c461c40",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550451646026,
        "parent_id": "af94f559-1b5b-460e-a436-799bb3cb2745",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Here is some sample code (code explanation after code):"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Here is some sample code (code explanation after code):"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550451646026,
        "id": "e52c0518-ea21-44ef-9e73-8d23727b4d7b",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550451646026,
        "parent_id": "af94f559-1b5b-460e-a436-799bb3cb2745",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "userDBRef.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(DataSnapshot dataSnapshot) {\n        User bruceWayne = dataSnapshot.child(\"371298\").getValue(User.class);\n        // Do something with the retrieved data or Bruce Wayne\n    }\n\n    @Override\n    public void onCancelled(DatabaseError databaseError) {\n        Log.e(\"UserListActivity\", \"Error occured\");\n        // Do something about the error\n    });"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "userDBRef.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(DataSnapshot dataSnapshot) {\n        User bruceWayne = dataSnapshot.child(\"371298\").getValue(User.class);\n        // Do something with the retrieved data or Bruce Wayne\n    }\n\n    @Override\n    public void onCancelled(DatabaseError databaseError) {\n        Log.e(\"UserListActivity\", \"Error occured\");\n        // Do something about the error\n    });",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550451646026,
        "id": "d09bd9af-9723-49ab-a25b-e986a40b80db",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550451646026,
        "parent_id": "af94f559-1b5b-460e-a436-799bb3cb2745",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Did you notice the Class type passed. "
            ],
            [
              "DataSnapshot",
              [
                [
                  "a",
                  "https://www.firebase.com/docs/java-api/javadoc/com/firebase/client/DataSnapshot.html"
                ]
              ]
            ],
            [
              " can convert JSON data into our defined POJOs, simple pass the right class type."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Did you notice the Class type passed. "
          },
          {
            "Text": "DataSnapshot",
            "Link": "https://www.firebase.com/docs/java-api/javadoc/com/firebase/client/DataSnapshot.html"
          },
          {
            "Text": " can convert JSON data into our defined POJOs, simple pass the right class type."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550451646026,
        "id": "229fbef3-33a6-4fcb-b9ce-3933c6d2d580",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550451646026,
        "parent_id": "af94f559-1b5b-460e-a436-799bb3cb2745",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "If your use case does not require the entire data (in our case user_base table) every time some little change occurs or say you want to "
            ],
            [
              "fetch the data only once",
              [
                [
                  "b"
                ],
                [
                  "i"
                ]
              ]
            ],
            [
              ", you can use "
            ],
            [
              "addListenerForSingleValueEvent()",
              [
                [
                  "b"
                ],
                [
                  "i"
                ]
              ]
            ],
            [
              " method of Database reference. This fires the callback only once."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "If your use case does not require the entire data (in our case user_base table) every time some little change occurs or say you want to "
          },
          {
            "Text": "fetch the data only once",
            "AttrFlags": 5
          },
          {
            "Text": ", you can use "
          },
          {
            "Text": "addListenerForSingleValueEvent()",
            "AttrFlags": 5
          },
          {
            "Text": " method of Database reference. This fires the callback only once."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550451646026,
        "id": "9d6b2ed4-a548-4a42-924c-b1962ffdd79b",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550451646026,
        "parent_id": "af94f559-1b5b-460e-a436-799bb3cb2745",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "userDBRef.addListenerForSingleValueEvent(new ValueEventListener() {\n    @Override\n    public void onDataChange(DataSnapshot dataSnapshot) {\n        // Do something\n    }\n\n    @Override\n    public void onCancelled(DatabaseError databaseError) {\n        // Do something about the error\n    });"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "userDBRef.addListenerForSingleValueEvent(new ValueEventListener() {\n    @Override\n    public void onDataChange(DataSnapshot dataSnapshot) {\n        // Do something\n    }\n\n    @Override\n    public void onCancelled(DatabaseError databaseError) {\n        // Do something about the error\n    });",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550451646027,
        "id": "8e45a53c-8f85-4401-b655-c86efafd0e99",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550451646027,
        "parent_id": "af94f559-1b5b-460e-a436-799bb3cb2745",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Above samples will give you the value of the JSON node. To get the key simply call:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Above samples will give you the value of the JSON node. To get the key simply call:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550451646027,
        "id": "11f6a5fb-52e6-4fa4-a683-d1f030704961",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550451646027,
        "parent_id": "af94f559-1b5b-460e-a436-799bb3cb2745",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "String myKey = dataSnapshot.getKey();"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "String myKey = dataSnapshot.getKey();",
        "code_language": "Plain Text"
      }
    ],
    "title": "Retrieving data from firebase",
    "format_page": {
      "page_cover": "",
      "page_cover_position": 0,
      "page_font": "",
      "page_full_width": true,
      "page_icon": "",
      "page_small_text": true
    }
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 18
    }
  ],
  "Tables": null
}