{
  "ID": "3a067c84-47e1-4fa4-9c77-2dd379e95aaa",
  "Root": {
    "alive": true,
    "content": [
      "b8329f92-c23d-46ae-bcd6-1e453eae8f08",
      "de864fbd-63eb-4c4d-9090-48c4a7d3148b",
      "61e19d6d-b353-4a95-89dc-297ce44cf1a8",
      "b3cea38c-8b7d-4543-b999-c98fda07c3ce",
      "c9b75a5d-eaaf-4a75-8100-f79859974771",
      "97809901-e17e-4cac-9d6b-da0024c311c5",
      "20d7509e-bc41-4a0c-b3a7-7989c64b568d",
      "1954fb62-e6d5-4894-a5d2-6a0879499046",
      "83487f41-2f80-4f5e-98c6-4db28391cc62",
      "10979efd-7b6d-4796-80f7-b954fcf20459",
      "d118835b-7d41-4776-925d-95e08935eb14",
      "e78e8611-1f2b-48f1-aa43-a91bfc88c23d",
      "3524eb61-4834-4240-98a2-7d36b92c49df",
      "82695930-5afc-4f17-9af9-1a88cca8879f",
      "41ecbb5c-0cc2-4763-b3c5-01b9cb5f8195",
      "cf24f816-0fa3-4793-b592-11eb407233b1",
      "315ec565-b8c2-40d8-b86d-cf21bf9b5e0f",
      "ad32ebd6-4805-4891-ae5b-45ec46eb65f4",
      "91ac6b17-b9ee-4fe9-ada7-a1850349ecad",
      "a3670a3e-da3d-49de-a1af-ac9387cd16a6",
      "202ec23a-6be8-473d-9574-911f01a3da0d"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1550450450879,
    "id": "3a067c84-47e1-4fa4-9c77-2dd379e95aaa",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1550450450879,
    "parent_id": "9b6546ec-87e7-4f0d-97af-9dd8a76e52a2",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "120 Using Gson with inheritance"
        ]
      ]
    },
    "type": "page",
    "version": 1,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450450874,
        "id": "b8329f92-c23d-46ae-bcd6-1e453eae8f08",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450450874,
        "parent_id": "3a067c84-47e1-4fa4-9c77-2dd379e95aaa",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Gson does not support inheritance out of the box."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Gson does not support inheritance out of the box."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450450876,
        "id": "de864fbd-63eb-4c4d-9090-48c4a7d3148b",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450450876,
        "parent_id": "3a067c84-47e1-4fa4-9c77-2dd379e95aaa",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Let’s say we have the following class hierarchy:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Let’s say we have the following class hierarchy:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450450877,
        "id": "61e19d6d-b353-4a95-89dc-297ce44cf1a8",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450450877,
        "parent_id": "3a067c84-47e1-4fa4-9c77-2dd379e95aaa",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "public class BaseClass {\n    int a;\n \n    public int getInt() {\n        return a;\n   }\n}\n \npublic class DerivedClass1 extends BaseClass {\n     int b;\n \n     @Override\n     public int getInt() {\n         return b;\n     }\n }\n \npublic class DerivedClass2 extends BaseClass {\n    int c;\n \n    @Override\n    public int getInt() {\n        return c;\n    }\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "public class BaseClass {\n    int a;\n \n    public int getInt() {\n        return a;\n   }\n}\n \npublic class DerivedClass1 extends BaseClass {\n     int b;\n \n     @Override\n     public int getInt() {\n         return b;\n     }\n }\n \npublic class DerivedClass2 extends BaseClass {\n    int c;\n \n    @Override\n    public int getInt() {\n        return c;\n    }\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450450877,
        "id": "b3cea38c-8b7d-4543-b999-c98fda07c3ce",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450450877,
        "parent_id": "3a067c84-47e1-4fa4-9c77-2dd379e95aaa",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "And now we want to serialize an instance of "
            ],
            [
              "DerivedClass1",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " to a JSON string"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "And now we want to serialize an instance of "
          },
          {
            "Text": "DerivedClass1",
            "AttrFlags": 2
          },
          {
            "Text": " to a JSON string"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450450877,
        "id": "c9b75a5d-eaaf-4a75-8100-f79859974771",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450450877,
        "parent_id": "3a067c84-47e1-4fa4-9c77-2dd379e95aaa",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "DerivedClass1 derivedClass1 = new DerivedClass1();\nderivedClass1.b = 5;\nderivedClass1.a = 10;\n \nGson gson = new Gson();\nString derivedClass1Json = gson.toJson(derivedClass1);"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "DerivedClass1 derivedClass1 = new DerivedClass1();\nderivedClass1.b = 5;\nderivedClass1.a = 10;\n \nGson gson = new Gson();\nString derivedClass1Json = gson.toJson(derivedClass1);",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450450877,
        "id": "97809901-e17e-4cac-9d6b-da0024c311c5",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450450877,
        "parent_id": "3a067c84-47e1-4fa4-9c77-2dd379e95aaa",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Now, in another place, we receive this json string and want to deserialize it - but in compile time we only know it is supposed to be an instance of "
            ],
            [
              "BaseClass",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ":"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Now, in another place, we receive this json string and want to deserialize it - but in compile time we only know it is supposed to be an instance of "
          },
          {
            "Text": "BaseClass",
            "AttrFlags": 2
          },
          {
            "Text": ":"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450450877,
        "id": "20d7509e-bc41-4a0c-b3a7-7989c64b568d",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450450877,
        "parent_id": "3a067c84-47e1-4fa4-9c77-2dd379e95aaa",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "BaseClass maybeDerivedClass1 = gson.fromJson(derivedClass1Json, BaseClass.class);\nSystem.out.println(maybeDerivedClass1.getInt());"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "BaseClass maybeDerivedClass1 = gson.fromJson(derivedClass1Json, BaseClass.class);\nSystem.out.println(maybeDerivedClass1.getInt());",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450450877,
        "id": "1954fb62-e6d5-4894-a5d2-6a0879499046",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450450877,
        "parent_id": "3a067c84-47e1-4fa4-9c77-2dd379e95aaa",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "But GSON does not know "
            ],
            [
              "derivedClass1Json",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " was originally an instance of "
            ],
            [
              "DerivedClass1",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ", so this will print out 10."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "But GSON does not know "
          },
          {
            "Text": "derivedClass1Json",
            "AttrFlags": 2
          },
          {
            "Text": " was originally an instance of "
          },
          {
            "Text": "DerivedClass1",
            "AttrFlags": 2
          },
          {
            "Text": ", so this will print out 10."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450450878,
        "id": "83487f41-2f80-4f5e-98c6-4db28391cc62",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450450878,
        "parent_id": "3a067c84-47e1-4fa4-9c77-2dd379e95aaa",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "How to solve this?",
              [
                [
                  "b"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "How to solve this?",
            "AttrFlags": 1
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450450878,
        "id": "10979efd-7b6d-4796-80f7-b954fcf20459",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450450878,
        "parent_id": "3a067c84-47e1-4fa4-9c77-2dd379e95aaa",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "You need to build your own "
            ],
            [
              "JsonDeserializer",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ", that handles such cases. The solution is not perfectly clean, but I could not come up with a better one."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "You need to build your own "
          },
          {
            "Text": "JsonDeserializer",
            "AttrFlags": 2
          },
          {
            "Text": ", that handles such cases. The solution is not perfectly clean, but I could not come up with a better one."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450450878,
        "id": "d118835b-7d41-4776-925d-95e08935eb14",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450450878,
        "parent_id": "3a067c84-47e1-4fa4-9c77-2dd379e95aaa",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "First, add the following field to your base class"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "First, add the following field to your base class"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450450878,
        "id": "e78e8611-1f2b-48f1-aa43-a91bfc88c23d",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450450878,
        "parent_id": "3a067c84-47e1-4fa4-9c77-2dd379e95aaa",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "@SerializedName(\"type\")\nprivate String typeName;"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "@SerializedName(\"type\")\nprivate String typeName;",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450450878,
        "id": "3524eb61-4834-4240-98a2-7d36b92c49df",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450450878,
        "parent_id": "3a067c84-47e1-4fa4-9c77-2dd379e95aaa",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "And initialize it in the base class constructor"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "And initialize it in the base class constructor"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450450878,
        "id": "82695930-5afc-4f17-9af9-1a88cca8879f",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450450878,
        "parent_id": "3a067c84-47e1-4fa4-9c77-2dd379e95aaa",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "public BaseClass() {\n   typeName = getClass().getName();\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "public BaseClass() {\n   typeName = getClass().getName();\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450450878,
        "id": "41ecbb5c-0cc2-4763-b3c5-01b9cb5f8195",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450450878,
        "parent_id": "3a067c84-47e1-4fa4-9c77-2dd379e95aaa",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Now add the following class:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Now add the following class:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450450878,
        "id": "cf24f816-0fa3-4793-b592-11eb407233b1",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450450878,
        "parent_id": "3a067c84-47e1-4fa4-9c77-2dd379e95aaa",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "public class JsonDeserializerWithInheritance\u003cT\u003e implements JsonDeserializer\u003cT\u003e {\n \n @Override\n public T deserialize(\n     JsonElement json, Type typeOfT, JsonDeserializationContext context)\n     throws JsonParseException {\n     JsonObject jsonObject = json.getAsJsonObject();\n     JsonPrimitive classNamePrimitive = (JsonPrimitive) jsonObject.get(\"type\");\n \n     String className = classNamePrimitive.getAsString();\n \n     Class\u003c?\u003e clazz;\n     try {\n     clazz = Class.forName(className);\n     } catch (ClassNotFoundException e) {\n     throw new JsonParseException(e.getMessage());\n     }\n     return context.deserialize(jsonObject, clazz);\n }\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "public class JsonDeserializerWithInheritance\u003cT\u003e implements JsonDeserializer\u003cT\u003e {\n \n @Override\n public T deserialize(\n     JsonElement json, Type typeOfT, JsonDeserializationContext context)\n     throws JsonParseException {\n     JsonObject jsonObject = json.getAsJsonObject();\n     JsonPrimitive classNamePrimitive = (JsonPrimitive) jsonObject.get(\"type\");\n \n     String className = classNamePrimitive.getAsString();\n \n     Class\u003c?\u003e clazz;\n     try {\n     clazz = Class.forName(className);\n     } catch (ClassNotFoundException e) {\n     throw new JsonParseException(e.getMessage());\n     }\n     return context.deserialize(jsonObject, clazz);\n }\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450450879,
        "id": "315ec565-b8c2-40d8-b86d-cf21bf9b5e0f",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450450879,
        "parent_id": "3a067c84-47e1-4fa4-9c77-2dd379e95aaa",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "All there is left to do is hook everything up -"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "All there is left to do is hook everything up -"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450450879,
        "id": "ad32ebd6-4805-4891-ae5b-45ec46eb65f4",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450450879,
        "parent_id": "3a067c84-47e1-4fa4-9c77-2dd379e95aaa",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "GsonBuilder builder = new GsonBuilder();\n builder\n .registerTypeAdapter(BaseClass.class, new JsonDeserializerWithInheritance\u003cBaseClass\u003e());\n Gson gson = builder.create();"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "GsonBuilder builder = new GsonBuilder();\n builder\n .registerTypeAdapter(BaseClass.class, new JsonDeserializerWithInheritance\u003cBaseClass\u003e());\n Gson gson = builder.create();",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450450879,
        "id": "91ac6b17-b9ee-4fe9-ada7-a1850349ecad",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450450879,
        "parent_id": "3a067c84-47e1-4fa4-9c77-2dd379e95aaa",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "And now, running the following code-"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "And now, running the following code-"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450450879,
        "id": "a3670a3e-da3d-49de-a1af-ac9387cd16a6",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450450879,
        "parent_id": "3a067c84-47e1-4fa4-9c77-2dd379e95aaa",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "DerivedClass1 derivedClass1 = new DerivedClass1();\nderivedClass1.b = 5;\nderivedClass1.a = 10;\nString derivedClass1Json = gson.toJson(derivedClass1);\n\nBaseClass maybeDerivedClass1 = gson.fromJson(derivedClass1Json, BaseClass.class);\nSystem.out.println(maybeDerivedClass1.getInt());"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "DerivedClass1 derivedClass1 = new DerivedClass1();\nderivedClass1.b = 5;\nderivedClass1.a = 10;\nString derivedClass1Json = gson.toJson(derivedClass1);\n\nBaseClass maybeDerivedClass1 = gson.fromJson(derivedClass1Json, BaseClass.class);\nSystem.out.println(maybeDerivedClass1.getInt());",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450450879,
        "id": "202ec23a-6be8-473d-9574-911f01a3da0d",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450450879,
        "parent_id": "3a067c84-47e1-4fa4-9c77-2dd379e95aaa",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Will print out 5."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Will print out 5."
          }
        ]
      }
    ],
    "title": "120 Using Gson with inheritance"
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 18
    }
  ],
  "Tables": null
}