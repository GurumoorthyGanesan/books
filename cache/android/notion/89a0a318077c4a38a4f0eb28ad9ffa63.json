{
  "ID": "89a0a318-077c-4a38-a4f0-eb28ad9ffa63",
  "Root": {
    "alive": true,
    "content": [
      "d23b577f-b86c-4cb4-83e6-86443be92100",
      "10b1e482-5e30-42cd-a9c3-e4c112c7b047",
      "a41de8cc-96b8-4baf-adaf-f50a313ba3a6",
      "66f33480-8c40-49c9-832a-dd7734d5bcf8",
      "3b8604e2-3ed5-48da-9929-4f8e1a345147",
      "f38b82ca-20e5-4bbd-8a6c-813421b1fded",
      "580367ff-d5e6-4c7d-bf0c-ac6bb4b6a1f4",
      "40f5d496-7731-42a3-a256-f9aa22cfcfb9"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1550451286720,
    "id": "89a0a318-077c-4a38-a4f0-eb28ad9ffa63",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1550451286720,
    "parent_id": "ded10fc3-bae1-4c26-8166-2d92cbfe0f49",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "010 Appcompat SearchView with RxBindings watcher"
        ]
      ]
    },
    "type": "page",
    "version": 1,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550451286716,
        "id": "d23b577f-b86c-4cb4-83e6-86443be92100",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550451286716,
        "parent_id": "89a0a318-077c-4a38-a4f0-eb28ad9ffa63",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "build.gradle",
              [
                [
                  "b"
                ]
              ]
            ],
            [
              ":"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "build.gradle",
            "AttrFlags": 1
          },
          {
            "Text": ":"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550451286719,
        "id": "10b1e482-5e30-42cd-a9c3-e4c112c7b047",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550451286719,
        "parent_id": "89a0a318-077c-4a38-a4f0-eb28ad9ffa63",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "dependencies {\n    compile 'com.android.support:appcompat-v7:23.3.0'\n    compile 'com.jakewharton.rxbinding:rxbinding-appcompat-v7:0.4.0'\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "dependencies {\n    compile 'com.android.support:appcompat-v7:23.3.0'\n    compile 'com.jakewharton.rxbinding:rxbinding-appcompat-v7:0.4.0'\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550451286719,
        "id": "a41de8cc-96b8-4baf-adaf-f50a313ba3a6",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550451286719,
        "parent_id": "89a0a318-077c-4a38-a4f0-eb28ad9ffa63",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "menu/menu.xml",
              [
                [
                  "b"
                ]
              ]
            ],
            [
              ":"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "menu/menu.xml",
            "AttrFlags": 1
          },
          {
            "Text": ":"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550451286719,
        "id": "66f33480-8c40-49c9-832a-dd7734d5bcf8",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550451286719,
        "parent_id": "89a0a318-077c-4a38-a4f0-eb28ad9ffa63",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "\u003cmenu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\u003e\n\n    \u003citem android:id=\"@+id/action_search\" android:title=\"Search\"\n        android:icon=\"@android:drawable/ic_menu_search\"\n        app:actionViewClass=\"android.support.v7.widget.SearchView\" \n        app:showAsAction=\"always\"/\u003e\n\u003c/menu\u003e"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "\u003cmenu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\u003e\n\n    \u003citem android:id=\"@+id/action_search\" android:title=\"Search\"\n        android:icon=\"@android:drawable/ic_menu_search\"\n        app:actionViewClass=\"android.support.v7.widget.SearchView\" \n        app:showAsAction=\"always\"/\u003e\n\u003c/menu\u003e",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550451286720,
        "id": "3b8604e2-3ed5-48da-9929-4f8e1a345147",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550451286720,
        "parent_id": "89a0a318-077c-4a38-a4f0-eb28ad9ffa63",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "MainActivity.java",
              [
                [
                  "b"
                ]
              ]
            ],
            [
              ":"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "MainActivity.java",
            "AttrFlags": 1
          },
          {
            "Text": ":"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550451286720,
        "id": "f38b82ca-20e5-4bbd-8a6c-813421b1fded",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550451286720,
        "parent_id": "89a0a318-077c-4a38-a4f0-eb28ad9ffa63",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    MenuInflater inflater = getMenuInflater();\n    inflater.inflate(R.menu.menu, menu);\n\n    MenuItem searchMenuItem = menu.findItem(R.id.action_search);\n    setupSearchView(searchMenuItem );\n\n    return true;\n}\n\nprivate void setupSearchView(MenuItem searchMenuItem) {\n    SearchView searchView = (SearchView) searchMenuItem.getActionView();\n    searchView.setQueryHint(getString(R.string.search_hint)); // your hint here\n\n    SearchAdapter searchAdapter = new SearchAdapter(this);\n    searchView.setSuggestionsAdapter(searchAdapter);\n\n    // optional: set the letters count after which the search will begin to 1\n    // the default is 2\n    try {\n        int autoCompleteTextViewID = getResources().getIdentifier(\"android:id/search_src_text\", null, null);\n        AutoCompleteTextView searchAutoCompleteTextView = (AutoCompleteTextView) searchView.findViewById(autoCompleteTextViewID);\n        searchAutoCompleteTextView.setThreshold(1);\n    } catch (Exception e) {\n        Logs.e(TAG, \"failed to set search view letters threshold\");\n    }\n\n    searchView.setOnSearchClickListener(v -\u003e {\n        // optional actions to search view expand\n    });\n    searchView.setOnCloseListener(() -\u003e {\n        // optional actions to search view close\n        return false;\n    });\n\n    RxSearchView.queryTextChanges(searchView)\n            .doOnEach(notification -\u003e {\n                CharSequence query = (CharSequence) notification.getValue();\n                searchAdapter.filter(query);\n            })\n            .debounce(300, TimeUnit.MILLISECONDS) // to skip intermediate letters\n            .flatMap(query -\u003e MyWebService.search(query)) // make a search request\n            .retry(3)\n            .subscribe(results -\u003e {\n                searchAdapter.populateAdapter(results);\n            });\n\n    //optional: collapse the searchView on close\n    searchView.setOnQueryTextFocusChangeListener((view, queryTextFocused) -\u003e {\n        if (!queryTextFocused) {\n            collapseSearchView();\n        }\n    });\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    MenuInflater inflater = getMenuInflater();\n    inflater.inflate(R.menu.menu, menu);\n\n    MenuItem searchMenuItem = menu.findItem(R.id.action_search);\n    setupSearchView(searchMenuItem );\n\n    return true;\n}\n\nprivate void setupSearchView(MenuItem searchMenuItem) {\n    SearchView searchView = (SearchView) searchMenuItem.getActionView();\n    searchView.setQueryHint(getString(R.string.search_hint)); // your hint here\n\n    SearchAdapter searchAdapter = new SearchAdapter(this);\n    searchView.setSuggestionsAdapter(searchAdapter);\n\n    // optional: set the letters count after which the search will begin to 1\n    // the default is 2\n    try {\n        int autoCompleteTextViewID = getResources().getIdentifier(\"android:id/search_src_text\", null, null);\n        AutoCompleteTextView searchAutoCompleteTextView = (AutoCompleteTextView) searchView.findViewById(autoCompleteTextViewID);\n        searchAutoCompleteTextView.setThreshold(1);\n    } catch (Exception e) {\n        Logs.e(TAG, \"failed to set search view letters threshold\");\n    }\n\n    searchView.setOnSearchClickListener(v -\u003e {\n        // optional actions to search view expand\n    });\n    searchView.setOnCloseListener(() -\u003e {\n        // optional actions to search view close\n        return false;\n    });\n\n    RxSearchView.queryTextChanges(searchView)\n            .doOnEach(notification -\u003e {\n                CharSequence query = (CharSequence) notification.getValue();\n                searchAdapter.filter(query);\n            })\n            .debounce(300, TimeUnit.MILLISECONDS) // to skip intermediate letters\n            .flatMap(query -\u003e MyWebService.search(query)) // make a search request\n            .retry(3)\n            .subscribe(results -\u003e {\n                searchAdapter.populateAdapter(results);\n            });\n\n    //optional: collapse the searchView on close\n    searchView.setOnQueryTextFocusChangeListener((view, queryTextFocused) -\u003e {\n        if (!queryTextFocused) {\n            collapseSearchView();\n        }\n    });\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550451286720,
        "id": "580367ff-d5e6-4c7d-bf0c-ac6bb4b6a1f4",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550451286720,
        "parent_id": "89a0a318-077c-4a38-a4f0-eb28ad9ffa63",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "SearchAdapter.java",
              [
                [
                  "b"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "SearchAdapter.java",
            "AttrFlags": 1
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550451286720,
        "id": "40f5d496-7731-42a3-a256-f9aa22cfcfb9",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550451286720,
        "parent_id": "89a0a318-077c-4a38-a4f0-eb28ad9ffa63",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "public class SearchAdapter extends CursorAdapter {\n    private List\u003cSearchResult\u003e items = Collections.emptyList();\n\n    public SearchAdapter(Activity activity) {\n        super(activity, null, CursorAdapter.FLAG_REGISTER_CONTENT_OBSERVER);\n    }\n\n    public void populateAdapter(List\u003cSearchResult\u003e items) {\n        this.items = items;\n        final MatrixCursor c = new MatrixCursor(new String[]{BaseColumns._ID});\n        for (int i = 0; i \u003c items.size(); i++) {\n            c.addRow(new Object[]{i});\n        }\n        changeCursor(c);\n        notifyDataSetChanged();\n    }\n\n    public void filter(CharSequence query) {\n        final MatrixCursor c = new MatrixCursor(new String[]{BaseColumns._ID});\n        for (int i = 0; i \u003c items.size(); i++) {\n            SearchResult result = items.get(i);\n            if (result.getText().startsWith(query.toString())) {\n                c.addRow(new Object[]{i});\n            }\n        }\n        changeCursor(c);\n        notifyDataSetChanged();\n    }\n\n    @Override\n    public void bindView(View view, Context context, Cursor cursor) {\n        ViewHolder holder = (ViewHolder) view.getTag();\n        int position = cursor.getPosition();\n        if (position \u003c items.size()) {\n            SearchResult result = items.get(position);\n            // bind your view here\n        }\n    }\n\n    @Override\n    public View newView(Context context, Cursor cursor, ViewGroup parent) {\n        LayoutInflater inflater = (LayoutInflater) context\n                .getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n\n        View v = inflater.inflate(R.layout.search_list_item, parent, false);\n        ViewHolder holder = new ViewHolder(v);\n\n        v.setTag(holder);\n        return v;\n    }\n\n    private static class ViewHolder {\n        public final TextView text;\n\n        public ViewHolder(View v) {\n            this.text= (TextView) v.findViewById(R.id.text);\n        }\n    }\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "public class SearchAdapter extends CursorAdapter {\n    private List\u003cSearchResult\u003e items = Collections.emptyList();\n\n    public SearchAdapter(Activity activity) {\n        super(activity, null, CursorAdapter.FLAG_REGISTER_CONTENT_OBSERVER);\n    }\n\n    public void populateAdapter(List\u003cSearchResult\u003e items) {\n        this.items = items;\n        final MatrixCursor c = new MatrixCursor(new String[]{BaseColumns._ID});\n        for (int i = 0; i \u003c items.size(); i++) {\n            c.addRow(new Object[]{i});\n        }\n        changeCursor(c);\n        notifyDataSetChanged();\n    }\n\n    public void filter(CharSequence query) {\n        final MatrixCursor c = new MatrixCursor(new String[]{BaseColumns._ID});\n        for (int i = 0; i \u003c items.size(); i++) {\n            SearchResult result = items.get(i);\n            if (result.getText().startsWith(query.toString())) {\n                c.addRow(new Object[]{i});\n            }\n        }\n        changeCursor(c);\n        notifyDataSetChanged();\n    }\n\n    @Override\n    public void bindView(View view, Context context, Cursor cursor) {\n        ViewHolder holder = (ViewHolder) view.getTag();\n        int position = cursor.getPosition();\n        if (position \u003c items.size()) {\n            SearchResult result = items.get(position);\n            // bind your view here\n        }\n    }\n\n    @Override\n    public View newView(Context context, Cursor cursor, ViewGroup parent) {\n        LayoutInflater inflater = (LayoutInflater) context\n                .getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n\n        View v = inflater.inflate(R.layout.search_list_item, parent, false);\n        ViewHolder holder = new ViewHolder(v);\n\n        v.setTag(holder);\n        return v;\n    }\n\n    private static class ViewHolder {\n        public final TextView text;\n\n        public ViewHolder(View v) {\n            this.text= (TextView) v.findViewById(R.id.text);\n        }\n    }\n}",
        "code_language": "Plain Text"
      }
    ],
    "title": "010 Appcompat SearchView with RxBindings watcher"
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 18
    }
  ],
  "Tables": null
}