{
  "ID": "9776a50d-9ea0-432c-a523-a3a01c641f8c",
  "Root": {
    "alive": true,
    "content": [
      "db79c1c7-69fe-49d4-985c-c9785fc24282",
      "8d9fb52d-4768-4294-905f-e1ee9baa7fe9",
      "9f100252-eff6-42f6-abd3-6afcfd7da4d6",
      "b2df8e71-529a-4a77-820c-6a44f13d7464",
      "32ba83a8-70c5-4072-a6b7-44575d9b78b0",
      "a8ba1c26-881b-47ad-be1d-404876057117"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1550445352220,
    "format": {
      "page_full_width": true,
      "page_small_text": true
    },
    "id": "9776a50d-9ea0-432c-a523-a3a01c641f8c",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1551739426290,
    "parent_id": "6a6fe5f1-6362-47c6-bac7-61c76a0a464d",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "API23 Doze mode interferes with AlarmManager"
        ]
      ]
    },
    "type": "page",
    "version": 5,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445352217,
        "id": "db79c1c7-69fe-49d4-985c-c9785fc24282",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445352217,
        "parent_id": "9776a50d-9ea0-432c-a523-a3a01c641f8c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Android 6 (API23) introduced Doze mode which interferes with AlarmManager. It uses certain maintenance windows to handle alarms, so even if you used "
            ],
            [
              "setExactAndAllowWhileIdle()",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " you cannot make sure that your alarm fires at the desired point of time."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Android 6 (API23) introduced Doze mode which interferes with AlarmManager. It uses certain maintenance windows to handle alarms, so even if you used "
          },
          {
            "Text": "setExactAndAllowWhileIdle()",
            "AttrFlags": 2
          },
          {
            "Text": " you cannot make sure that your alarm fires at the desired point of time."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445352220,
        "id": "8d9fb52d-4768-4294-905f-e1ee9baa7fe9",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445352220,
        "parent_id": "9776a50d-9ea0-432c-a523-a3a01c641f8c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "You can turn this behavior off for your app using your phone’s settings ("
            ],
            [
              "Settings/General/Battery \u0026 power saving/Battery usage/Ignore optimizations",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " or similar)"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "You can turn this behavior off for your app using your phone’s settings ("
          },
          {
            "Text": "Settings/General/Battery \u0026 power saving/Battery usage/Ignore optimizations",
            "AttrFlags": 2
          },
          {
            "Text": " or similar)"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445352220,
        "id": "9f100252-eff6-42f6-abd3-6afcfd7da4d6",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445352220,
        "parent_id": "9776a50d-9ea0-432c-a523-a3a01c641f8c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Inside your app you can check this setting …"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Inside your app you can check this setting …"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445352220,
        "id": "b2df8e71-529a-4a77-820c-6a44f13d7464",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445352220,
        "parent_id": "9776a50d-9ea0-432c-a523-a3a01c641f8c",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "String packageName = getPackageName();\nPowerManager pm = (PowerManager) getSystemService(Context.POWER_SERVICE);\nif (pm.isIgnoringBatteryOptimizations(packageName)) {\n   // your app is ignoring Doze battery optimization\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "String packageName = getPackageName();\nPowerManager pm = (PowerManager) getSystemService(Context.POWER_SERVICE);\nif (pm.isIgnoringBatteryOptimizations(packageName)) {\n   // your app is ignoring Doze battery optimization\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445352220,
        "id": "32ba83a8-70c5-4072-a6b7-44575d9b78b0",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445352220,
        "parent_id": "9776a50d-9ea0-432c-a523-a3a01c641f8c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "… and eventually show the respective settings dialog:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "… and eventually show the respective settings dialog:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445352220,
        "id": "a8ba1c26-881b-47ad-be1d-404876057117",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445352220,
        "parent_id": "9776a50d-9ea0-432c-a523-a3a01c641f8c",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "Intent intent = new Intent();\nString packageName = getPackageName();\nPowerManager pm = (PowerManager) getSystemService(Context.POWER_SERVICE);\nintent.setAction(Settings.ACTION_REQUEST_IGNORE_BATTERY_OPTIMIZATIONS);\nintent.setData(Uri.parse(\"package:\" + packageName));\nstartActivity(intent);"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "Intent intent = new Intent();\nString packageName = getPackageName();\nPowerManager pm = (PowerManager) getSystemService(Context.POWER_SERVICE);\nintent.setAction(Settings.ACTION_REQUEST_IGNORE_BATTERY_OPTIMIZATIONS);\nintent.setData(Uri.parse(\"package:\" + packageName));\nstartActivity(intent);",
        "code_language": "Plain Text"
      }
    ],
    "title": "API23 Doze mode interferes with AlarmManager",
    "format_page": {
      "page_cover": "",
      "page_cover_position": 0,
      "page_font": "",
      "page_full_width": true,
      "page_icon": "",
      "page_small_text": true
    }
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 18
    }
  ],
  "Tables": null
}