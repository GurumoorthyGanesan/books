{
  "ID": "c335d2c3-fde8-4706-bc0f-43cdc5b8efc5",
  "Root": {
    "alive": true,
    "content": [
      "697ed936-d340-4d48-a948-3df8fad601a8",
      "c281a55b-1292-47bb-bfb6-7a12f6553e87",
      "ca197f5d-6a0c-4f1f-b19a-a606ce9793bb",
      "712fbaf1-70d0-4656-9192-447e830f7af0",
      "064749d8-114b-485b-9177-7e7cb307a4e7",
      "8531dcc8-3eda-4f43-9c1a-e07f475ea80b",
      "871878e0-2b93-4249-8085-c75eb66216d7",
      "26a3ef05-bc51-4c34-a3c5-9e35884d1082",
      "749d8b5d-81f5-4509-8d83-8a5debf28be3",
      "8e7b1606-075e-46ac-ad89-3725bbb3603b"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1550445372062,
    "id": "c335d2c3-fde8-4706-bc0f-43cdc5b8efc5",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1550445372062,
    "parent_id": "fad6acf8-b0d5-4770-85ab-bd87a2e5410d",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "030 Navigation between fragments using backstack and static fabric pattern"
        ]
      ]
    },
    "type": "page",
    "version": 1,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445372057,
        "id": "697ed936-d340-4d48-a948-3df8fad601a8",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445372057,
        "parent_id": "c335d2c3-fde8-4706-bc0f-43cdc5b8efc5",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "First of all, we need to add our first "
            ],
            [
              "Fragment",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " at the beginning, we should do it in the "
            ],
            [
              "onCreate()",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " method of our Activity:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "First of all, we need to add our first "
          },
          {
            "Text": "Fragment",
            "AttrFlags": 2
          },
          {
            "Text": " at the beginning, we should do it in the "
          },
          {
            "Text": "onCreate()",
            "AttrFlags": 2
          },
          {
            "Text": " method of our Activity:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445372060,
        "id": "c281a55b-1292-47bb-bfb6-7a12f6553e87",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445372060,
        "parent_id": "c335d2c3-fde8-4706-bc0f-43cdc5b8efc5",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "if (null == savedInstanceState) {\n    getSupportFragmentManager().beginTransaction()\n      .addToBackStack(\"fragmentA\")\n      .replace(R.id.container, FragmentA.newInstance(), \"fragmentA\")\n      .commit();\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "if (null == savedInstanceState) {\n    getSupportFragmentManager().beginTransaction()\n      .addToBackStack(\"fragmentA\")\n      .replace(R.id.container, FragmentA.newInstance(), \"fragmentA\")\n      .commit();\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445372061,
        "id": "ca197f5d-6a0c-4f1f-b19a-a606ce9793bb",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445372061,
        "parent_id": "c335d2c3-fde8-4706-bc0f-43cdc5b8efc5",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Next, we need to manage our backstack. The easiest way is using a function added in our activity that is used for all FragmentTransactions."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Next, we need to manage our backstack. The easiest way is using a function added in our activity that is used for all FragmentTransactions."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445372061,
        "id": "712fbaf1-70d0-4656-9192-447e830f7af0",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445372061,
        "parent_id": "c335d2c3-fde8-4706-bc0f-43cdc5b8efc5",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "public void replaceFragment(Fragment fragment, String tag) {\n    //Get current fragment placed in container\n    Fragment currentFragment = getSupportFragmentManager().findFragmentById(R.id.container);\n\n    //Prevent adding same fragment on top\n    if (currentFragment.getClass() == fragment.getClass()) {\n        return;\n    }\n\n    //If fragment is already on stack, we can pop back stack to prevent stack infinite growth\n    if (getSupportFragmentManager().findFragmentByTag(tag) != null) {\n        getSupportFragmentManager().popBackStack(tag, FragmentManager.POP_BACK_STACK_INCLUSIVE);\n    }\n\n    //Otherwise, just replace fragment\n    getSupportFragmentManager()\n            .beginTransaction()\n            .addToBackStack(tag)\n            .replace(R.id.container, fragment, tag)\n            .commit();\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "public void replaceFragment(Fragment fragment, String tag) {\n    //Get current fragment placed in container\n    Fragment currentFragment = getSupportFragmentManager().findFragmentById(R.id.container);\n\n    //Prevent adding same fragment on top\n    if (currentFragment.getClass() == fragment.getClass()) {\n        return;\n    }\n\n    //If fragment is already on stack, we can pop back stack to prevent stack infinite growth\n    if (getSupportFragmentManager().findFragmentByTag(tag) != null) {\n        getSupportFragmentManager().popBackStack(tag, FragmentManager.POP_BACK_STACK_INCLUSIVE);\n    }\n\n    //Otherwise, just replace fragment\n    getSupportFragmentManager()\n            .beginTransaction()\n            .addToBackStack(tag)\n            .replace(R.id.container, fragment, tag)\n            .commit();\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445372061,
        "id": "064749d8-114b-485b-9177-7e7cb307a4e7",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445372061,
        "parent_id": "c335d2c3-fde8-4706-bc0f-43cdc5b8efc5",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Finally, we should override "
            ],
            [
              "onBackPressed()",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " to exit the application when going back from the last Fragment available in the backstack."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Finally, we should override "
          },
          {
            "Text": "onBackPressed()",
            "AttrFlags": 2
          },
          {
            "Text": " to exit the application when going back from the last Fragment available in the backstack."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445372061,
        "id": "8531dcc8-3eda-4f43-9c1a-e07f475ea80b",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445372061,
        "parent_id": "c335d2c3-fde8-4706-bc0f-43cdc5b8efc5",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "@Override\npublic void onBackPressed() {\n    int fragmentsInStack = getSupportFragmentManager().getBackStackEntryCount();\n    if (fragmentsInStack \u003e 1) { // If we have more than one fragment, pop back stack\n        getSupportFragmentManager().popBackStack();\n    } else if (fragmentsInStack == 1) { // Finish activity, if only one fragment left, to prevent leaving empty screen\n        finish();\n    } else {\n        super.onBackPressed();\n    }\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "@Override\npublic void onBackPressed() {\n    int fragmentsInStack = getSupportFragmentManager().getBackStackEntryCount();\n    if (fragmentsInStack \u003e 1) { // If we have more than one fragment, pop back stack\n        getSupportFragmentManager().popBackStack();\n    } else if (fragmentsInStack == 1) { // Finish activity, if only one fragment left, to prevent leaving empty screen\n        finish();\n    } else {\n        super.onBackPressed();\n    }\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445372061,
        "id": "871878e0-2b93-4249-8085-c75eb66216d7",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445372061,
        "parent_id": "c335d2c3-fde8-4706-bc0f-43cdc5b8efc5",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Execution in activity:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Execution in activity:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445372061,
        "id": "26a3ef05-bc51-4c34-a3c5-9e35884d1082",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445372061,
        "parent_id": "c335d2c3-fde8-4706-bc0f-43cdc5b8efc5",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "replaceFragment(FragmentB.newInstance(), \"fragmentB\");"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "replaceFragment(FragmentB.newInstance(), \"fragmentB\");",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445372061,
        "id": "749d8b5d-81f5-4509-8d83-8a5debf28be3",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445372061,
        "parent_id": "c335d2c3-fde8-4706-bc0f-43cdc5b8efc5",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Execution outside activity (assuming "
            ],
            [
              "MainActivity",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " is our activity):"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Execution outside activity (assuming "
          },
          {
            "Text": "MainActivity",
            "AttrFlags": 2
          },
          {
            "Text": " is our activity):"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445372061,
        "id": "8e7b1606-075e-46ac-ad89-3725bbb3603b",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445372061,
        "parent_id": "c335d2c3-fde8-4706-bc0f-43cdc5b8efc5",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "((MainActivity) getActivity()).replaceFragment(FragmentB.newInstance(), \"fragmentB\");"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "((MainActivity) getActivity()).replaceFragment(FragmentB.newInstance(), \"fragmentB\");",
        "code_language": "Plain Text"
      }
    ],
    "title": "030 Navigation between fragments using backstack and static fabric pattern"
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 18
    }
  ],
  "Tables": null
}