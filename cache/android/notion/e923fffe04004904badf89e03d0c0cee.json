{
  "ID": "e923fffe-0400-4904-badf-89e03d0c0cee",
  "Root": {
    "alive": true,
    "content": [
      "50cb3a92-2fb4-4abc-adde-ea6b59f5ecf2",
      "cecea80d-739a-44fe-9b06-3c836dee1cb3",
      "3dd8ee8a-38a8-43b2-9616-8501f421e239",
      "1cf0697d-3dd9-43e7-95b3-5213a13640f0",
      "a2fbc817-64e0-48d5-b9da-fd21845b9919",
      "bbdae8d4-0e30-4e5e-a75e-0a7ad4262ce6",
      "7ab5c22b-22cf-40e0-8257-b6e2cf0e656c",
      "8309a11b-c45b-4c3b-8bb3-d9224afca028",
      "02b413a3-0674-4ac9-8569-f08d5e76c2d3",
      "1a5fb51e-124a-460a-93fe-fb3014b4d74c",
      "784a6aec-2f8c-4c40-9afa-0e9db4d17a9b",
      "2dfbedd2-30fd-4082-9007-7f60033078e4",
      "95453717-cb25-4d25-910d-f3c11e51c8ba",
      "502396d4-b230-40f4-8115-83e45b343c30"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1550450448839,
    "format": {
      "page_full_width": true,
      "page_small_text": true
    },
    "id": "e923fffe-0400-4904-badf-89e03d0c0cee",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1550450448839,
    "parent_id": "9b6546ec-87e7-4f0d-97af-9dd8a76e52a2",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "Custom JSON Deserializer using Gson"
        ]
      ]
    },
    "type": "page",
    "version": 3,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450448835,
        "id": "50cb3a92-2fb4-4abc-adde-ea6b59f5ecf2",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450448835,
        "parent_id": "e923fffe-0400-4904-badf-89e03d0c0cee",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Imagine you have all dates in all responses in some custom format, for instance "
            ],
            [
              "/Date(1465935152)/",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " and you want apply general rule to deserialize all Json dates to java "
            ],
            [
              "Date",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " instances. In this case you need to implement custom Json Deserializer."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Imagine you have all dates in all responses in some custom format, for instance "
          },
          {
            "Text": "/Date(1465935152)/",
            "AttrFlags": 2
          },
          {
            "Text": " and you want apply general rule to deserialize all Json dates to java "
          },
          {
            "Text": "Date",
            "AttrFlags": 2
          },
          {
            "Text": " instances. In this case you need to implement custom Json Deserializer."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450448838,
        "id": "cecea80d-739a-44fe-9b06-3c836dee1cb3",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450448838,
        "parent_id": "e923fffe-0400-4904-badf-89e03d0c0cee",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Example of json:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Example of json:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450448838,
        "id": "3dd8ee8a-38a8-43b2-9616-8501f421e239",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450448838,
        "parent_id": "e923fffe-0400-4904-badf-89e03d0c0cee",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "{\n  \"id\": 1,\n  \"created_on\": \"Date(1465935152)\",\n  \"updated_on\": \"Date(1465968945)\",\n  \"name\": \"Oleksandr\"\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "{\n  \"id\": 1,\n  \"created_on\": \"Date(1465935152)\",\n  \"updated_on\": \"Date(1465968945)\",\n  \"name\": \"Oleksandr\"\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450448838,
        "id": "1cf0697d-3dd9-43e7-95b3-5213a13640f0",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450448838,
        "parent_id": "e923fffe-0400-4904-badf-89e03d0c0cee",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Suppose we have this class below:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Suppose we have this class below:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450448838,
        "id": "a2fbc817-64e0-48d5-b9da-fd21845b9919",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450448838,
        "parent_id": "e923fffe-0400-4904-badf-89e03d0c0cee",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "class User {\n    @SerializedName(\"id\")\n    long id;\n    @SerializedName(\"created_on\")\n    Date createdOn;\n    @SerializedName(\"updated_on\")\n    Date updatedOn;\n    @SerializedName(\"name\")\n    String name;\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "class User {\n    @SerializedName(\"id\")\n    long id;\n    @SerializedName(\"created_on\")\n    Date createdOn;\n    @SerializedName(\"updated_on\")\n    Date updatedOn;\n    @SerializedName(\"name\")\n    String name;\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450448838,
        "id": "bbdae8d4-0e30-4e5e-a75e-0a7ad4262ce6",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450448838,
        "parent_id": "e923fffe-0400-4904-badf-89e03d0c0cee",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Custom deserializer:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Custom deserializer:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450448838,
        "id": "7ab5c22b-22cf-40e0-8257-b6e2cf0e656c",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450448838,
        "parent_id": "e923fffe-0400-4904-badf-89e03d0c0cee",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "class DateDeSerializer implements JsonDeserializer\u003cDate\u003e {\n    private static final String DATE_PREFIX = \"/Date(\";\n    private static final String DATE_SUFFIX = \")/\";\n\n    @Override\n    public Date deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\n        String dateString = json.getAsString();\n        if (dateString.startsWith(DATE_PREFIX) \u0026\u0026 dateString.endsWith(DATE_SUFFIX)) {\n            dateString = dateString.substring(DATE_PREFIX.length(), dateString.length() - DATE_SUFFIX.length());\n        } else {\n            throw new JsonParseException(\"Wrong date format: \" + dateString);\n        }\n        return new Date(Long.parseLong(dateString) - TimeZone.getDefault().getRawOffset());\n    }\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "class DateDeSerializer implements JsonDeserializer\u003cDate\u003e {\n    private static final String DATE_PREFIX = \"/Date(\";\n    private static final String DATE_SUFFIX = \")/\";\n\n    @Override\n    public Date deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException {\n        String dateString = json.getAsString();\n        if (dateString.startsWith(DATE_PREFIX) \u0026\u0026 dateString.endsWith(DATE_SUFFIX)) {\n            dateString = dateString.substring(DATE_PREFIX.length(), dateString.length() - DATE_SUFFIX.length());\n        } else {\n            throw new JsonParseException(\"Wrong date format: \" + dateString);\n        }\n        return new Date(Long.parseLong(dateString) - TimeZone.getDefault().getRawOffset());\n    }\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450448839,
        "id": "8309a11b-c45b-4c3b-8bb3-d9224afca028",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450448839,
        "parent_id": "e923fffe-0400-4904-badf-89e03d0c0cee",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "And the usage:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "And the usage:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450448839,
        "id": "02b413a3-0674-4ac9-8569-f08d5e76c2d3",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450448839,
        "parent_id": "e923fffe-0400-4904-badf-89e03d0c0cee",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "Gson gson = new GsonBuilder()\n                .registerTypeAdapter(Date.class, new DateDeSerializer())\n                .create();\nString json = \"....\";\nUser user = gson.fromJson(json, User.class);"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "Gson gson = new GsonBuilder()\n                .registerTypeAdapter(Date.class, new DateDeSerializer())\n                .create();\nString json = \"....\";\nUser user = gson.fromJson(json, User.class);",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450448839,
        "id": "1a5fb51e-124a-460a-93fe-fb3014b4d74c",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450448839,
        "parent_id": "e923fffe-0400-4904-badf-89e03d0c0cee",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Serialize and deserialize Jackson JSON strings with Date types",
              [
                [
                  "b"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Serialize and deserialize Jackson JSON strings with Date types",
            "AttrFlags": 1
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450448839,
        "id": "784a6aec-2f8c-4c40-9afa-0e9db4d17a9b",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450448839,
        "parent_id": "e923fffe-0400-4904-badf-89e03d0c0cee",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "This also applies to the case where you want to make Gson Date conversion compatible with Jackson, for example."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "This also applies to the case where you want to make Gson Date conversion compatible with Jackson, for example."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450448839,
        "id": "2dfbedd2-30fd-4082-9007-7f60033078e4",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450448839,
        "parent_id": "e923fffe-0400-4904-badf-89e03d0c0cee",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Jackson usually serializes Date to “milliseconds since epoch” whereas Gson uses a readable format like "
            ],
            [
              "Aug 31, 2016 10:26:17",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " to represent Date. This leads to JsonSyntaxExceptions in Gson when you try to deserialize a Jackson format Date."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Jackson usually serializes Date to “milliseconds since epoch” whereas Gson uses a readable format like "
          },
          {
            "Text": "Aug 31, 2016 10:26:17",
            "AttrFlags": 2
          },
          {
            "Text": " to represent Date. This leads to JsonSyntaxExceptions in Gson when you try to deserialize a Jackson format Date."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450448839,
        "id": "95453717-cb25-4d25-910d-f3c11e51c8ba",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450448839,
        "parent_id": "e923fffe-0400-4904-badf-89e03d0c0cee",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "To circumvent this, you can add a custom serializer and a custom deserializer:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "To circumvent this, you can add a custom serializer and a custom deserializer:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550450448839,
        "id": "502396d4-b230-40f4-8115-83e45b343c30",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550450448839,
        "parent_id": "e923fffe-0400-4904-badf-89e03d0c0cee",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "JsonSerializer\u003cDate\u003e ser = new JsonSerializer\u003cDate\u003e() {\n    @Override\n    public JsonElement serialize(Date src, Type typeOfSrc, JsonSerializationContext\n                context) {\n        return src == null ? null : new JsonPrimitive(src.getTime());\n    }\n};\n\nJsonDeserializer\u003cDate\u003e deser = new JsonDeserializer\u003cDate\u003e() {\n    @Override\n    public Date deserialize(JsonElement json, Type typeOfT,\n                JsonDeserializationContext context) throws JsonParseException {\n        return json == null ? null : new Date(json.getAsLong());\n    }\n};\n\nGson gson = new GsonBuilder()\n                .registerTypeAdapter(Date.class, ser)\n                .registerTypeAdapter(Date.class, deser)\n                .create();"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "JsonSerializer\u003cDate\u003e ser = new JsonSerializer\u003cDate\u003e() {\n    @Override\n    public JsonElement serialize(Date src, Type typeOfSrc, JsonSerializationContext\n                context) {\n        return src == null ? null : new JsonPrimitive(src.getTime());\n    }\n};\n\nJsonDeserializer\u003cDate\u003e deser = new JsonDeserializer\u003cDate\u003e() {\n    @Override\n    public Date deserialize(JsonElement json, Type typeOfT,\n                JsonDeserializationContext context) throws JsonParseException {\n        return json == null ? null : new Date(json.getAsLong());\n    }\n};\n\nGson gson = new GsonBuilder()\n                .registerTypeAdapter(Date.class, ser)\n                .registerTypeAdapter(Date.class, deser)\n                .create();",
        "code_language": "Plain Text"
      }
    ],
    "title": "Custom JSON Deserializer using Gson",
    "format_page": {
      "page_cover": "",
      "page_cover_position": 0,
      "page_font": "",
      "page_full_width": true,
      "page_icon": "",
      "page_small_text": true
    }
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 18
    }
  ],
  "Tables": null
}