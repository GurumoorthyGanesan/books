{
  "ID": "11d1affa-e067-44e3-943e-8f788abf3090",
  "Root": {
    "alive": true,
    "content": [
      "039acb88-d92a-4e51-b699-1269e9fc5a43",
      "b1481429-3ec5-4b3b-8b0a-0d02ba37b815",
      "e2b64613-8d23-41b1-a8d8-25aa920aac53",
      "ca0b1b4c-f1da-4fc9-b26d-a8083e893686",
      "df2be944-9fcf-4525-a591-9c9d9fe2e4f1",
      "42ca1480-3da0-4f21-8329-4656e250f9ff",
      "52db768b-c723-4f3b-adcf-ef2f7560fcc0",
      "fb559612-9b05-45cf-9f58-e2835457b102",
      "5ddd6ee4-b83f-43a3-8fe5-fe739adf1dbb",
      "74ef9784-0fed-4bf0-bfbb-c44354d3c5cc",
      "85cd3e09-dc1b-4fc2-8df9-624ca436e52f",
      "fb616e4d-ba8c-4764-870a-a17b1661a03a",
      "ceb99944-eff1-4bbd-a4af-f287fb32d6eb",
      "1855b4e3-74c5-49d9-a7c2-c44d4bb392a1",
      "56513c8a-151e-4af4-b3ca-9f92b1cf9187",
      "e6a5891f-8314-448b-b584-7748253bf04f",
      "09c32829-d3db-463b-bf08-6d58433f2535",
      "487bc267-f691-44d1-9559-3e80e553a9c8",
      "610e982c-4c56-43c3-a403-01dedc40c63d",
      "edd5e86c-7c1e-431a-9d9a-5d044084ed8a",
      "edecda7e-a975-4b07-b4f3-48cbf3bb35e9",
      "77d70dab-9a98-46c7-9346-7cad267d8fd5",
      "24f4c3f0-702d-4259-a6c4-f1f48792d255",
      "a898b9a7-a38f-41e7-9c3e-ab8e1f525181",
      "370ff7f6-d558-46f8-8f23-469e424f2b67",
      "dbe675c8-32f9-483f-bdb0-cf0eb648d240",
      "c6117315-097f-4722-ba6a-23b8348d99c0",
      "2b3cdbe1-af58-4251-a9b2-d938531e9fce",
      "9f723936-d1ea-4fa0-96a5-72d5bc1873b8",
      "07720e3f-fcd0-4e44-af5f-ce79e9958dd8",
      "bf4d4c77-27cb-40ce-afbf-27d65c6b4798",
      "5f77f579-634b-4803-9b92-f25bfe42b57a",
      "74433cdb-f31a-45e9-a222-a764facf77ba",
      "d7e14c5c-5005-4c29-8bb1-095820b364de",
      "3e42b89e-c1d7-47cb-a741-550a2d6e0b3a",
      "fc621982-fa6e-4a4e-862e-dae97b066af7",
      "eaa1e085-49eb-4da5-b184-8cee48449d9e",
      "74d14eb7-6330-4d8d-8e10-d86dd378b712",
      "7470752a-2639-4393-a262-5765564cccb5",
      "5c7f8566-3e8c-4d93-8b7f-306d56f313b4",
      "5dd56faa-2349-4682-b907-058fbdb6bece",
      "31c5ac78-9379-4aa8-8b13-9f97b2caf3ae",
      "accf894b-a811-4046-888e-ed44590fbef5",
      "bf2b7f9a-ddcd-4bae-864b-bbc7e10b897f",
      "9d0750f5-1cb3-437e-90f0-fc1e8946d67d",
      "ceb5f7d0-12ee-4e6a-8d04-b1122094e45c",
      "20bdc6c4-a4cd-4eea-8fd0-ad70e333e2e4",
      "aa645f2c-2fb1-4818-9eac-8593b06bd774",
      "a092b354-59ba-4773-ba17-76ea36d1756c",
      "59d31a4e-66b5-445b-9130-ab7b55219b75",
      "480fc6f4-8948-4739-b2a5-49471efcf2d8",
      "be59b804-2284-4296-be93-1bdb60bfcad2",
      "4febae36-d134-4b0b-88ff-6f4efb080aba",
      "7fdc090b-cdc5-4489-9faa-294432b3f78b",
      "c410faf3-6752-4a42-9320-8433e9cbe2d4",
      "418619aa-a3fd-49f7-8f30-8cfadf9f83da",
      "5d092796-62a2-41bd-aeea-beb8ec961802",
      "616aa8e9-71a1-4c7e-9cba-ac57f518a1f4",
      "97357a00-dea3-4aef-ac07-742f59a05baa",
      "008935a4-d64a-4dfa-b594-211bb39969bd",
      "9f5763fc-0c5a-4e26-ad50-437ff7752c53"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1550444840342,
    "format": {
      "page_full_width": true,
      "page_small_text": true
    },
    "id": "11d1affa-e067-44e3-943e-8f788abf3090",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1550444840342,
    "parent_id": "7519d0d9-ef43-40c7-bea1-eb520af1f62f",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "Preview the main camera in a TextureView"
        ]
      ]
    },
    "type": "page",
    "version": 3,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840332,
        "id": "039acb88-d92a-4e51-b699-1269e9fc5a43",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840332,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "In this case, building against API 23, so permissions are handled too."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "In this case, building against API 23, so permissions are handled too."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840334,
        "id": "b1481429-3ec5-4b3b-8b0a-0d02ba37b815",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840334,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "You must add in the Manifest the following permission (wherever the API level you’re using):"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "You must add in the Manifest the following permission (wherever the API level you’re using):"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840334,
        "id": "e2b64613-8d23-41b1-a8d8-25aa920aac53",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840334,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "\u003cuses-permission android:name=\"android.permission.CAMERA\"/\u003e"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "\u003cuses-permission android:name=\"android.permission.CAMERA\"/\u003e",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840335,
        "id": "ca0b1b4c-f1da-4fc9-b26d-a8083e893686",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840335,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "We’re about to create an activity (Camera2Activity.java) that fills a "
            ],
            [
              "TextureView",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " with the preview of the device’s camera."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "We’re about to create an activity (Camera2Activity.java) that fills a "
          },
          {
            "Text": "TextureView",
            "AttrFlags": 2
          },
          {
            "Text": " with the preview of the device’s camera."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840335,
        "id": "df2be944-9fcf-4525-a591-9c9d9fe2e4f1",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840335,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The Activity we’re going to use is a typical AppCompatActivity:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "The Activity we’re going to use is a typical AppCompatActivity:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840335,
        "id": "42ca1480-3da0-4f21-8329-4656e250f9ff",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840335,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "public class Camera2Activity extends AppCompatActivity {"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "public class Camera2Activity extends AppCompatActivity {",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840335,
        "id": "52db768b-c723-4f3b-adcf-ef2f7560fcc0",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840335,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Attributes",
              [
                [
                  "b"
                ]
              ]
            ],
            [
              " (You may need to read the entire example to understand some of it)"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Attributes",
            "AttrFlags": 1
          },
          {
            "Text": " (You may need to read the entire example to understand some of it)"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840335,
        "id": "fb559612-9b05-45cf-9f58-e2835457b102",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840335,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The "
            ],
            [
              "MAX_PREVIEW_SIZE",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " guaranteed by Camera2 API is 1920x1080"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "The "
          },
          {
            "Text": "MAX_PREVIEW_SIZE",
            "AttrFlags": 2
          },
          {
            "Text": " guaranteed by Camera2 API is 1920x1080"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840335,
        "id": "5ddd6ee4-b83f-43a3-8fe5-fe739adf1dbb",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840335,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "private static final int MAX_PREVIEW_WIDTH = 1920;\nprivate static final int MAX_PREVIEW_HEIGHT = 1080;"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "private static final int MAX_PREVIEW_WIDTH = 1920;\nprivate static final int MAX_PREVIEW_HEIGHT = 1080;",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840336,
        "id": "74ef9784-0fed-4bf0-bfbb-c44354d3c5cc",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840336,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "TextureView.SurfaceTextureListener",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " handles several lifecycle events on a "
            ],
            [
              "TextureView",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ". In this case, we’re listening to those events. When the SurfaceTexture is ready, we initialize the camera. When it size changes, we setup the preview coming from the camera accordingly"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "TextureView.SurfaceTextureListener",
            "AttrFlags": 2
          },
          {
            "Text": " handles several lifecycle events on a "
          },
          {
            "Text": "TextureView",
            "AttrFlags": 2
          },
          {
            "Text": ". In this case, we’re listening to those events. When the SurfaceTexture is ready, we initialize the camera. When it size changes, we setup the preview coming from the camera accordingly"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840336,
        "id": "85cd3e09-dc1b-4fc2-8df9-624ca436e52f",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840336,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "private final TextureView.SurfaceTextureListener mSurfaceTextureListener\n        = new TextureView.SurfaceTextureListener() {\n\n    @Override\n    public void onSurfaceTextureAvailable(SurfaceTexture texture, int width, int height) {\n        openCamera(width, height);\n    }\n\n    @Override\n    public void onSurfaceTextureSizeChanged(SurfaceTexture texture, int width, int height) {\n        configureTransform(width, height);\n    }\n\n    @Override\n    public boolean onSurfaceTextureDestroyed(SurfaceTexture texture) {\n        return true;\n    }\n\n    @Override\n    public void onSurfaceTextureUpdated(SurfaceTexture texture) {\n    }\n\n};"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "private final TextureView.SurfaceTextureListener mSurfaceTextureListener\n        = new TextureView.SurfaceTextureListener() {\n\n    @Override\n    public void onSurfaceTextureAvailable(SurfaceTexture texture, int width, int height) {\n        openCamera(width, height);\n    }\n\n    @Override\n    public void onSurfaceTextureSizeChanged(SurfaceTexture texture, int width, int height) {\n        configureTransform(width, height);\n    }\n\n    @Override\n    public boolean onSurfaceTextureDestroyed(SurfaceTexture texture) {\n        return true;\n    }\n\n    @Override\n    public void onSurfaceTextureUpdated(SurfaceTexture texture) {\n    }\n\n};",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840336,
        "id": "fb616e4d-ba8c-4764-870a-a17b1661a03a",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840336,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "A "
            ],
            [
              "CameraDevice",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " represent one physical device’s camera. In this attribute, we save the ID of the current "
            ],
            [
              "CameraDevice",
              [
                [
                  "c"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "A "
          },
          {
            "Text": "CameraDevice",
            "AttrFlags": 2
          },
          {
            "Text": " represent one physical device’s camera. In this attribute, we save the ID of the current "
          },
          {
            "Text": "CameraDevice",
            "AttrFlags": 2
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840336,
        "id": "ceb99944-eff1-4bbd-a4af-f287fb32d6eb",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840336,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "private String mCameraId;"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "private String mCameraId;",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840336,
        "id": "1855b4e3-74c5-49d9-a7c2-c44d4bb392a1",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840336,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "This is the view ("
            ],
            [
              "TextureView",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ") that we’ll be using to “draw” the preview of the Camera"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "This is the view ("
          },
          {
            "Text": "TextureView",
            "AttrFlags": 2
          },
          {
            "Text": ") that we’ll be using to “draw” the preview of the Camera"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840336,
        "id": "56513c8a-151e-4af4-b3ca-9f92b1cf9187",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840336,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "private TextureView mTextureView;"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "private TextureView mTextureView;",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840336,
        "id": "e6a5891f-8314-448b-b584-7748253bf04f",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840336,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The "
            ],
            [
              "CameraCaptureSession",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " for camera preview"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "The "
          },
          {
            "Text": "CameraCaptureSession",
            "AttrFlags": 2
          },
          {
            "Text": " for camera preview"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840336,
        "id": "09c32829-d3db-463b-bf08-6d58433f2535",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840336,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "private CameraCaptureSession mCaptureSession;"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "private CameraCaptureSession mCaptureSession;",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840337,
        "id": "487bc267-f691-44d1-9559-3e80e553a9c8",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840337,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "A reference to the opened "
            ],
            [
              "CameraDevice",
              [
                [
                  "c"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "A reference to the opened "
          },
          {
            "Text": "CameraDevice",
            "AttrFlags": 2
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840337,
        "id": "610e982c-4c56-43c3-a403-01dedc40c63d",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840337,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "private CameraDevice mCameraDevice;"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "private CameraDevice mCameraDevice;",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840337,
        "id": "edd5e86c-7c1e-431a-9d9a-5d044084ed8a",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840337,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The "
            ],
            [
              "Size",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " of camera preview."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "The "
          },
          {
            "Text": "Size",
            "AttrFlags": 2
          },
          {
            "Text": " of camera preview."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840337,
        "id": "edecda7e-a975-4b07-b4f3-48cbf3bb35e9",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840337,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "private Size mPreviewSize;"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "private Size mPreviewSize;",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840337,
        "id": "77d70dab-9a98-46c7-9346-7cad267d8fd5",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840337,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "CameraDevice.StateCallback",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " is called when "
            ],
            [
              "CameraDevice",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " changes its state"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "CameraDevice.StateCallback",
            "AttrFlags": 2
          },
          {
            "Text": " is called when "
          },
          {
            "Text": "CameraDevice",
            "AttrFlags": 2
          },
          {
            "Text": " changes its state"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840337,
        "id": "24f4c3f0-702d-4259-a6c4-f1f48792d255",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840337,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "private final CameraDevice.StateCallback mStateCallback = new CameraDevice.StateCallback() {\n\n    @Override\n    public void onOpened(@NonNull CameraDevice cameraDevice) {\n        // This method is called when the camera is opened.  We start camera preview here.\n        mCameraOpenCloseLock.release();\n        mCameraDevice = cameraDevice;\n        createCameraPreviewSession();\n    }\n\n    @Override\n    public void onDisconnected(@NonNull CameraDevice cameraDevice) {\n        mCameraOpenCloseLock.release();\n        cameraDevice.close();\n        mCameraDevice = null;\n    }\n\n    @Override\n    public void onError(@NonNull CameraDevice cameraDevice, int error) {\n        mCameraOpenCloseLock.release();\n        cameraDevice.close();\n        mCameraDevice = null;\n        finish();\n    }\n\n};"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "private final CameraDevice.StateCallback mStateCallback = new CameraDevice.StateCallback() {\n\n    @Override\n    public void onOpened(@NonNull CameraDevice cameraDevice) {\n        // This method is called when the camera is opened.  We start camera preview here.\n        mCameraOpenCloseLock.release();\n        mCameraDevice = cameraDevice;\n        createCameraPreviewSession();\n    }\n\n    @Override\n    public void onDisconnected(@NonNull CameraDevice cameraDevice) {\n        mCameraOpenCloseLock.release();\n        cameraDevice.close();\n        mCameraDevice = null;\n    }\n\n    @Override\n    public void onError(@NonNull CameraDevice cameraDevice, int error) {\n        mCameraOpenCloseLock.release();\n        cameraDevice.close();\n        mCameraDevice = null;\n        finish();\n    }\n\n};",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840337,
        "id": "a898b9a7-a38f-41e7-9c3e-ab8e1f525181",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840337,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "An additional thread for running tasks that shouldn’t block the UI"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "An additional thread for running tasks that shouldn’t block the UI"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840337,
        "id": "370ff7f6-d558-46f8-8f23-469e424f2b67",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840337,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "private HandlerThread mBackgroundThread;"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "private HandlerThread mBackgroundThread;",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840338,
        "id": "dbe675c8-32f9-483f-bdb0-cf0eb648d240",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840338,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "A "
            ],
            [
              "Handler",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " for running tasks in the background"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "A "
          },
          {
            "Text": "Handler",
            "AttrFlags": 2
          },
          {
            "Text": " for running tasks in the background"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840338,
        "id": "c6117315-097f-4722-ba6a-23b8348d99c0",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840338,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "private Handler mBackgroundHandler;"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "private Handler mBackgroundHandler;",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840338,
        "id": "2b3cdbe1-af58-4251-a9b2-d938531e9fce",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840338,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "An "
            ],
            [
              "ImageReader",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " that handles still image capture"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "An "
          },
          {
            "Text": "ImageReader",
            "AttrFlags": 2
          },
          {
            "Text": " that handles still image capture"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840338,
        "id": "9f723936-d1ea-4fa0-96a5-72d5bc1873b8",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840338,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "private ImageReader mImageReader;"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "private ImageReader mImageReader;",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840338,
        "id": "07720e3f-fcd0-4e44-af5f-ce79e9958dd8",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840338,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "CaptureRequest.Builder",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " for the camera preview"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "CaptureRequest.Builder",
            "AttrFlags": 2
          },
          {
            "Text": " for the camera preview"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840338,
        "id": "bf4d4c77-27cb-40ce-afbf-27d65c6b4798",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840338,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "private CaptureRequest.Builder mPreviewRequestBuilder;"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "private CaptureRequest.Builder mPreviewRequestBuilder;",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840338,
        "id": "5f77f579-634b-4803-9b92-f25bfe42b57a",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840338,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "CaptureRequest",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " generated by "
            ],
            [
              "mPreviewRequestBuilder",
              [
                [
                  "c"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "CaptureRequest",
            "AttrFlags": 2
          },
          {
            "Text": " generated by "
          },
          {
            "Text": "mPreviewRequestBuilder",
            "AttrFlags": 2
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840338,
        "id": "74433cdb-f31a-45e9-a222-a764facf77ba",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840338,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "private CaptureRequest mPreviewRequest;"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "private CaptureRequest mPreviewRequest;",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840338,
        "id": "d7e14c5c-5005-4c29-8bb1-095820b364de",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840338,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "A "
            ],
            [
              "Semaphore",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " to prevent the app from exiting before closing the camera."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "A "
          },
          {
            "Text": "Semaphore",
            "AttrFlags": 2
          },
          {
            "Text": " to prevent the app from exiting before closing the camera."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840339,
        "id": "3e42b89e-c1d7-47cb-a741-550a2d6e0b3a",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840339,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "private Semaphore mCameraOpenCloseLock = new Semaphore(1);"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "private Semaphore mCameraOpenCloseLock = new Semaphore(1);",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840339,
        "id": "fc621982-fa6e-4a4e-862e-dae97b066af7",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840339,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Constant ID of the permission request"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Constant ID of the permission request"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840339,
        "id": "eaa1e085-49eb-4da5-b184-8cee48449d9e",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840339,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "private static final int REQUEST_CAMERA_PERMISSION = 1;"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "private static final int REQUEST_CAMERA_PERMISSION = 1;",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840339,
        "id": "74d14eb7-6330-4d8d-8e10-d86dd378b712",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840339,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Android Lifecycle methods",
              [
                [
                  "b"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Android Lifecycle methods",
            "AttrFlags": 1
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840339,
        "id": "7470752a-2639-4393-a262-5765564cccb5",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840339,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_camera2);\n\n    mTextureView = (TextureView) findViewById(R.id.texture);\n}\n\n@Override\npublic void onResume() {\n    super.onResume();\n    startBackgroundThread();\n\n    // When the screen is turned off and turned back on, the SurfaceTexture is already\n    // available, and \"onSurfaceTextureAvailable\" will not be called. In that case, we can open\n    // a camera and start preview from here (otherwise, we wait until the surface is ready in\n    // the SurfaceTextureListener).\n    if (mTextureView.isAvailable()) {\n        openCamera(mTextureView.getWidth(), mTextureView.getHeight());\n    } else {\n        mTextureView.setSurfaceTextureListener(mSurfaceTextureListener);\n    }\n}\n\n@Override\npublic void onPause() {\n    closeCamera();\n    stopBackgroundThread();\n    super.onPause();\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_camera2);\n\n    mTextureView = (TextureView) findViewById(R.id.texture);\n}\n\n@Override\npublic void onResume() {\n    super.onResume();\n    startBackgroundThread();\n\n    // When the screen is turned off and turned back on, the SurfaceTexture is already\n    // available, and \"onSurfaceTextureAvailable\" will not be called. In that case, we can open\n    // a camera and start preview from here (otherwise, we wait until the surface is ready in\n    // the SurfaceTextureListener).\n    if (mTextureView.isAvailable()) {\n        openCamera(mTextureView.getWidth(), mTextureView.getHeight());\n    } else {\n        mTextureView.setSurfaceTextureListener(mSurfaceTextureListener);\n    }\n}\n\n@Override\npublic void onPause() {\n    closeCamera();\n    stopBackgroundThread();\n    super.onPause();\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840339,
        "id": "5c7f8566-3e8c-4d93-8b7f-306d56f313b4",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840339,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Camera2 related methods",
              [
                [
                  "b"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Camera2 related methods",
            "AttrFlags": 1
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840340,
        "id": "5dd56faa-2349-4682-b907-058fbdb6bece",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840340,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Those are methods that uses the Camera2 APIs"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Those are methods that uses the Camera2 APIs"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840340,
        "id": "31c5ac78-9379-4aa8-8b13-9f97b2caf3ae",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840340,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "private void openCamera(int width, int height) {\n    if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA)\n            != PackageManager.PERMISSION_GRANTED) {\n        requestCameraPermission();\n        return;\n    }\n    setUpCameraOutputs(width, height);\n    configureTransform(width, height);\n    CameraManager manager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\n    try {\n        if (!mCameraOpenCloseLock.tryAcquire(2500, TimeUnit.MILLISECONDS)) {\n            throw new RuntimeException(\"Time out waiting to lock camera opening.\");\n        }\n        manager.openCamera(mCameraId, mStateCallback, mBackgroundHandler);\n    } catch (CameraAccessException e) {\n        e.printStackTrace();\n    } catch (InterruptedException e) {\n        throw new RuntimeException(\"Interrupted while trying to lock camera opening.\", e);\n    }\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "private void openCamera(int width, int height) {\n    if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA)\n            != PackageManager.PERMISSION_GRANTED) {\n        requestCameraPermission();\n        return;\n    }\n    setUpCameraOutputs(width, height);\n    configureTransform(width, height);\n    CameraManager manager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\n    try {\n        if (!mCameraOpenCloseLock.tryAcquire(2500, TimeUnit.MILLISECONDS)) {\n            throw new RuntimeException(\"Time out waiting to lock camera opening.\");\n        }\n        manager.openCamera(mCameraId, mStateCallback, mBackgroundHandler);\n    } catch (CameraAccessException e) {\n        e.printStackTrace();\n    } catch (InterruptedException e) {\n        throw new RuntimeException(\"Interrupted while trying to lock camera opening.\", e);\n    }\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840340,
        "id": "accf894b-a811-4046-888e-ed44590fbef5",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840340,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Closes the current camera"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Closes the current camera"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840340,
        "id": "bf2b7f9a-ddcd-4bae-864b-bbc7e10b897f",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840340,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "private void closeCamera() {\n    try {\n        mCameraOpenCloseLock.acquire();\n        if (null != mCaptureSession) {\n            mCaptureSession.close();\n            mCaptureSession = null;\n        }\n        if (null != mCameraDevice) {\n            mCameraDevice.close();\n            mCameraDevice = null;\n        }\n        if (null != mImageReader) {\n            mImageReader.close();\n            mImageReader = null;\n        }\n    } catch (InterruptedException e) {\n        throw new RuntimeException(\"Interrupted while trying to lock camera closing.\", e);\n    } finally {\n        mCameraOpenCloseLock.release();\n    }\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "private void closeCamera() {\n    try {\n        mCameraOpenCloseLock.acquire();\n        if (null != mCaptureSession) {\n            mCaptureSession.close();\n            mCaptureSession = null;\n        }\n        if (null != mCameraDevice) {\n            mCameraDevice.close();\n            mCameraDevice = null;\n        }\n        if (null != mImageReader) {\n            mImageReader.close();\n            mImageReader = null;\n        }\n    } catch (InterruptedException e) {\n        throw new RuntimeException(\"Interrupted while trying to lock camera closing.\", e);\n    } finally {\n        mCameraOpenCloseLock.release();\n    }\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840340,
        "id": "9d0750f5-1cb3-437e-90f0-fc1e8946d67d",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840340,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Sets up member variables related to camera"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Sets up member variables related to camera"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840340,
        "id": "ceb5f7d0-12ee-4e6a-8d04-b1122094e45c",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840340,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "private void setUpCameraOutputs(int width, int height) {\n    CameraManager manager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\n    try {\n        for (String cameraId : manager.getCameraIdList()) {\n            CameraCharacteristics characteristics\n                    = manager.getCameraCharacteristics(cameraId);\n\n            // We don't use a front facing camera in this sample.\n            Integer facing = characteristics.get(CameraCharacteristics.LENS_FACING);\n            if (facing != null \u0026\u0026 facing == CameraCharacteristics.LENS_FACING_FRONT) {\n                continue;\n            }\n\n            StreamConfigurationMap map = characteristics.get(\n                    CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);\n            if (map == null) {\n                continue;\n            }\n\n            // For still image captures, we use the largest available size.\n            Size largest = Collections.max(\n                    Arrays.asList(map.getOutputSizes(ImageFormat.JPEG)),\n                    new CompareSizesByArea());\n            mImageReader = ImageReader.newInstance(largest.getWidth(), largest.getHeight(),\n                    ImageFormat.JPEG, /*maxImages*/2);\n            mImageReader.setOnImageAvailableListener(\n                    null, mBackgroundHandler);\n\n            Point displaySize = new Point();\n            getWindowManager().getDefaultDisplay().getSize(displaySize);\n            int rotatedPreviewWidth = width;\n            int rotatedPreviewHeight = height;\n            int maxPreviewWidth = displaySize.x;\n            int maxPreviewHeight = displaySize.y;\n\n            if (maxPreviewWidth \u003e MAX_PREVIEW_WIDTH) {\n                maxPreviewWidth = MAX_PREVIEW_WIDTH;\n            }\n\n            if (maxPreviewHeight \u003e MAX_PREVIEW_HEIGHT) {\n                maxPreviewHeight = MAX_PREVIEW_HEIGHT;\n            }\n\n            // Danger! Attempting to use too large a preview size could  exceed the camera\n            // bus' bandwidth limitation, resulting in gorgeous previews but the storage of\n            // garbage capture data.\n            mPreviewSize = chooseOptimalSize(map.getOutputSizes(SurfaceTexture.class),\n                    rotatedPreviewWidth, rotatedPreviewHeight, maxPreviewWidth,\n                    maxPreviewHeight, largest);\n\n            mCameraId = cameraId;\n            return;\n        }\n    } catch (CameraAccessException e) {\n        e.printStackTrace();\n    } catch (NullPointerException e) {\n        // Currently an NPE is thrown when the Camera2API is used but not supported on the\n        // device this code runs.\n        Toast.makeText(Camera2Activity.this, \"Camera2 API not supported on this device\", Toast.LENGTH_LONG).show();\n    }\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "private void setUpCameraOutputs(int width, int height) {\n    CameraManager manager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\n    try {\n        for (String cameraId : manager.getCameraIdList()) {\n            CameraCharacteristics characteristics\n                    = manager.getCameraCharacteristics(cameraId);\n\n            // We don't use a front facing camera in this sample.\n            Integer facing = characteristics.get(CameraCharacteristics.LENS_FACING);\n            if (facing != null \u0026\u0026 facing == CameraCharacteristics.LENS_FACING_FRONT) {\n                continue;\n            }\n\n            StreamConfigurationMap map = characteristics.get(\n                    CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);\n            if (map == null) {\n                continue;\n            }\n\n            // For still image captures, we use the largest available size.\n            Size largest = Collections.max(\n                    Arrays.asList(map.getOutputSizes(ImageFormat.JPEG)),\n                    new CompareSizesByArea());\n            mImageReader = ImageReader.newInstance(largest.getWidth(), largest.getHeight(),\n                    ImageFormat.JPEG, /*maxImages*/2);\n            mImageReader.setOnImageAvailableListener(\n                    null, mBackgroundHandler);\n\n            Point displaySize = new Point();\n            getWindowManager().getDefaultDisplay().getSize(displaySize);\n            int rotatedPreviewWidth = width;\n            int rotatedPreviewHeight = height;\n            int maxPreviewWidth = displaySize.x;\n            int maxPreviewHeight = displaySize.y;\n\n            if (maxPreviewWidth \u003e MAX_PREVIEW_WIDTH) {\n                maxPreviewWidth = MAX_PREVIEW_WIDTH;\n            }\n\n            if (maxPreviewHeight \u003e MAX_PREVIEW_HEIGHT) {\n                maxPreviewHeight = MAX_PREVIEW_HEIGHT;\n            }\n\n            // Danger! Attempting to use too large a preview size could  exceed the camera\n            // bus' bandwidth limitation, resulting in gorgeous previews but the storage of\n            // garbage capture data.\n            mPreviewSize = chooseOptimalSize(map.getOutputSizes(SurfaceTexture.class),\n                    rotatedPreviewWidth, rotatedPreviewHeight, maxPreviewWidth,\n                    maxPreviewHeight, largest);\n\n            mCameraId = cameraId;\n            return;\n        }\n    } catch (CameraAccessException e) {\n        e.printStackTrace();\n    } catch (NullPointerException e) {\n        // Currently an NPE is thrown when the Camera2API is used but not supported on the\n        // device this code runs.\n        Toast.makeText(Camera2Activity.this, \"Camera2 API not supported on this device\", Toast.LENGTH_LONG).show();\n    }\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840340,
        "id": "20bdc6c4-a4cd-4eea-8fd0-ad70e333e2e4",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840340,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Creates a new "
            ],
            [
              "CameraCaptureSession",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " for camera preview"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Creates a new "
          },
          {
            "Text": "CameraCaptureSession",
            "AttrFlags": 2
          },
          {
            "Text": " for camera preview"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840340,
        "id": "aa645f2c-2fb1-4818-9eac-8593b06bd774",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840340,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "private void createCameraPreviewSession() {\n    try {\n        SurfaceTexture texture = mTextureView.getSurfaceTexture();\n        assert texture != null;\n\n        // We configure the size of default buffer to be the size of camera preview we want.\n        texture.setDefaultBufferSize(mPreviewSize.getWidth(), mPreviewSize.getHeight());\n\n        // This is the output Surface we need to start preview.\n        Surface surface = new Surface(texture);\n\n        // We set up a CaptureRequest.Builder with the output Surface.\n        mPreviewRequestBuilder\n                = mCameraDevice.createCaptureRequest(CameraDevice.TEMPLATE_PREVIEW);\n        mPreviewRequestBuilder.addTarget(surface);\n\n        // Here, we create a CameraCaptureSession for camera preview.\n        mCameraDevice.createCaptureSession(Arrays.asList(surface, mImageReader.getSurface()),\n                new CameraCaptureSession.StateCallback() {\n\n                    @Override\n                    public void onConfigured(@NonNull CameraCaptureSession cameraCaptureSession) {\n                        // The camera is already closed\n                        if (null == mCameraDevice) {\n                            return;\n                        }\n\n                        // When the session is ready, we start displaying the preview.\n                        mCaptureSession = cameraCaptureSession;\n                        try {\n                            // Auto focus should be continuous for camera preview.\n                            mPreviewRequestBuilder.set(CaptureRequest.CONTROL_AF_MODE,\n                                    CaptureRequest.CONTROL_AF_MODE_CONTINUOUS_PICTURE);\n\n                            // Finally, we start displaying the camera preview.\n                            mPreviewRequest = mPreviewRequestBuilder.build();\n                            mCaptureSession.setRepeatingRequest(mPreviewRequest,\n                                    null, mBackgroundHandler);\n                        } catch (CameraAccessException e) {\n                            e.printStackTrace();\n                        }\n                    }\n\n                    @Override\n                    public void onConfigureFailed(\n                            @NonNull CameraCaptureSession cameraCaptureSession) {\n                        showToast(\"Failed\");\n                    }\n                }, null\n        );\n    } catch (CameraAccessException e) {\n        e.printStackTrace();\n    }\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "private void createCameraPreviewSession() {\n    try {\n        SurfaceTexture texture = mTextureView.getSurfaceTexture();\n        assert texture != null;\n\n        // We configure the size of default buffer to be the size of camera preview we want.\n        texture.setDefaultBufferSize(mPreviewSize.getWidth(), mPreviewSize.getHeight());\n\n        // This is the output Surface we need to start preview.\n        Surface surface = new Surface(texture);\n\n        // We set up a CaptureRequest.Builder with the output Surface.\n        mPreviewRequestBuilder\n                = mCameraDevice.createCaptureRequest(CameraDevice.TEMPLATE_PREVIEW);\n        mPreviewRequestBuilder.addTarget(surface);\n\n        // Here, we create a CameraCaptureSession for camera preview.\n        mCameraDevice.createCaptureSession(Arrays.asList(surface, mImageReader.getSurface()),\n                new CameraCaptureSession.StateCallback() {\n\n                    @Override\n                    public void onConfigured(@NonNull CameraCaptureSession cameraCaptureSession) {\n                        // The camera is already closed\n                        if (null == mCameraDevice) {\n                            return;\n                        }\n\n                        // When the session is ready, we start displaying the preview.\n                        mCaptureSession = cameraCaptureSession;\n                        try {\n                            // Auto focus should be continuous for camera preview.\n                            mPreviewRequestBuilder.set(CaptureRequest.CONTROL_AF_MODE,\n                                    CaptureRequest.CONTROL_AF_MODE_CONTINUOUS_PICTURE);\n\n                            // Finally, we start displaying the camera preview.\n                            mPreviewRequest = mPreviewRequestBuilder.build();\n                            mCaptureSession.setRepeatingRequest(mPreviewRequest,\n                                    null, mBackgroundHandler);\n                        } catch (CameraAccessException e) {\n                            e.printStackTrace();\n                        }\n                    }\n\n                    @Override\n                    public void onConfigureFailed(\n                            @NonNull CameraCaptureSession cameraCaptureSession) {\n                        showToast(\"Failed\");\n                    }\n                }, null\n        );\n    } catch (CameraAccessException e) {\n        e.printStackTrace();\n    }\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840340,
        "id": "a092b354-59ba-4773-ba17-76ea36d1756c",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840340,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Permissions related methods",
              [
                [
                  "b"
                ]
              ]
            ],
            [
              " For Android API 23+"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Permissions related methods",
            "AttrFlags": 1
          },
          {
            "Text": " For Android API 23+"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840341,
        "id": "59d31a4e-66b5-445b-9130-ab7b55219b75",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840341,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "private void requestCameraPermission() {\n    if (ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.CAMERA)) {\n        new AlertDialog.Builder(Camera2Activity.this)\n                .setMessage(\"R string request permission\")\n                .setPositiveButton(android.R.string.ok, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n                        ActivityCompat.requestPermissions(Camera2Activity.this,\n                                new String[]{Manifest.permission.CAMERA},\n                                REQUEST_CAMERA_PERMISSION);\n                    }\n                })\n                .setNegativeButton(android.R.string.cancel,\n                        new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialog, int which) {\n                                finish();\n\n                            }\n                        })\n                .create();\n\n    } else {\n        ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.CAMERA},\n                REQUEST_CAMERA_PERMISSION);\n    }\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions,\n                                       @NonNull int[] grantResults) {\n    if (requestCode == REQUEST_CAMERA_PERMISSION) {\n        if (grantResults.length != 1 || grantResults[0] != PackageManager.PERMISSION_GRANTED) {\n            Toast.makeText(Camera2Activity.this, \"ERROR: Camera permissions not granted\", Toast.LENGTH_LONG).show();\n        }\n    } else {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    }\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "private void requestCameraPermission() {\n    if (ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.CAMERA)) {\n        new AlertDialog.Builder(Camera2Activity.this)\n                .setMessage(\"R string request permission\")\n                .setPositiveButton(android.R.string.ok, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n                        ActivityCompat.requestPermissions(Camera2Activity.this,\n                                new String[]{Manifest.permission.CAMERA},\n                                REQUEST_CAMERA_PERMISSION);\n                    }\n                })\n                .setNegativeButton(android.R.string.cancel,\n                        new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialog, int which) {\n                                finish();\n\n                            }\n                        })\n                .create();\n\n    } else {\n        ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.CAMERA},\n                REQUEST_CAMERA_PERMISSION);\n    }\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions,\n                                       @NonNull int[] grantResults) {\n    if (requestCode == REQUEST_CAMERA_PERMISSION) {\n        if (grantResults.length != 1 || grantResults[0] != PackageManager.PERMISSION_GRANTED) {\n            Toast.makeText(Camera2Activity.this, \"ERROR: Camera permissions not granted\", Toast.LENGTH_LONG).show();\n        }\n    } else {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    }\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840341,
        "id": "480fc6f4-8948-4739-b2a5-49471efcf2d8",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840341,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Background thread / handler methods",
              [
                [
                  "b"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Background thread / handler methods",
            "AttrFlags": 1
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840341,
        "id": "be59b804-2284-4296-be93-1bdb60bfcad2",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840341,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "private void startBackgroundThread() {\n    mBackgroundThread = new HandlerThread(\"CameraBackground\");\n    mBackgroundThread.start();\n    mBackgroundHandler = new Handler(mBackgroundThread.getLooper());\n}\n\nprivate void stopBackgroundThread() {\n    mBackgroundThread.quitSafely();\n    try {\n        mBackgroundThread.join();\n        mBackgroundThread = null;\n        mBackgroundHandler = null;\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "private void startBackgroundThread() {\n    mBackgroundThread = new HandlerThread(\"CameraBackground\");\n    mBackgroundThread.start();\n    mBackgroundHandler = new Handler(mBackgroundThread.getLooper());\n}\n\nprivate void stopBackgroundThread() {\n    mBackgroundThread.quitSafely();\n    try {\n        mBackgroundThread.join();\n        mBackgroundThread = null;\n        mBackgroundHandler = null;\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840341,
        "id": "4febae36-d134-4b0b-88ff-6f4efb080aba",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840341,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Utility methods",
              [
                [
                  "b"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Utility methods",
            "AttrFlags": 1
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840341,
        "id": "7fdc090b-cdc5-4489-9faa-294432b3f78b",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840341,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Given choices of "
            ],
            [
              "Size",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "s supported by a camera, choose the smallest one that is at least at large as the respective texture view size, and that is as most as large as the respective max size, and whose aspect ratio matches with the specified value. If doesn’t exist, choose the largest one that is at most as large as the respective max size, and whose aspect ratio matches with the specified value"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Given choices of "
          },
          {
            "Text": "Size",
            "AttrFlags": 2
          },
          {
            "Text": "s supported by a camera, choose the smallest one that is at least at large as the respective texture view size, and that is as most as large as the respective max size, and whose aspect ratio matches with the specified value. If doesn’t exist, choose the largest one that is at most as large as the respective max size, and whose aspect ratio matches with the specified value"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840341,
        "id": "c410faf3-6752-4a42-9320-8433e9cbe2d4",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840341,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "private static Size chooseOptimalSize(Size[] choices, int textureViewWidth,\n                                      int textureViewHeight, int maxWidth, int maxHeight, Size aspectRatio) {\n\n    // Collect the supported resolutions that are at least as big as the preview Surface\n    List\u003cSize\u003e bigEnough = new ArrayList\u003c\u003e();\n    // Collect the supported resolutions that are smaller than the preview Surface\n    List\u003cSize\u003e notBigEnough = new ArrayList\u003c\u003e();\n    int w = aspectRatio.getWidth();\n    int h = aspectRatio.getHeight();\n    for (Size option : choices) {\n        if (option.getWidth() \u003c= maxWidth \u0026\u0026 option.getHeight() \u003c= maxHeight \u0026\u0026\n                option.getHeight() == option.getWidth() * h / w) {\n            if (option.getWidth() \u003e= textureViewWidth \u0026\u0026\n                    option.getHeight() \u003e= textureViewHeight) {\n                bigEnough.add(option);\n            } else {\n                notBigEnough.add(option);\n            }\n        }\n    }\n\n    // Pick the smallest of those big enough. If there is no one big enough, pick the\n    // largest of those not big enough.\n    if (bigEnough.size() \u003e 0) {\n        return Collections.min(bigEnough, new CompareSizesByArea());\n    } else if (notBigEnough.size() \u003e 0) {\n        return Collections.max(notBigEnough, new CompareSizesByArea());\n    } else {\n        Log.e(\"Camera2\", \"Couldn't find any suitable preview size\");\n        return choices[0];\n    }\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "private static Size chooseOptimalSize(Size[] choices, int textureViewWidth,\n                                      int textureViewHeight, int maxWidth, int maxHeight, Size aspectRatio) {\n\n    // Collect the supported resolutions that are at least as big as the preview Surface\n    List\u003cSize\u003e bigEnough = new ArrayList\u003c\u003e();\n    // Collect the supported resolutions that are smaller than the preview Surface\n    List\u003cSize\u003e notBigEnough = new ArrayList\u003c\u003e();\n    int w = aspectRatio.getWidth();\n    int h = aspectRatio.getHeight();\n    for (Size option : choices) {\n        if (option.getWidth() \u003c= maxWidth \u0026\u0026 option.getHeight() \u003c= maxHeight \u0026\u0026\n                option.getHeight() == option.getWidth() * h / w) {\n            if (option.getWidth() \u003e= textureViewWidth \u0026\u0026\n                    option.getHeight() \u003e= textureViewHeight) {\n                bigEnough.add(option);\n            } else {\n                notBigEnough.add(option);\n            }\n        }\n    }\n\n    // Pick the smallest of those big enough. If there is no one big enough, pick the\n    // largest of those not big enough.\n    if (bigEnough.size() \u003e 0) {\n        return Collections.min(bigEnough, new CompareSizesByArea());\n    } else if (notBigEnough.size() \u003e 0) {\n        return Collections.max(notBigEnough, new CompareSizesByArea());\n    } else {\n        Log.e(\"Camera2\", \"Couldn't find any suitable preview size\");\n        return choices[0];\n    }\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840341,
        "id": "418619aa-a3fd-49f7-8f30-8cfadf9f83da",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840341,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "This method congfigures the neccesary "
            ],
            [
              "Matrix",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " transformation to "
            ],
            [
              "mTextureView",
              [
                [
                  "c"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "This method congfigures the neccesary "
          },
          {
            "Text": "Matrix",
            "AttrFlags": 2
          },
          {
            "Text": " transformation to "
          },
          {
            "Text": "mTextureView",
            "AttrFlags": 2
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840341,
        "id": "5d092796-62a2-41bd-aeea-beb8ec961802",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840341,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "private void configureTransform(int viewWidth, int viewHeight) {\n    if (null == mTextureView || null == mPreviewSize) {\n        return;\n    }\n    int rotation = getWindowManager().getDefaultDisplay().getRotation();\n    Matrix matrix = new Matrix();\n    RectF viewRect = new RectF(0, 0, viewWidth, viewHeight);\n    RectF bufferRect = new RectF(0, 0, mPreviewSize.getHeight(), mPreviewSize.getWidth());\n    float centerX = viewRect.centerX();\n    float centerY = viewRect.centerY();\n    if (Surface.ROTATION_90 == rotation || Surface.ROTATION_270 == rotation) {\n        bufferRect.offset(centerX - bufferRect.centerX(), centerY - bufferRect.centerY());\n        matrix.setRectToRect(viewRect, bufferRect, Matrix.ScaleToFit.FILL);\n        float scale = Math.max(\n                (float) viewHeight / mPreviewSize.getHeight(),\n                (float) viewWidth / mPreviewSize.getWidth());\n        matrix.postScale(scale, scale, centerX, centerY);\n        matrix.postRotate(90 * (rotation - 2), centerX, centerY);\n    } else if (Surface.ROTATION_180 == rotation) {\n        matrix.postRotate(180, centerX, centerY);\n    }\n    mTextureView.setTransform(matrix);\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "private void configureTransform(int viewWidth, int viewHeight) {\n    if (null == mTextureView || null == mPreviewSize) {\n        return;\n    }\n    int rotation = getWindowManager().getDefaultDisplay().getRotation();\n    Matrix matrix = new Matrix();\n    RectF viewRect = new RectF(0, 0, viewWidth, viewHeight);\n    RectF bufferRect = new RectF(0, 0, mPreviewSize.getHeight(), mPreviewSize.getWidth());\n    float centerX = viewRect.centerX();\n    float centerY = viewRect.centerY();\n    if (Surface.ROTATION_90 == rotation || Surface.ROTATION_270 == rotation) {\n        bufferRect.offset(centerX - bufferRect.centerX(), centerY - bufferRect.centerY());\n        matrix.setRectToRect(viewRect, bufferRect, Matrix.ScaleToFit.FILL);\n        float scale = Math.max(\n                (float) viewHeight / mPreviewSize.getHeight(),\n                (float) viewWidth / mPreviewSize.getWidth());\n        matrix.postScale(scale, scale, centerX, centerY);\n        matrix.postRotate(90 * (rotation - 2), centerX, centerY);\n    } else if (Surface.ROTATION_180 == rotation) {\n        matrix.postRotate(180, centerX, centerY);\n    }\n    mTextureView.setTransform(matrix);\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840342,
        "id": "616aa8e9-71a1-4c7e-9cba-ac57f518a1f4",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840342,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "This method compares two "
            ],
            [
              "Size",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "s based on their areas."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "This method compares two "
          },
          {
            "Text": "Size",
            "AttrFlags": 2
          },
          {
            "Text": "s based on their areas."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840342,
        "id": "97357a00-dea3-4aef-ac07-742f59a05baa",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840342,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "static class CompareSizesByArea implements Comparator\u003cSize\u003e {\n\n    @Override\n    public int compare(Size lhs, Size rhs) {\n        // We cast here to ensure the multiplications won't overflow\n        return Long.signum((long) lhs.getWidth() * lhs.getHeight() -\n                (long) rhs.getWidth() * rhs.getHeight());\n    }\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "static class CompareSizesByArea implements Comparator\u003cSize\u003e {\n\n    @Override\n    public int compare(Size lhs, Size rhs) {\n        // We cast here to ensure the multiplications won't overflow\n        return Long.signum((long) lhs.getWidth() * lhs.getHeight() -\n                (long) rhs.getWidth() * rhs.getHeight());\n    }\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840342,
        "id": "008935a4-d64a-4dfa-b594-211bb39969bd",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840342,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Not much to see here"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Not much to see here"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550444840342,
        "id": "9f5763fc-0c5a-4e26-ad50-437ff7752c53",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550444840342,
        "parent_id": "11d1affa-e067-44e3-943e-8f788abf3090",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "/**\n * Shows a {@link Toast} on the UI thread.\n *\n * @param text The message to show\n */\nprivate void showToast(final String text) {\n    runOnUiThread(new Runnable() {\n        @Override\n        public void run() {\n            Toast.makeText(Camera2Activity.this, text, Toast.LENGTH_SHORT).show();\n        }\n    });\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "/**\n * Shows a {@link Toast} on the UI thread.\n *\n * @param text The message to show\n */\nprivate void showToast(final String text) {\n    runOnUiThread(new Runnable() {\n        @Override\n        public void run() {\n            Toast.makeText(Camera2Activity.this, text, Toast.LENGTH_SHORT).show();\n        }\n    });\n}",
        "code_language": "Plain Text"
      }
    ],
    "title": "Preview the main camera in a TextureView",
    "format_page": {
      "page_cover": "",
      "page_cover_position": 0,
      "page_font": "",
      "page_full_width": true,
      "page_icon": "",
      "page_small_text": true
    }
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 18
    }
  ],
  "Tables": null
}