{
  "ID": "94d987e8-b50f-401d-8479-f6f29de5843c",
  "Root": {
    "alive": true,
    "content": [
      "5f95602b-ab44-46b5-97c9-6df92d4eac7c",
      "fd3a91d0-0e66-4a05-835b-1f6583370434",
      "65d8a793-1cf5-435e-9629-9a4f1ba2b641",
      "5ed2eb93-13d8-455d-883c-448f6fece4c6",
      "50166e87-c709-4266-8dc4-35cee5421cfb",
      "41b355fa-e926-4163-a647-028d92800078",
      "5a68b084-8c55-451f-ab87-978f3b9f8718",
      "d72a3b38-01c5-4efa-a89c-dbb2a354e917",
      "25ed169d-ad0a-43e5-9b10-56d66d0703e5",
      "210f70cc-a6d6-4f29-9f1b-f66c17d4df41",
      "7f723ae1-1489-4f15-9be0-2440b97c1fe8",
      "6ea74479-795f-4464-a79f-6403da8eb649",
      "5d649dd2-886c-4011-b5ee-74c6cc6d3cac",
      "9d4ae80f-7bf7-4cb2-b61b-c230e7fd49c5",
      "e3159792-45e2-448f-b5d5-91c1c8e5a19a",
      "072f7d22-5818-46fe-9ce7-4c3497b78405",
      "27b7a967-adbf-4e75-9268-adcdfcee4a1d",
      "cff11647-cf23-4638-935e-2c5ad71c2f26",
      "b9ce3b67-cd8e-471d-9c18-58fdf8e27119",
      "e0def152-f78f-4581-9803-ba751cae7af6",
      "d2ec6d49-81ac-48f0-b3f6-14d9ee25def5"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1550453249045,
    "id": "94d987e8-b50f-401d-8479-f6f29de5843c",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1550453249045,
    "parent_id": "f44828a7-258c-4f49-a93d-61c1a597943f",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "020 Fastfile to build and upload multiple flavors to Beta by Crashlytics"
        ]
      ]
    },
    "type": "page",
    "version": 1,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550453249036,
        "id": "5f95602b-ab44-46b5-97c9-6df92d4eac7c",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550453249036,
        "parent_id": "94d987e8-b50f-401d-8479-f6f29de5843c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "This is a sample "
            ],
            [
              "Fastfile",
              [
                [
                  "b"
                ]
              ]
            ],
            [
              " setup for a multi-flavor app. It gives you an option to build and deploy all flavors or a single flavor. After the deployment, it reports to "
            ],
            [
              "Slack",
              [
                [
                  "b"
                ]
              ]
            ],
            [
              " the status of the deployment, and sends a notification to testers in Beta by Crashlytics testers group."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "This is a sample "
          },
          {
            "Text": "Fastfile",
            "AttrFlags": 1
          },
          {
            "Text": " setup for a multi-flavor app. It gives you an option to build and deploy all flavors or a single flavor. After the deployment, it reports to "
          },
          {
            "Text": "Slack",
            "AttrFlags": 1
          },
          {
            "Text": " the status of the deployment, and sends a notification to testers in Beta by Crashlytics testers group."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550453249039,
        "id": "fd3a91d0-0e66-4a05-835b-1f6583370434",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550453249039,
        "parent_id": "94d987e8-b50f-401d-8479-f6f29de5843c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "To build and deploy all flavors use:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "To build and deploy all flavors use:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550453249039,
        "id": "65d8a793-1cf5-435e-9629-9a4f1ba2b641",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550453249039,
        "parent_id": "94d987e8-b50f-401d-8479-f6f29de5843c",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "fastlane android beta"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "fastlane android beta",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550453249040,
        "id": "5ed2eb93-13d8-455d-883c-448f6fece4c6",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550453249040,
        "parent_id": "94d987e8-b50f-401d-8479-f6f29de5843c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "To build a single APK and deploy use:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "To build a single APK and deploy use:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550453249040,
        "id": "50166e87-c709-4266-8dc4-35cee5421cfb",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550453249040,
        "parent_id": "94d987e8-b50f-401d-8479-f6f29de5843c",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "fastlane android beta app:flavorName"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "fastlane android beta app:flavorName",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550453249040,
        "id": "41b355fa-e926-4163-a647-028d92800078",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550453249040,
        "parent_id": "94d987e8-b50f-401d-8479-f6f29de5843c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Using a single Fastlane file, you can manage iOS, Android, and Mac apps. If you are using this file just for one app "
            ],
            [
              "platform",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " is not required."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Using a single Fastlane file, you can manage iOS, Android, and Mac apps. If you are using this file just for one app "
          },
          {
            "Text": "platform",
            "AttrFlags": 2
          },
          {
            "Text": " is not required."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550453249040,
        "id": "5a68b084-8c55-451f-ab87-978f3b9f8718",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550453249040,
        "parent_id": "94d987e8-b50f-401d-8479-f6f29de5843c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "How It Works",
              [
                [
                  "b"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "How It Works",
            "AttrFlags": 1
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550453249041,
        "id": "d72a3b38-01c5-4efa-a89c-dbb2a354e917",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550453249041,
        "parent_id": "94d987e8-b50f-401d-8479-f6f29de5843c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "android",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " argument tells fastlane that we will use "
            ],
            [
              ":android",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " platform."
            ]
          ]
        },
        "type": "numbered_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "android",
            "AttrFlags": 2
          },
          {
            "Text": " argument tells fastlane that we will use "
          },
          {
            "Text": ":android",
            "AttrFlags": 2
          },
          {
            "Text": " platform."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550453249041,
        "id": "25ed169d-ad0a-43e5-9b10-56d66d0703e5",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550453249041,
        "parent_id": "94d987e8-b50f-401d-8479-f6f29de5843c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Inside "
            ],
            [
              ":android",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " platform you can have multiple lanes. Currently, I have only "
            ],
            [
              ":beta",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " lane. The second argument from the command above specifies the lane we want to use."
            ]
          ]
        },
        "type": "numbered_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "Inside "
          },
          {
            "Text": ":android",
            "AttrFlags": 2
          },
          {
            "Text": " platform you can have multiple lanes. Currently, I have only "
          },
          {
            "Text": ":beta",
            "AttrFlags": 2
          },
          {
            "Text": " lane. The second argument from the command above specifies the lane we want to use."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550453249041,
        "id": "210f70cc-a6d6-4f29-9f1b-f66c17d4df41",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550453249041,
        "parent_id": "94d987e8-b50f-401d-8479-f6f29de5843c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "options[:app]",
              [
                [
                  "c"
                ]
              ]
            ]
          ]
        },
        "type": "numbered_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "options[:app]",
            "AttrFlags": 2
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550453249042,
        "id": "7f723ae1-1489-4f15-9be0-2440b97c1fe8",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550453249042,
        "parent_id": "94d987e8-b50f-401d-8479-f6f29de5843c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "There are two "
            ],
            [
              "Gradle",
              [
                [
                  "b"
                ]
              ]
            ],
            [
              " tasks. First, it runs "
            ],
            [
              "gradle clean",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ". If you provided a flavor with "
            ],
            [
              "app",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " key, fastfile runs "
            ],
            [
              "gradle assembleReleaseFlavor",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ". Otherwise, it runs "
            ],
            [
              "gradle assembleRelease",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " to build all build flavors."
            ]
          ]
        },
        "type": "numbered_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "There are two "
          },
          {
            "Text": "Gradle",
            "AttrFlags": 1
          },
          {
            "Text": " tasks. First, it runs "
          },
          {
            "Text": "gradle clean",
            "AttrFlags": 2
          },
          {
            "Text": ". If you provided a flavor with "
          },
          {
            "Text": "app",
            "AttrFlags": 2
          },
          {
            "Text": " key, fastfile runs "
          },
          {
            "Text": "gradle assembleReleaseFlavor",
            "AttrFlags": 2
          },
          {
            "Text": ". Otherwise, it runs "
          },
          {
            "Text": "gradle assembleRelease",
            "AttrFlags": 2
          },
          {
            "Text": " to build all build flavors."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550453249042,
        "id": "6ea74479-795f-4464-a79f-6403da8eb649",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550453249042,
        "parent_id": "94d987e8-b50f-401d-8479-f6f29de5843c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "If we are building for all flavors, an array of generated APK file names is stored inside "
            ],
            [
              "SharedValues::GRADLE_ALL_APK_OUTPUT_PATHS",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ". We use this to loop through generated files and deploy them to "
            ],
            [
              "Beta by Crashlytics",
              [
                [
                  "b"
                ]
              ]
            ],
            [
              ". "
            ],
            [
              "notifications",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " and "
            ],
            [
              "groups",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " fields are optional. They are used to notify testers registered for the app on "
            ],
            [
              "Beta by Crashlytics",
              [
                [
                  "b"
                ]
              ]
            ],
            [
              "."
            ]
          ]
        },
        "type": "numbered_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "If we are building for all flavors, an array of generated APK file names is stored inside "
          },
          {
            "Text": "SharedValues::GRADLE_ALL_APK_OUTPUT_PATHS",
            "AttrFlags": 2
          },
          {
            "Text": ". We use this to loop through generated files and deploy them to "
          },
          {
            "Text": "Beta by Crashlytics",
            "AttrFlags": 1
          },
          {
            "Text": ". "
          },
          {
            "Text": "notifications",
            "AttrFlags": 2
          },
          {
            "Text": " and "
          },
          {
            "Text": "groups",
            "AttrFlags": 2
          },
          {
            "Text": " fields are optional. They are used to notify testers registered for the app on "
          },
          {
            "Text": "Beta by Crashlytics",
            "AttrFlags": 1
          },
          {
            "Text": "."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550453249042,
        "id": "5d649dd2-886c-4011-b5ee-74c6cc6d3cac",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550453249042,
        "parent_id": "94d987e8-b50f-401d-8479-f6f29de5843c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "If you are familiar with Crashlytics, you might know that to activate an app in the portal, you have to run it on a device and use it first. Otherwise, Crashlytics will assume the app inactive and throw an error. In this scenario, I capture it and report to "
            ],
            [
              "Slack",
              [
                [
                  "b"
                ]
              ]
            ],
            [
              " as a failure, so you will know which app is inactive."
            ]
          ]
        },
        "type": "numbered_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "If you are familiar with Crashlytics, you might know that to activate an app in the portal, you have to run it on a device and use it first. Otherwise, Crashlytics will assume the app inactive and throw an error. In this scenario, I capture it and report to "
          },
          {
            "Text": "Slack",
            "AttrFlags": 1
          },
          {
            "Text": " as a failure, so you will know which app is inactive."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550453249043,
        "id": "9d4ae80f-7bf7-4cb2-b61b-c230e7fd49c5",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550453249043,
        "parent_id": "94d987e8-b50f-401d-8479-f6f29de5843c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "If deployment is successful, "
            ],
            [
              "fastlane",
              [
                [
                  "b"
                ]
              ]
            ],
            [
              " will send a success message to "
            ],
            [
              "Slack",
              [
                [
                  "b"
                ]
              ]
            ],
            [
              "."
            ]
          ]
        },
        "type": "numbered_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "If deployment is successful, "
          },
          {
            "Text": "fastlane",
            "AttrFlags": 1
          },
          {
            "Text": " will send a success message to "
          },
          {
            "Text": "Slack",
            "AttrFlags": 1
          },
          {
            "Text": "."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550453249043,
        "id": "e3159792-45e2-448f-b5d5-91c1c8e5a19a",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550453249043,
        "parent_id": "94d987e8-b50f-401d-8479-f6f29de5843c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "#{/([^\\/]*)$/.match(apk)}",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " this regex is used to get flavor name from APK path. You can remove it if it does not work for you."
            ]
          ]
        },
        "type": "numbered_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "#{/([^\\/]*)$/.match(apk)}",
            "AttrFlags": 2
          },
          {
            "Text": " this regex is used to get flavor name from APK path. You can remove it if it does not work for you."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550453249043,
        "id": "072f7d22-5818-46fe-9ce7-4c3497b78405",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550453249043,
        "parent_id": "94d987e8-b50f-401d-8479-f6f29de5843c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "get_version_name",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " and "
            ],
            [
              "get_version_code",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " are two "
            ],
            [
              "Fastlane",
              [
                [
                  "b"
                ]
              ]
            ],
            [
              " plugins to retrieve app version name and code. You have to install these gems if you want to use, or you can remove them. Read more about Plugins here."
            ]
          ]
        },
        "type": "numbered_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "get_version_name",
            "AttrFlags": 2
          },
          {
            "Text": " and "
          },
          {
            "Text": "get_version_code",
            "AttrFlags": 2
          },
          {
            "Text": " are two "
          },
          {
            "Text": "Fastlane",
            "AttrFlags": 1
          },
          {
            "Text": " plugins to retrieve app version name and code. You have to install these gems if you want to use, or you can remove them. Read more about Plugins here."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550453249044,
        "id": "27b7a967-adbf-4e75-9268-adcdfcee4a1d",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550453249044,
        "parent_id": "94d987e8-b50f-401d-8479-f6f29de5843c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The "
            ],
            [
              "else",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " statement will be executed if you are building and deploying a single APK. We don’t have to provide "
            ],
            [
              "apk_path",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " to Crashlytics since we have only one app."
            ]
          ]
        },
        "type": "numbered_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "The "
          },
          {
            "Text": "else",
            "AttrFlags": 2
          },
          {
            "Text": " statement will be executed if you are building and deploying a single APK. We don’t have to provide "
          },
          {
            "Text": "apk_path",
            "AttrFlags": 2
          },
          {
            "Text": " to Crashlytics since we have only one app."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550453249044,
        "id": "cff11647-cf23-4638-935e-2c5ad71c2f26",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550453249044,
        "parent_id": "94d987e8-b50f-401d-8479-f6f29de5843c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "error do",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " block at the end is used to get notified if anything else goes wrong during execution."
            ]
          ]
        },
        "type": "numbered_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "error do",
            "AttrFlags": 2
          },
          {
            "Text": " block at the end is used to get notified if anything else goes wrong during execution."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550453249044,
        "id": "b9ce3b67-cd8e-471d-9c18-58fdf8e27119",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550453249044,
        "parent_id": "94d987e8-b50f-401d-8479-f6f29de5843c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Note",
              [
                [
                  "b"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Note",
            "AttrFlags": 1
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550453249044,
        "id": "e0def152-f78f-4581-9803-ba751cae7af6",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550453249044,
        "parent_id": "94d987e8-b50f-401d-8479-f6f29de5843c",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Don’t forget to replace "
            ],
            [
              "SLACK_URL",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ", "
            ],
            [
              "API_TOKEN",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ", "
            ],
            [
              "GROUP_NAME",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " and "
            ],
            [
              "BUILD_SECRET",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " with your own credentials."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Don’t forget to replace "
          },
          {
            "Text": "SLACK_URL",
            "AttrFlags": 2
          },
          {
            "Text": ", "
          },
          {
            "Text": "API_TOKEN",
            "AttrFlags": 2
          },
          {
            "Text": ", "
          },
          {
            "Text": "GROUP_NAME",
            "AttrFlags": 2
          },
          {
            "Text": " and "
          },
          {
            "Text": "BUILD_SECRET",
            "AttrFlags": 2
          },
          {
            "Text": " with your own credentials."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550453249045,
        "id": "d2ec6d49-81ac-48f0-b3f6-14d9ee25def5",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550453249045,
        "parent_id": "94d987e8-b50f-401d-8479-f6f29de5843c",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "fastlane_version \"1.46.1\"\n\ndefault_platform :android\n\nplatform :android do\n\n    before_all do\n        ENV[\"SLACK_URL\"] = \"https://hooks.slack.com/servic....\"\n    end\n    \n    lane :beta do |options|\n        # Clean and build the Release version of the app.\n        # Usage `fastlane android beta app:flavorName`\n    \n        gradle(task: \"clean\")\n    \n        gradle(task: \"assemble\",\n               build_type: \"Release\",\n               flavor: options[:app])\n    \n        # If user calls `fastlane android beta` command, it will build all projects and push them to Crashlytics\n        if options[:app].nil?\n            lane_context[SharedValues::GRADLE_ALL_APK_OUTPUT_PATHS].each do | apk |\n    \n                puts \"Uploading APK to Crashlytics: \" + apk\n    \n                begin\n                    crashlytics(\n                      api_token: \"[API_TOKEN]\",\n                      build_secret: \"[BUILD_SECRET]\",\n                      groups: \"[GROUP_NAME]\",\n                      apk_path: apk,\n                      notifications: \"true\"\n                    )\n    \n                    slack(\n                      message: \"Successfully deployed new build for #{/([^\\/]*)$/.match(apk)} #{get_version_name} - #{get_version_code}\",\n                      success: true,\n                      default_payloads: [:git_branch, :lane, :test_result]\n                    )\n                rescue =\u003e ex\n                    # If the app is inactive in Crashlytics, deployment will fail. Handle it here and report to slack\n                    slack(\n                        message: \"Error uploading =\u003e #{/([^\\/]*)$/.match(apk)} #{get_version_name} - #{get_version_code}: #{ex}\",\n                        success: false,\n                        default_payloads: [:git_branch, :lane, :test_result]\n                    )\n                end\n            end\n    \n            after_all do |lane|\n                # This block is called, only if the executed lane was successful\n                slack(\n                    message: \"Operation completed for #{lane_context[SharedValues::GRADLE_ALL_APK_OUTPUT_PATHS].size} app(s) for #{get_version_name} - #{get_version_code}\",\n                    default_payloads: [:git_branch, :lane, :test_result],\n                    success: true\n                )\n            end\n        else\n            # Single APK upload to Beta by Crashlytics\n            crashlytics(\n                api_token: \"[API_TOKEN]\",\n                build_secret: \"[BUILD_SECRET]\",\n                groups: \"[GROUP_NAME]\",\n                notifications: \"true\"\n            )\n    \n            after_all do |lane|\n                # This block is called, only if the executed lane was successful\n                slack(\n                    message: \"Successfully deployed new build for #{options[:app]} #{get_version_name} - #{get_version_code}\",\n                    default_payloads: [:git_branch, :lane, :test_result],\n                    success: true\n                )\n            end\n        end\n    \n        error do |lane, exception|\n            slack(\n                message: exception.message,\n                success: false,\n                default_payloads: [:git_branch, :lane, :test_result]\n            )\n        end\n    end\nend"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "fastlane_version \"1.46.1\"\n\ndefault_platform :android\n\nplatform :android do\n\n    before_all do\n        ENV[\"SLACK_URL\"] = \"https://hooks.slack.com/servic....\"\n    end\n    \n    lane :beta do |options|\n        # Clean and build the Release version of the app.\n        # Usage `fastlane android beta app:flavorName`\n    \n        gradle(task: \"clean\")\n    \n        gradle(task: \"assemble\",\n               build_type: \"Release\",\n               flavor: options[:app])\n    \n        # If user calls `fastlane android beta` command, it will build all projects and push them to Crashlytics\n        if options[:app].nil?\n            lane_context[SharedValues::GRADLE_ALL_APK_OUTPUT_PATHS].each do | apk |\n    \n                puts \"Uploading APK to Crashlytics: \" + apk\n    \n                begin\n                    crashlytics(\n                      api_token: \"[API_TOKEN]\",\n                      build_secret: \"[BUILD_SECRET]\",\n                      groups: \"[GROUP_NAME]\",\n                      apk_path: apk,\n                      notifications: \"true\"\n                    )\n    \n                    slack(\n                      message: \"Successfully deployed new build for #{/([^\\/]*)$/.match(apk)} #{get_version_name} - #{get_version_code}\",\n                      success: true,\n                      default_payloads: [:git_branch, :lane, :test_result]\n                    )\n                rescue =\u003e ex\n                    # If the app is inactive in Crashlytics, deployment will fail. Handle it here and report to slack\n                    slack(\n                        message: \"Error uploading =\u003e #{/([^\\/]*)$/.match(apk)} #{get_version_name} - #{get_version_code}: #{ex}\",\n                        success: false,\n                        default_payloads: [:git_branch, :lane, :test_result]\n                    )\n                end\n            end\n    \n            after_all do |lane|\n                # This block is called, only if the executed lane was successful\n                slack(\n                    message: \"Operation completed for #{lane_context[SharedValues::GRADLE_ALL_APK_OUTPUT_PATHS].size} app(s) for #{get_version_name} - #{get_version_code}\",\n                    default_payloads: [:git_branch, :lane, :test_result],\n                    success: true\n                )\n            end\n        else\n            # Single APK upload to Beta by Crashlytics\n            crashlytics(\n                api_token: \"[API_TOKEN]\",\n                build_secret: \"[BUILD_SECRET]\",\n                groups: \"[GROUP_NAME]\",\n                notifications: \"true\"\n            )\n    \n            after_all do |lane|\n                # This block is called, only if the executed lane was successful\n                slack(\n                    message: \"Successfully deployed new build for #{options[:app]} #{get_version_name} - #{get_version_code}\",\n                    default_payloads: [:git_branch, :lane, :test_result],\n                    success: true\n                )\n            end\n        end\n    \n        error do |lane, exception|\n            slack(\n                message: exception.message,\n                success: false,\n                default_payloads: [:git_branch, :lane, :test_result]\n            )\n        end\n    end\nend",
        "code_language": "Plain Text"
      }
    ],
    "title": "020 Fastfile to build and upload multiple flavors to Beta by Crashlytics"
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 18
    }
  ],
  "Tables": null
}