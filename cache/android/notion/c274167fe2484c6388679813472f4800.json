{
  "ID": "c274167f-e248-4c63-8867-9813472f4800",
  "Root": {
    "alive": true,
    "content": [
      "4ed1f08b-9ad8-494e-8e7a-fa99abcd0310",
      "c59b9fc4-04fd-45eb-8afc-090638a69f82",
      "5122ba86-1d44-440f-8315-9e29bfd189f0",
      "97475df9-3296-4df0-8c57-446c4afb7d85",
      "2b3da42a-9b68-454b-8336-744bc2da8576",
      "306c3bf8-1c79-43ac-8b15-7c76e702adba",
      "525aa78b-8764-4ab1-99a9-83913ae1b10e",
      "4a4a0435-d227-4b5c-b157-1d9e4b6313fc",
      "234e2cb5-6d30-43ac-a5c8-37e29d85997d",
      "2f4aacb3-f3e0-4525-9b8d-0288943eaed9",
      "ed1169f0-6cc5-4b81-9a1c-d011ae86e423",
      "d6173f90-dc84-469d-b932-3621f6c41629",
      "62d69d82-2a3d-47ae-9858-6a5ea9697ca3"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1550445436886,
    "format": {
      "page_full_width": true,
      "page_small_text": true
    },
    "id": "c274167f-e248-4c63-8867-9813472f4800",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1550445436886,
    "parent_id": "621f346c-f9c6-4d5c-8e6e-6106d643fcce",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "CustomView performance tips"
        ]
      ]
    },
    "type": "page",
    "version": 3,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445436881,
        "id": "4ed1f08b-9ad8-494e-8e7a-fa99abcd0310",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445436881,
        "parent_id": "c274167f-e248-4c63-8867-9813472f4800",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Do not allocate new objects in "
            ],
            [
              "onDraw",
              [
                [
                  "b"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Do not allocate new objects in "
          },
          {
            "Text": "onDraw",
            "AttrFlags": 1
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445436884,
        "id": "c59b9fc4-04fd-45eb-8afc-090638a69f82",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445436884,
        "parent_id": "c274167f-e248-4c63-8867-9813472f4800",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "@Override\nprotected void onDraw(Canvas canvas) {\n    super.onDraw(canvas);\n    Paint paint = new Paint(); //Do not allocate here\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "@Override\nprotected void onDraw(Canvas canvas) {\n    super.onDraw(canvas);\n    Paint paint = new Paint(); //Do not allocate here\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445436885,
        "id": "5122ba86-1d44-440f-8315-9e29bfd189f0",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445436885,
        "parent_id": "c274167f-e248-4c63-8867-9813472f4800",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Instead of drawing drawables in canvas…"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Instead of drawing drawables in canvas…"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445436885,
        "id": "97475df9-3296-4df0-8c57-446c4afb7d85",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445436885,
        "parent_id": "c274167f-e248-4c63-8867-9813472f4800",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "drawable.setBounds(boundsRect);\n\ndrawable.draw(canvas);"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "drawable.setBounds(boundsRect);\n\ndrawable.draw(canvas);",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445436885,
        "id": "2b3da42a-9b68-454b-8336-744bc2da8576",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445436885,
        "parent_id": "c274167f-e248-4c63-8867-9813472f4800",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Use a Bitmap for faster drawing:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Use a Bitmap for faster drawing:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445436885,
        "id": "306c3bf8-1c79-43ac-8b15-7c76e702adba",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445436885,
        "parent_id": "c274167f-e248-4c63-8867-9813472f4800",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "canvas.drawBitmap(bitmap, srcRect, boundsRect, paint);"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "canvas.drawBitmap(bitmap, srcRect, boundsRect, paint);",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445436885,
        "id": "525aa78b-8764-4ab1-99a9-83913ae1b10e",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445436885,
        "parent_id": "c274167f-e248-4c63-8867-9813472f4800",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Do not redraw the entire view to update just a small part of it. Instead redraw the specific part of view."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Do not redraw the entire view to update just a small part of it. Instead redraw the specific part of view."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445436885,
        "id": "4a4a0435-d227-4b5c-b157-1d9e4b6313fc",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445436885,
        "parent_id": "c274167f-e248-4c63-8867-9813472f4800",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "invalidate(boundToBeRefreshed);"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "invalidate(boundToBeRefreshed);",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445436886,
        "id": "234e2cb5-6d30-43ac-a5c8-37e29d85997d",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445436886,
        "parent_id": "c274167f-e248-4c63-8867-9813472f4800",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "If your view is doing some continuous animation, for instance a watch-face showing each and every second, at least stop the animation at "
            ],
            [
              "onStop()",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " of the activity and start it back on "
            ],
            [
              "onStart()",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " of the activity."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "If your view is doing some continuous animation, for instance a watch-face showing each and every second, at least stop the animation at "
          },
          {
            "Text": "onStop()",
            "AttrFlags": 2
          },
          {
            "Text": " of the activity and start it back on "
          },
          {
            "Text": "onStart()",
            "AttrFlags": 2
          },
          {
            "Text": " of the activity."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445436886,
        "id": "2f4aacb3-f3e0-4525-9b8d-0288943eaed9",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445436886,
        "parent_id": "c274167f-e248-4c63-8867-9813472f4800",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Do not do any calculations inside the "
            ],
            [
              "onDraw",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " method of a view, you should instead finish drawing before calling "
            ],
            [
              "invalidate()",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ". By using this technique you can avoid frame dropping in your view."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Do not do any calculations inside the "
          },
          {
            "Text": "onDraw",
            "AttrFlags": 2
          },
          {
            "Text": " method of a view, you should instead finish drawing before calling "
          },
          {
            "Text": "invalidate()",
            "AttrFlags": 2
          },
          {
            "Text": ". By using this technique you can avoid frame dropping in your view."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445436886,
        "id": "ed1169f0-6cc5-4b81-9a1c-d011ae86e423",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445436886,
        "parent_id": "c274167f-e248-4c63-8867-9813472f4800",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Rotations",
              [
                [
                  "b"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Rotations",
            "AttrFlags": 1
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445436886,
        "id": "d6173f90-dc84-469d-b932-3621f6c41629",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445436886,
        "parent_id": "c274167f-e248-4c63-8867-9813472f4800",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "The basic operations of a view are translate, rotate, etc… Almost every developer has faced this problem when they use bitmap or gradients in their custom view. If the view is going to show a rotated view and the bitmap has to be rotated in that custom view, many of us will think that it will be expensive. Many think that rotating a bitmap is very expensive because in order to do that, you need to translate the bitmap’s pixel matrix. But the truth is that it is not that tough! Instead of rotating the bitmap, just rotate the canvas itself!"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "The basic operations of a view are translate, rotate, etc… Almost every developer has faced this problem when they use bitmap or gradients in their custom view. If the view is going to show a rotated view and the bitmap has to be rotated in that custom view, many of us will think that it will be expensive. Many think that rotating a bitmap is very expensive because in order to do that, you need to translate the bitmap’s pixel matrix. But the truth is that it is not that tough! Instead of rotating the bitmap, just rotate the canvas itself!"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550445436886,
        "id": "62d69d82-2a3d-47ae-9858-6a5ea9697ca3",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550445436886,
        "parent_id": "c274167f-e248-4c63-8867-9813472f4800",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "// Save the canvas state\nint save = canvas.save();\n// Rotate the canvas by providing the  center point as pivot and angle\ncanvas.rotate(pivotX, pivotY, angle);\n// Draw whatever you want\n// Basically whatever you draw here will be drawn as per the angle you rotated the canvas\ncanvas.drawBitmap(...);\n// Now restore your your canvas to its original state\ncanvas.restore(save);\n// Unless canvas is restored to its original state, further draw will also be rotated."
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "// Save the canvas state\nint save = canvas.save();\n// Rotate the canvas by providing the  center point as pivot and angle\ncanvas.rotate(pivotX, pivotY, angle);\n// Draw whatever you want\n// Basically whatever you draw here will be drawn as per the angle you rotated the canvas\ncanvas.drawBitmap(...);\n// Now restore your your canvas to its original state\ncanvas.restore(save);\n// Unless canvas is restored to its original state, further draw will also be rotated.",
        "code_language": "Plain Text"
      }
    ],
    "title": "CustomView performance tips",
    "format_page": {
      "page_cover": "",
      "page_cover_position": 0,
      "page_font": "",
      "page_full_width": true,
      "page_icon": "",
      "page_small_text": true
    }
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 18
    }
  ],
  "Tables": null
}