{
  "ID": "97b6ff64-ecff-4431-8db0-03b562762065",
  "Root": {
    "alive": true,
    "content": [
      "a4be44ff-7076-4618-823a-8b6cbbb853bd",
      "27122b23-a636-411b-b0f9-0a7557b799c8",
      "5ef3a742-c3cc-4778-94f7-04cbc643543d",
      "61baf8c3-ffd2-44ea-8bce-ca607d94aed0",
      "b821365c-e2f8-449e-9653-fcfbb5fedee2",
      "aa8987fe-61bf-4094-96f7-5f7c18ee6f8c",
      "6f1c9628-ab9a-4509-abf6-24e4bfc17eb3",
      "7675a7b2-9ebd-4faf-bca2-27d98889edcb",
      "137bd9b9-0fbe-43ff-a635-79bb6118dfa4",
      "46d3bf43-6ecc-42ca-be7e-c8c678752e01",
      "499a7971-e156-4608-85f7-c160fab57673"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1550447443919,
    "id": "97b6ff64-ecff-4431-8db0-03b562762065",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1550447443919,
    "parent_id": "cf2c473f-5e00-4648-971f-43398123cc33",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "020 Multiple Runtime Permissions From Same Permission Groups"
        ]
      ]
    },
    "type": "page",
    "version": 1,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550447443915,
        "id": "a4be44ff-7076-4618-823a-8b6cbbb853bd",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550447443915,
        "parent_id": "97b6ff64-ecff-4431-8db0-03b562762065",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "In the manifest we have fours dangerous runtime permissions from two groups."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "In the manifest we have fours dangerous runtime permissions from two groups."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550447443917,
        "id": "27122b23-a636-411b-b0f9-0a7557b799c8",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550447443917,
        "parent_id": "97b6ff64-ecff-4431-8db0-03b562762065",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "\u003c!-- Required to read and write to shredPref file. --\u003e\n\u003cuses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"/\u003e\n\u003cuses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\"/\u003e\n\n\u003c!-- Required to get location of device. --\u003e\n\u003cuses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\"/\u003e\n\u003cuses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\"/\u003e"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "\u003c!-- Required to read and write to shredPref file. --\u003e\n\u003cuses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"/\u003e\n\u003cuses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\"/\u003e\n\n\u003c!-- Required to get location of device. --\u003e\n\u003cuses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\"/\u003e\n\u003cuses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\"/\u003e",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550447443918,
        "id": "5ef3a742-c3cc-4778-94f7-04cbc643543d",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550447443918,
        "parent_id": "97b6ff64-ecff-4431-8db0-03b562762065",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "In the activity where the permissions are required. Note it is important to check for permissions in any activity that requires permissions, as the permissions can be revoked while the app is in the background and the app will then crash."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "In the activity where the permissions are required. Note it is important to check for permissions in any activity that requires permissions, as the permissions can be revoked while the app is in the background and the app will then crash."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550447443918,
        "id": "61baf8c3-ffd2-44ea-8bce-ca607d94aed0",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550447443918,
        "parent_id": "97b6ff64-ecff-4431-8db0-03b562762065",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "final private int REQUEST_CODE_ASK_MULTIPLE_PERMISSIONS = 124;"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "final private int REQUEST_CODE_ASK_MULTIPLE_PERMISSIONS = 124;",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550447443918,
        "id": "b821365c-e2f8-449e-9653-fcfbb5fedee2",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550447443918,
        "parent_id": "97b6ff64-ecff-4431-8db0-03b562762065",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.act_layout);\n    \n    // A simple check of whether runtime permissions need to be managed \n    if (Build.VERSION.SDK_INT \u003e= 23) {\n        checkMultiplePermissions();\n    }"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.act_layout);\n    \n    // A simple check of whether runtime permissions need to be managed \n    if (Build.VERSION.SDK_INT \u003e= 23) {\n        checkMultiplePermissions();\n    }",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550447443918,
        "id": "aa8987fe-61bf-4094-96f7-5f7c18ee6f8c",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550447443918,
        "parent_id": "97b6ff64-ecff-4431-8db0-03b562762065",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "We only need to ask for permission for one of these from each group and all other permissions from this group are granted unless the permission is revoked by the user."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "We only need to ask for permission for one of these from each group and all other permissions from this group are granted unless the permission is revoked by the user."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550447443918,
        "id": "6f1c9628-ab9a-4509-abf6-24e4bfc17eb3",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550447443918,
        "parent_id": "97b6ff64-ecff-4431-8db0-03b562762065",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "private void checkMultiplePermissions() {\n\n if (Build.VERSION.SDK_INT \u003e= 23) {\n     List\u003cString\u003e permissionsNeeded = new ArrayList\u003cString\u003e();\n     List\u003cString\u003e permissionsList = new ArrayList\u003cString\u003e();\n     \n     if (!addPermission(permissionsList, android.Manifest.permission.ACCESS_FINE_LOCATION)) {\n         permissionsNeeded.add(\"GPS\");\n     }\n\n     if (!addPermission(permissionsList, android.Manifest.permission.READ_EXTERNAL_STORAGE)) {\n         permissionsNeeded.add(\"Read Storage\");\n     }\n     \n     if (permissionsList.size() \u003e 0) {\n         requestPermissions(permissionsList.toArray(new String[permissionsList.size()]),\n                 REQUEST_CODE_ASK_MULTIPLE_PERMISSIONS);\n         return;\n     }\n }\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "private void checkMultiplePermissions() {\n\n if (Build.VERSION.SDK_INT \u003e= 23) {\n     List\u003cString\u003e permissionsNeeded = new ArrayList\u003cString\u003e();\n     List\u003cString\u003e permissionsList = new ArrayList\u003cString\u003e();\n     \n     if (!addPermission(permissionsList, android.Manifest.permission.ACCESS_FINE_LOCATION)) {\n         permissionsNeeded.add(\"GPS\");\n     }\n\n     if (!addPermission(permissionsList, android.Manifest.permission.READ_EXTERNAL_STORAGE)) {\n         permissionsNeeded.add(\"Read Storage\");\n     }\n     \n     if (permissionsList.size() \u003e 0) {\n         requestPermissions(permissionsList.toArray(new String[permissionsList.size()]),\n                 REQUEST_CODE_ASK_MULTIPLE_PERMISSIONS);\n         return;\n     }\n }\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550447443918,
        "id": "7675a7b2-9ebd-4faf-bca2-27d98889edcb",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550447443918,
        "parent_id": "97b6ff64-ecff-4431-8db0-03b562762065",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "private boolean addPermission(List\u003cString\u003e permissionsList, String permission) {\n    if (Build.VERSION.SDK_INT \u003e= 23)\n\n        if (checkSelfPermission(permission) != PackageManager.PERMISSION_GRANTED) {\n            permissionsList.add(permission);\n\n            // Check for Rationale Option\n            if (!shouldShowRequestPermissionRationale(permission))\n                return false;\n        }\n    return true;\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "private boolean addPermission(List\u003cString\u003e permissionsList, String permission) {\n    if (Build.VERSION.SDK_INT \u003e= 23)\n\n        if (checkSelfPermission(permission) != PackageManager.PERMISSION_GRANTED) {\n            permissionsList.add(permission);\n\n            // Check for Rationale Option\n            if (!shouldShowRequestPermissionRationale(permission))\n                return false;\n        }\n    return true;\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550447443918,
        "id": "137bd9b9-0fbe-43ff-a635-79bb6118dfa4",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550447443918,
        "parent_id": "97b6ff64-ecff-4431-8db0-03b562762065",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "This deals with the result of the user allowing or not allowing permissions. In this example, if the permissions are not allowed, the app is killed."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "This deals with the result of the user allowing or not allowing permissions. In this example, if the permissions are not allowed, the app is killed."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550447443918,
        "id": "46d3bf43-6ecc-42ca-be7e-c8c678752e01",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550447443918,
        "parent_id": "97b6ff64-ecff-4431-8db0-03b562762065",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "@Override\npublic void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n    switch (requestCode) {\n        case REQUEST_CODE_ASK_MULTIPLE_PERMISSIONS: {\n        \n            Map\u003cString, Integer\u003e perms = new HashMap\u003cString, Integer\u003e();\n            // Initial\n            perms.put(android.Manifest.permission.ACCESS_FINE_LOCATION, PackageManager.PERMISSION_GRANTED);\n            perms.put(android.Manifest.permission.READ_EXTERNAL_STORAGE, PackageManager.PERMISSION_GRANTED);\n            \n            // Fill with results\n            for (int i = 0; i \u003c permissions.length; i++)\n                perms.put(permissions[i], grantResults[i]);\n            if (perms.get(android.Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED\n                    \u0026\u0026 perms.get(android.Manifest.permission.READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\n                // All Permissions Granted\n                return;\n            } else {\n                // Permission Denied\n                if (Build.VERSION.SDK_INT \u003e= 23) {\n                    Toast.makeText(\n                            getApplicationContext(),\n                            \"My App cannot run without Location and Storage \" +\n                                    \"Permissions.\\nRelaunch My App or allow permissions\" +\n                                    \" in Applications Settings\",\n                            Toast.LENGTH_LONG).show();\n                    finish();\n                }\n            }\n        }\n        break;\n        default:\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    }\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "@Override\npublic void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n    switch (requestCode) {\n        case REQUEST_CODE_ASK_MULTIPLE_PERMISSIONS: {\n        \n            Map\u003cString, Integer\u003e perms = new HashMap\u003cString, Integer\u003e();\n            // Initial\n            perms.put(android.Manifest.permission.ACCESS_FINE_LOCATION, PackageManager.PERMISSION_GRANTED);\n            perms.put(android.Manifest.permission.READ_EXTERNAL_STORAGE, PackageManager.PERMISSION_GRANTED);\n            \n            // Fill with results\n            for (int i = 0; i \u003c permissions.length; i++)\n                perms.put(permissions[i], grantResults[i]);\n            if (perms.get(android.Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED\n                    \u0026\u0026 perms.get(android.Manifest.permission.READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\n                // All Permissions Granted\n                return;\n            } else {\n                // Permission Denied\n                if (Build.VERSION.SDK_INT \u003e= 23) {\n                    Toast.makeText(\n                            getApplicationContext(),\n                            \"My App cannot run without Location and Storage \" +\n                                    \"Permissions.\\nRelaunch My App or allow permissions\" +\n                                    \" in Applications Settings\",\n                            Toast.LENGTH_LONG).show();\n                    finish();\n                }\n            }\n        }\n        break;\n        default:\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    }\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550447443919,
        "id": "499a7971-e156-4608-85f7-c160fab57673",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550447443919,
        "parent_id": "97b6ff64-ecff-4431-8db0-03b562762065",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "More Information https://inthecheesefactory.com/blog/things-you-need-to-know-about-android-m-permission-developer-edition/en"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "More Information https://inthecheesefactory.com/blog/things-you-need-to-know-about-android-m-permission-developer-edition/en"
          }
        ]
      }
    ],
    "title": "020 Multiple Runtime Permissions From Same Permission Groups"
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 18
    }
  ],
  "Tables": null
}