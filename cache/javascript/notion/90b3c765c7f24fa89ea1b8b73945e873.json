{
  "ID": "90b3c765-c7f2-4fa8-9ea1-b8b73945e873",
  "Root": {
    "alive": true,
    "content": [
      "99ba5ea5-a9d2-4409-8a8e-9cd9d294e915",
      "7a4524f5-d3e3-4276-8811-d2d595db98da",
      "7ce4cadd-752d-4e65-b47f-57445f84ef67",
      "588347f0-92f1-4734-a93b-454b38f2db41",
      "d80d3615-6c04-4eac-8680-2b089681a9ba",
      "00bf55d1-d119-4c46-8efb-1f90a7583ad6",
      "261707a8-e506-4308-9c76-c2096e13bc52",
      "66c44788-a837-45a6-b4cf-9c22e779486a",
      "0a2acf84-3b71-47b2-9971-466e15f131fe",
      "bf76210f-2499-4fe3-bc79-39db26e355e6",
      "d10cc37e-27ac-4c19-a592-caf7563bc0a9",
      "6610845d-8ffb-44cb-8468-56f0ae58b543",
      "7d76d961-2337-446e-a1a9-ca6f53a548b3",
      "d63a26b8-31d7-4741-b088-ecf2722981e2",
      "98940b7b-95bf-4e82-9b6c-dc1cbc44330f",
      "6320326d-1cf7-4fc5-a920-62dfb308f88b",
      "b3db03bc-3dad-498e-9416-75caa47e0af0",
      "a47f1117-a636-4ebb-8040-ea71eaae79e6"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1550717343239,
    "format": {
      "page_full_width": true,
      "page_small_text": true
    },
    "id": "90b3c765-c7f2-4fa8-9ea1-b8b73945e873",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1551684065743,
    "parent_id": "445950ca-50ee-4bba-bc24-3257c936402f",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "Evaled JSON injection"
        ]
      ]
    },
    "type": "page",
    "version": 6,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550717343232,
        "id": "99ba5ea5-a9d2-4409-8a8e-9cd9d294e915",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550717343232,
        "parent_id": "90b3c765-c7f2-4fa8-9ea1-b8b73945e873",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Let’s say that whenever someone visits a profile page in Bob’s website, the following URL is fetched:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Let’s say that whenever someone visits a profile page in Bob’s website, the following URL is fetched:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550717343235,
        "id": "7a4524f5-d3e3-4276-8811-d2d595db98da",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550717343235,
        "parent_id": "90b3c765-c7f2-4fa8-9ea1-b8b73945e873",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "https://example.com/api/users/1234/profiledata.json"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "https://example.com/api/users/1234/profiledata.json",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550717343235,
        "id": "7ce4cadd-752d-4e65-b47f-57445f84ef67",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550717343235,
        "parent_id": "90b3c765-c7f2-4fa8-9ea1-b8b73945e873",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "With a response like this:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "With a response like this:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550717343235,
        "id": "588347f0-92f1-4734-a93b-454b38f2db41",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550717343235,
        "parent_id": "90b3c765-c7f2-4fa8-9ea1-b8b73945e873",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "{\n    \"name\": \"Bob\",\n    \"description\": \"Likes pie \u0026 security holes.\"\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "{\n    \"name\": \"Bob\",\n    \"description\": \"Likes pie \u0026 security holes.\"\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550717343235,
        "id": "d80d3615-6c04-4eac-8680-2b089681a9ba",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550717343235,
        "parent_id": "90b3c765-c7f2-4fa8-9ea1-b8b73945e873",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Than that data is parsed \u0026 inserted:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Than that data is parsed \u0026 inserted:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550717343235,
        "id": "00bf55d1-d119-4c46-8efb-1f90a7583ad6",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550717343235,
        "parent_id": "90b3c765-c7f2-4fa8-9ea1-b8b73945e873",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "var data = eval(\"(\" + resp + \")\");\ndocument.getElementById(\"#name\").innerText = data.name;\ndocument.getElementById(\"#description\").innerText = data.description;"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "var data = eval(\"(\" + resp + \")\");\ndocument.getElementById(\"#name\").innerText = data.name;\ndocument.getElementById(\"#description\").innerText = data.description;",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550717343235,
        "id": "261707a8-e506-4308-9c76-c2096e13bc52",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550717343235,
        "parent_id": "90b3c765-c7f2-4fa8-9ea1-b8b73945e873",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Seems good, right? "
            ],
            [
              "Wrong.",
              [
                [
                  "b"
                ]
              ]
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Seems good, right? "
          },
          {
            "Text": "Wrong.",
            "AttrFlags": 1
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550717343235,
        "id": "66c44788-a837-45a6-b4cf-9c22e779486a",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550717343235,
        "parent_id": "90b3c765-c7f2-4fa8-9ea1-b8b73945e873",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "What if someone’s description is "
            ],
            [
              "Likes XSS.\"});alert(1);({\"name\":\"Alice\",\"description\":\"Likes XSS.",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "? Seems weird, but if poorly done, the response will be:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "What if someone’s description is "
          },
          {
            "Text": "Likes XSS.\"});alert(1);({\"name\":\"Alice\",\"description\":\"Likes XSS.",
            "AttrFlags": 2
          },
          {
            "Text": "? Seems weird, but if poorly done, the response will be:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550717343236,
        "id": "0a2acf84-3b71-47b2-9971-466e15f131fe",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550717343236,
        "parent_id": "90b3c765-c7f2-4fa8-9ea1-b8b73945e873",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "{\n    \"name\": \"Alice\",\n    \"description\": \"Likes pie \u0026 security holes.\"});alert(1);({\"name\":\"Alice\",\"description\":\"Likes XSS.\"\n}"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "{\n    \"name\": \"Alice\",\n    \"description\": \"Likes pie \u0026 security holes.\"});alert(1);({\"name\":\"Alice\",\"description\":\"Likes XSS.\"\n}",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550717343236,
        "id": "bf76210f-2499-4fe3-bc79-39db26e355e6",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550717343236,
        "parent_id": "90b3c765-c7f2-4fa8-9ea1-b8b73945e873",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "And this will be "
            ],
            [
              "eval",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              "ed:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "And this will be "
          },
          {
            "Text": "eval",
            "AttrFlags": 2
          },
          {
            "Text": "ed:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550717343236,
        "id": "d10cc37e-27ac-4c19-a592-caf7563bc0a9",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550717343236,
        "parent_id": "90b3c765-c7f2-4fa8-9ea1-b8b73945e873",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "({\n    \"name\": \"Alice\",\n    \"description\": \"Likes pie \u0026 security holes.\"});alert(1);({\"name\":\"Alice\",\"description\":\"Likes XSS.\"\n})"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "({\n    \"name\": \"Alice\",\n    \"description\": \"Likes pie \u0026 security holes.\"});alert(1);({\"name\":\"Alice\",\"description\":\"Likes XSS.\"\n})",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550717343236,
        "id": "6610845d-8ffb-44cb-8468-56f0ae58b543",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550717343236,
        "parent_id": "90b3c765-c7f2-4fa8-9ea1-b8b73945e873",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "If you don’t think that’s a problem, paste that in your console and see what happens."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "If you don’t think that’s a problem, paste that in your console and see what happens."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550717343236,
        "id": "7d76d961-2337-446e-a1a9-ca6f53a548b3",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550717343236,
        "parent_id": "90b3c765-c7f2-4fa8-9ea1-b8b73945e873",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Mitagation"
            ]
          ]
        },
        "type": "header",
        "version": 1,
        "inline_content": [
          {
            "Text": "Mitagation"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550717343239,
        "id": "d63a26b8-31d7-4741-b088-ecf2722981e2",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550717343239,
        "parent_id": "90b3c765-c7f2-4fa8-9ea1-b8b73945e873",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Use ",
              [
                [
                  "b"
                ]
              ]
            ],
            [
              "JSON.parse",
              [
                [
                  "b"
                ],
                [
                  "a",
                  "https://stackoverflow.com/documentation/javascript/416/json#t=201707101131536405225\u0026a=parameters"
                ]
              ]
            ],
            [
              " instead of eval to get JSON.",
              [
                [
                  "b"
                ]
              ]
            ],
            [
              " In general, don’t use eval, and definitely don’t use eval with something a user could control. Eval "
            ],
            [
              "creates a new execution context",
              [
                [
                  "a",
                  "http://dmitrysoshnikov.com/ecmascript/chapter-1-execution-contexts/"
                ]
              ]
            ],
            [
              ", creating a "
            ],
            [
              "performance hit",
              [
                [
                  "b"
                ]
              ]
            ],
            [
              "."
            ]
          ]
        },
        "type": "bulleted_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "Use ",
            "AttrFlags": 1
          },
          {
            "Text": "JSON.parse",
            "AttrFlags": 1,
            "Link": "https://stackoverflow.com/documentation/javascript/416/json#t=201707101131536405225\u0026a=parameters"
          },
          {
            "Text": " instead of eval to get JSON.",
            "AttrFlags": 1
          },
          {
            "Text": " In general, don’t use eval, and definitely don’t use eval with something a user could control. Eval "
          },
          {
            "Text": "creates a new execution context",
            "Link": "http://dmitrysoshnikov.com/ecmascript/chapter-1-execution-contexts/"
          },
          {
            "Text": ", creating a "
          },
          {
            "Text": "performance hit",
            "AttrFlags": 1
          },
          {
            "Text": "."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550717343239,
        "id": "98940b7b-95bf-4e82-9b6c-dc1cbc44330f",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550717343239,
        "parent_id": "90b3c765-c7f2-4fa8-9ea1-b8b73945e873",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Properly escape "
            ],
            [
              "\"",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " and "
            ],
            [
              "\\\\",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " in user data before putting it in JSON. If you just escape the "
            ],
            [
              "\"",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              ", than this will happen:"
            ]
          ]
        },
        "type": "bulleted_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "Properly escape "
          },
          {
            "Text": "\"",
            "AttrFlags": 2
          },
          {
            "Text": " and "
          },
          {
            "Text": "\\\\",
            "AttrFlags": 2
          },
          {
            "Text": " in user data before putting it in JSON. If you just escape the "
          },
          {
            "Text": "\"",
            "AttrFlags": 2
          },
          {
            "Text": ", than this will happen:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550717343239,
        "id": "6320326d-1cf7-4fc5-a920-62dfb308f88b",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550717343239,
        "parent_id": "90b3c765-c7f2-4fa8-9ea1-b8b73945e873",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "Hello! \\\"});alert(1);({"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "Hello! \\\"});alert(1);({",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550717343239,
        "id": "b3db03bc-3dad-498e-9416-75caa47e0af0",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550717343239,
        "parent_id": "90b3c765-c7f2-4fa8-9ea1-b8b73945e873",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Will be converted to:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Will be converted to:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550717343239,
        "id": "a47f1117-a636-4ebb-8040-ea71eaae79e6",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550717343239,
        "parent_id": "90b3c765-c7f2-4fa8-9ea1-b8b73945e873",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "\"Hello! \\\\\"});alert(1);({\"\nOops. Remember to escape both the `\\` and `\"`, or just use JSON.parse."
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "\"Hello! \\\\\"});alert(1);({\"\nOops. Remember to escape both the `\\` and `\"`, or just use JSON.parse.",
        "code_language": "Plain Text"
      }
    ],
    "title": "Evaled JSON injection",
    "format_page": {
      "page_cover": "",
      "page_cover_position": 0,
      "page_font": "",
      "page_full_width": true,
      "page_icon": "",
      "page_small_text": true
    }
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 19
    }
  ],
  "Tables": null
}