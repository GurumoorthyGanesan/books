{
  "ID": "c2fd7046-e71c-441d-9bd0-0b0c9aaec7cc",
  "Root": {
    "alive": true,
    "content": [
      "f2b1e523-19c3-4f21-9a73-60e9c4a1462f",
      "efecbbc6-35e3-4485-852d-94606e5c76cc",
      "63a22c6b-f0d3-46ca-b5b3-77a2082aba81",
      "db900ccb-7458-4c00-9023-44fb1ffe1390",
      "2ff7a91c-1e7d-47d8-a921-f78cbaee1e09",
      "d6f4757e-f396-446e-a36d-0dbd09d26b23",
      "f05821ed-1fb0-4a74-8246-21d2a6a6c295",
      "408bef2f-7ac1-40d9-86f5-6b7430cf7aa5",
      "d944a844-d0ae-48f5-9a3b-1fa62bde1be8",
      "6a188f68-3e99-49ed-a736-0840c7523bb2",
      "2c032e9f-5120-459e-9b4c-a892f6907f8e",
      "02cad89f-38f5-41ba-b25a-b109a9e9e51b",
      "0aeba672-8f31-4c02-9161-0736abfacf6b",
      "50e7e64e-c7f8-4490-89c9-6fd67a359968",
      "8758cdb5-6136-43e4-91e3-e8d29a195b18"
    ],
    "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "created_time": 1550523924748,
    "format": {
      "page_full_width": true,
      "page_small_text": true
    },
    "id": "c2fd7046-e71c-441d-9bd0-0b0c9aaec7cc",
    "ignore_block_count": true,
    "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
    "last_edited_time": 1551688323089,
    "parent_id": "a0e8b380-dc71-4c5e-9564-5a6a96d413b0",
    "parent_table": "block",
    "properties": {
      "title": [
        [
          "Profiling CPU Usage with gcc and Google Perf Tools"
        ]
      ]
    },
    "type": "page",
    "version": 4,
    "content_resolved": [
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550523924744,
        "id": "f2b1e523-19c3-4f21-9a73-60e9c4a1462f",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550523924744,
        "parent_id": "c2fd7046-e71c-441d-9bd0-0b0c9aaec7cc",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Google Perf Tools",
              [
                [
                  "a",
                  "https://github.com/gperftools/gperftools"
                ]
              ]
            ],
            [
              " also provides a CPU profiler, with a slightly friendlier interface. To use it:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Google Perf Tools",
            "Link": "https://github.com/gperftools/gperftools"
          },
          {
            "Text": " also provides a CPU profiler, with a slightly friendlier interface. To use it:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550523924745,
        "id": "efecbbc6-35e3-4485-852d-94606e5c76cc",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550523924745,
        "parent_id": "c2fd7046-e71c-441d-9bd0-0b0c9aaec7cc",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Install Google Perf Tools",
              [
                [
                  "a",
                  "https://github.com/gperftools/gperftools"
                ]
              ]
            ]
          ]
        },
        "type": "numbered_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "Install Google Perf Tools",
            "Link": "https://github.com/gperftools/gperftools"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550523924746,
        "id": "63a22c6b-f0d3-46ca-b5b3-77a2082aba81",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550523924746,
        "parent_id": "c2fd7046-e71c-441d-9bd0-0b0c9aaec7cc",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Compile your code as usual"
            ]
          ]
        },
        "type": "numbered_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "Compile your code as usual"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550523924746,
        "id": "db900ccb-7458-4c00-9023-44fb1ffe1390",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550523924746,
        "parent_id": "c2fd7046-e71c-441d-9bd0-0b0c9aaec7cc",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Add the "
            ],
            [
              "libprofiler",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " profiler library to your library load path at runtime"
            ]
          ]
        },
        "type": "numbered_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "Add the "
          },
          {
            "Text": "libprofiler",
            "AttrFlags": 2
          },
          {
            "Text": " profiler library to your library load path at runtime"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550523924746,
        "id": "2ff7a91c-1e7d-47d8-a921-f78cbaee1e09",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550523924746,
        "parent_id": "c2fd7046-e71c-441d-9bd0-0b0c9aaec7cc",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Use "
            ],
            [
              "pprof",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " to generate a flat execution profile, or a callgraph diagram"
            ]
          ]
        },
        "type": "numbered_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "Use "
          },
          {
            "Text": "pprof",
            "AttrFlags": 2
          },
          {
            "Text": " to generate a flat execution profile, or a callgraph diagram"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550523924746,
        "id": "d6f4757e-f396-446e-a36d-0dbd09d26b23",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550523924746,
        "parent_id": "c2fd7046-e71c-441d-9bd0-0b0c9aaec7cc",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "For example:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "For example:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550523924746,
        "id": "f05821ed-1fb0-4a74-8246-21d2a6a6c295",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550523924746,
        "parent_id": "c2fd7046-e71c-441d-9bd0-0b0c9aaec7cc",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "# compile code\ng++ -O3 -std=c++11 main.cpp -o main\n\n# run with profiler\nLD_PRELOAD=/usr/local/lib/libprofiler.so CPUPROFILE=main.prof CPUPROFILE_FREQUENCY=100000 ./main"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "# compile code\ng++ -O3 -std=c++11 main.cpp -o main\n\n# run with profiler\nLD_PRELOAD=/usr/local/lib/libprofiler.so CPUPROFILE=main.prof CPUPROFILE_FREQUENCY=100000 ./main",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550523924747,
        "id": "408bef2f-7ac1-40d9-86f5-6b7430cf7aa5",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550523924747,
        "parent_id": "c2fd7046-e71c-441d-9bd0-0b0c9aaec7cc",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "where:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "where:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550523924747,
        "id": "d944a844-d0ae-48f5-9a3b-1fa62bde1be8",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550523924747,
        "parent_id": "c2fd7046-e71c-441d-9bd0-0b0c9aaec7cc",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "CPUPROFILE",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " indicates the output file for profiling data"
            ]
          ]
        },
        "type": "bulleted_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "CPUPROFILE",
            "AttrFlags": 2
          },
          {
            "Text": " indicates the output file for profiling data"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550523924747,
        "id": "6a188f68-3e99-49ed-a736-0840c7523bb2",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550523924747,
        "parent_id": "c2fd7046-e71c-441d-9bd0-0b0c9aaec7cc",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "CPUPROFILE_FREQUENCY",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " indicates the profiler sampling frequency;"
            ]
          ]
        },
        "type": "bulleted_list",
        "version": 1,
        "inline_content": [
          {
            "Text": "CPUPROFILE_FREQUENCY",
            "AttrFlags": 2
          },
          {
            "Text": " indicates the profiler sampling frequency;"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550523924747,
        "id": "2c032e9f-5120-459e-9b4c-a892f6907f8e",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550523924747,
        "parent_id": "c2fd7046-e71c-441d-9bd0-0b0c9aaec7cc",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "Use "
            ],
            [
              "pprof",
              [
                [
                  "c"
                ]
              ]
            ],
            [
              " to post-process the profiling data."
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "Use "
          },
          {
            "Text": "pprof",
            "AttrFlags": 2
          },
          {
            "Text": " to post-process the profiling data."
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550523924747,
        "id": "02cad89f-38f5-41ba-b25a-b109a9e9e51b",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550523924747,
        "parent_id": "c2fd7046-e71c-441d-9bd0-0b0c9aaec7cc",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "You can generate a flat call profile as text:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "You can generate a flat call profile as text:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550523924747,
        "id": "0aeba672-8f31-4c02-9161-0736abfacf6b",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550523924747,
        "parent_id": "c2fd7046-e71c-441d-9bd0-0b0c9aaec7cc",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "$ pprof --text ./main main.prof\nPROFILE: interrupts/evictions/bytes = 67/15/2016\npprof --text --lines ./main main.prof\nUsing local file ./main.\nUsing local file main.prof.\nTotal: 67 samples\n      22  32.8%  32.8%       67 100.0% longRunningFoo ??:0\n      20  29.9%  62.7%       20  29.9% __memmove_ssse3_back /build/eglibc-3GlaMS/eglibc-2.19/string/../sysdeps/x86_64/multiarch/memcpy-ssse3-back.S:1627\n       4   6.0%  68.7%        4   6.0% __memmove_ssse3_back /build/eglibc-3GlaMS/eglibc-2.19/string/../sysdeps/x86_64/multiarch/memcpy-ssse3-back.S:1619\n       3   4.5%  73.1%        3   4.5% __random_r /build/eglibc-3GlaMS/eglibc-2.19/stdlib/random_r.c:388\n       3   4.5%  77.6%        3   4.5% __random_r /build/eglibc-3GlaMS/eglibc-2.19/stdlib/random_r.c:401\n       2   3.0%  80.6%        2   3.0% __munmap /build/eglibc-3GlaMS/eglibc-2.19/misc/../sysdeps/unix/syscall-template.S:81\n       2   3.0%  83.6%       12  17.9% __random /build/eglibc-3GlaMS/eglibc-2.19/stdlib/random.c:298\n       2   3.0%  86.6%        2   3.0% __random_r /build/eglibc-3GlaMS/eglibc-2.19/stdlib/random_r.c:385\n       2   3.0%  89.6%        2   3.0% rand /build/eglibc-3GlaMS/eglibc-2.19/stdlib/rand.c:26\n       1   1.5%  91.0%        1   1.5% __memmove_ssse3_back /build/eglibc-3GlaMS/eglibc-2.19/string/../sysdeps/x86_64/multiarch/memcpy-ssse3-back.S:1617\n       1   1.5%  92.5%        1   1.5% __memmove_ssse3_back /build/eglibc-3GlaMS/eglibc-2.19/string/../sysdeps/x86_64/multiarch/memcpy-ssse3-back.S:1623\n       1   1.5%  94.0%        1   1.5% __random /build/eglibc-3GlaMS/eglibc-2.19/stdlib/random.c:293\n       1   1.5%  95.5%        1   1.5% __random /build/eglibc-3GlaMS/eglibc-2.19/stdlib/random.c:296\n       1   1.5%  97.0%        1   1.5% __random_r /build/eglibc-3GlaMS/eglibc-2.19/stdlib/random_r.c:371\n       1   1.5%  98.5%        1   1.5% __random_r /build/eglibc-3GlaMS/eglibc-2.19/stdlib/random_r.c:381\n       1   1.5% 100.0%        1   1.5% rand /build/eglibc-3GlaMS/eglibc-2.19/stdlib/rand.c:28\n       0   0.0% 100.0%       67 100.0% __libc_start_main /build/eglibc-3GlaMS/eglibc-2.19/csu/libc-start.c:287\n       0   0.0% 100.0%       67 100.0% _start ??:0\n       0   0.0% 100.0%       67 100.0% main ??:0\n       0   0.0% 100.0%       14  20.9% rand /build/eglibc-3GlaMS/eglibc-2.19/stdlib/rand.c:27\n       0   0.0% 100.0%       27  40.3% std::vector::_M_emplace_back_aux ??:0"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "$ pprof --text ./main main.prof\nPROFILE: interrupts/evictions/bytes = 67/15/2016\npprof --text --lines ./main main.prof\nUsing local file ./main.\nUsing local file main.prof.\nTotal: 67 samples\n      22  32.8%  32.8%       67 100.0% longRunningFoo ??:0\n      20  29.9%  62.7%       20  29.9% __memmove_ssse3_back /build/eglibc-3GlaMS/eglibc-2.19/string/../sysdeps/x86_64/multiarch/memcpy-ssse3-back.S:1627\n       4   6.0%  68.7%        4   6.0% __memmove_ssse3_back /build/eglibc-3GlaMS/eglibc-2.19/string/../sysdeps/x86_64/multiarch/memcpy-ssse3-back.S:1619\n       3   4.5%  73.1%        3   4.5% __random_r /build/eglibc-3GlaMS/eglibc-2.19/stdlib/random_r.c:388\n       3   4.5%  77.6%        3   4.5% __random_r /build/eglibc-3GlaMS/eglibc-2.19/stdlib/random_r.c:401\n       2   3.0%  80.6%        2   3.0% __munmap /build/eglibc-3GlaMS/eglibc-2.19/misc/../sysdeps/unix/syscall-template.S:81\n       2   3.0%  83.6%       12  17.9% __random /build/eglibc-3GlaMS/eglibc-2.19/stdlib/random.c:298\n       2   3.0%  86.6%        2   3.0% __random_r /build/eglibc-3GlaMS/eglibc-2.19/stdlib/random_r.c:385\n       2   3.0%  89.6%        2   3.0% rand /build/eglibc-3GlaMS/eglibc-2.19/stdlib/rand.c:26\n       1   1.5%  91.0%        1   1.5% __memmove_ssse3_back /build/eglibc-3GlaMS/eglibc-2.19/string/../sysdeps/x86_64/multiarch/memcpy-ssse3-back.S:1617\n       1   1.5%  92.5%        1   1.5% __memmove_ssse3_back /build/eglibc-3GlaMS/eglibc-2.19/string/../sysdeps/x86_64/multiarch/memcpy-ssse3-back.S:1623\n       1   1.5%  94.0%        1   1.5% __random /build/eglibc-3GlaMS/eglibc-2.19/stdlib/random.c:293\n       1   1.5%  95.5%        1   1.5% __random /build/eglibc-3GlaMS/eglibc-2.19/stdlib/random.c:296\n       1   1.5%  97.0%        1   1.5% __random_r /build/eglibc-3GlaMS/eglibc-2.19/stdlib/random_r.c:371\n       1   1.5%  98.5%        1   1.5% __random_r /build/eglibc-3GlaMS/eglibc-2.19/stdlib/random_r.c:381\n       1   1.5% 100.0%        1   1.5% rand /build/eglibc-3GlaMS/eglibc-2.19/stdlib/rand.c:28\n       0   0.0% 100.0%       67 100.0% __libc_start_main /build/eglibc-3GlaMS/eglibc-2.19/csu/libc-start.c:287\n       0   0.0% 100.0%       67 100.0% _start ??:0\n       0   0.0% 100.0%       67 100.0% main ??:0\n       0   0.0% 100.0%       14  20.9% rand /build/eglibc-3GlaMS/eglibc-2.19/stdlib/rand.c:27\n       0   0.0% 100.0%       27  40.3% std::vector::_M_emplace_back_aux ??:0",
        "code_language": "Plain Text"
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550523924748,
        "id": "50e7e64e-c7f8-4490-89c9-6fd67a359968",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550523924748,
        "parent_id": "c2fd7046-e71c-441d-9bd0-0b0c9aaec7cc",
        "parent_table": "block",
        "properties": {
          "title": [
            [
              "… or you can generate an annotated callgraph in a pdf with:"
            ]
          ]
        },
        "type": "text",
        "version": 1,
        "inline_content": [
          {
            "Text": "… or you can generate an annotated callgraph in a pdf with:"
          }
        ]
      },
      {
        "alive": true,
        "created_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "created_time": 1550523924748,
        "id": "8758cdb5-6136-43e4-91e3-e8d29a195b18",
        "ignore_block_count": true,
        "last_edited_by": "bb760e2d-d679-4b64-b2a9-03005b21870a",
        "last_edited_time": 1550523924748,
        "parent_id": "c2fd7046-e71c-441d-9bd0-0b0c9aaec7cc",
        "parent_table": "block",
        "properties": {
          "language": [
            [
              "Plain Text"
            ]
          ],
          "title": [
            [
              "pprof --pdf ./main main.prof \u003e out.pdf"
            ]
          ]
        },
        "type": "code",
        "version": 1,
        "code": "pprof --pdf ./main main.prof \u003e out.pdf",
        "code_language": "Plain Text"
      }
    ],
    "title": "Profiling CPU Usage with gcc and Google Perf Tools",
    "format_page": {
      "page_cover": "",
      "page_cover_position": 0,
      "page_font": "",
      "page_full_width": true,
      "page_icon": "",
      "page_small_text": true
    }
  },
  "Users": [
    {
      "email": "kkowalczyk@gmail.com",
      "family_name": "Kowalczyk",
      "given_name": "Krzysztof",
      "id": "bb760e2d-d679-4b64-b2a9-03005b21870a",
      "locale": "en",
      "mobile_onboarding_completed": true,
      "onboarding_completed": true,
      "profile_photo": "https://s3-us-west-2.amazonaws.com/public.notion-static.com/2dcaa66c-7674-4ff6-9924-601785b63561/head-bw-640x960.png",
      "time_zone": "America/Los_Angeles",
      "version": 19
    }
  ],
  "Tables": null
}